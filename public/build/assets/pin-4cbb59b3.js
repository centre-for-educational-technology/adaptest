import{x as ee,d as Wt,A as ne,p as se,_ as ai,B as we,m as Fi,y as Pe,C as Zc,D as di,k as ds,E as Vo,q as Hr,G as Ko,H as Rc,I as Dc,J as Fc,L as qc}from"./app-e93abedb.js";function Wc(t,i){for(var n=0;n<i.length;n++){const o=i[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in t)){const h=Object.getOwnPropertyDescriptor(o,a);h&&Object.defineProperty(t,a,h.get?h:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const Gr=(t,i)=>{for(const n of Object.keys(i))t.on(n,i[n])},bh=t=>{for(const i of Object.keys(t)){const n=t[i];n&&Ki(n.cancel)&&n.cancel()}},Hc=t=>!t||typeof t.charAt!="function"?t:t.charAt(0).toUpperCase()+t.slice(1),Ki=t=>typeof t=="function",oe=(t,i,n)=>{for(const o in n){const a="set"+Hc(o);t[a]?Hr(()=>n[o],(h,u)=>{t[a](h,u)}):i[a]&&Hr(()=>n[o],h=>{i[a](h)})}},qi=(t,i,n={})=>{const o={...n};for(const a in t){const h=i[a],u=t[a];h&&(h&&h.custom===!0||u!==void 0&&(o[a]=u))}return o},be=t=>{const i={},n={};for(const o in t)if(o.startsWith("on")&&!o.startsWith("onUpdate")&&o!=="onReady"){const a=o.slice(2).toLocaleLowerCase();i[a]=t[o]}else n[o]=t[o];return{listeners:i,attrs:n}},Gc=async t=>{const i=await Promise.all([ai(()=>import("./marker-icon-2x-9a28b8dd.js"),[]),ai(()=>import("./marker-icon-dcc39de6.js"),[]),ai(()=>import("./marker-shadow-a3e17d65.js"),[])]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:i[0].default,iconUrl:i[1].default,shadowUrl:i[2].default})},_s=t=>{const i=Wt((...o)=>console.warn(`Method ${t} has been invoked without being replaced`)),n=(...o)=>i.value(...o);return n.wrapped=i,di(t,n),n},ms=(t,i)=>t.wrapped.value=i,Si=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,ri=t=>{const i=ne(t);if(i===void 0)throw new Error(`Attempt to inject ${t.description} before it was provided.`);return i},ae=Symbol("useGlobalLeaflet"),Le=Symbol("addLayer"),Xo=Symbol("removeLayer"),Lh=Symbol("registerControl"),jc=Symbol("registerLayerControl"),Th=Symbol("canSetParentHtml"),Sh=Symbol("setParentHtml"),Ch=Symbol("setIcon"),Eh=Symbol("bindPopup"),Uc=Symbol("bindTooltip"),Oh=Symbol("unbindPopup"),$c=Symbol("unbindTooltip"),kn={options:{type:Object,default:()=>({}),custom:!0}},Bn=t=>({options:t.options,methods:{}}),Xe={...kn,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},Jo=(t,i,n)=>{const o=ri(Le),a=ri(Xo),{options:h,methods:u}=Bn(t),c=qi(t,Xe,h),d=()=>o({leafletObject:i.value}),_=()=>a({leafletObject:i.value}),v={...u,setAttribution(p){_(),i.value.options.attribution=p,t.visible&&d()},setName(){_(),t.visible&&d()},setLayerType(){_(),t.visible&&d()},setVisible(p){i.value&&(p?d():_())},bindPopup(p){if(!i.value||!Ki(i.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}i.value.bindPopup(p)},bindTooltip(p){if(!i.value||!Ki(i.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}i.value.bindTooltip(p)},unbindTooltip(){i.value&&(Ki(i.value.closeTooltip)&&i.value.closeTooltip(),Ki(i.value.unbindTooltip)&&i.value.unbindTooltip())},unbindPopup(){i.value&&(Ki(i.value.closePopup)&&i.value.closePopup(),Ki(i.value.unbindPopup)&&i.value.unbindPopup())},updateVisibleProp(p){n.emit("update:visible",p)}};return di(Eh,v.bindPopup),di(Uc,v.bindTooltip),di(Oh,v.unbindPopup),di($c,v.unbindTooltip),Ko(()=>{v.unbindPopup(),v.unbindTooltip(),_()}),{options:c,methods:v}},Ah=(t,i)=>{if(t&&i.default)return Pe("div",{style:{display:"none"}},i.default())},Vc={...Xe,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},zh={...Vc,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},Kc={...zh,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...Kc});const Je={...kn,position:{type:String}},Xc=(t,i)=>{const{options:n,methods:o}=Bn(t),a=qi(t,Je,n),h={...o,setPosition(u){i.value&&i.value.setPosition(u)}};return Ko(()=>{i.value&&i.value.remove()}),{options:a,methods:h}},Jc=t=>t.default?Pe("div",{ref:"root"},t.default()):null;ee({name:"LControl",props:{...Je,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(t,i){const n=Wt(),o=Wt(),a=ne(ae),h=ri(Lh),{options:u,methods:c}=Xc(t,n);return se(async()=>{const{Control:d,DomEvent:_}=a?Si.L:await ai(()=>Promise.resolve().then(()=>re),void 0),v=d.extend({onAdd(){return o.value}});n.value=we(new v(u)),oe(c,n.value,t),h({leafletObject:n.value}),t.disableClickPropagation&&o.value&&_.disableClickPropagation(o.value),t.disableScrollPropagation&&o.value&&_.disableScrollPropagation(o.value),Fi(()=>i.emit("ready",n.value))}),{root:o,leafletObject:n}},render(){return Jc(this.$slots)}});({...Je});({...Je});({...Je});({...Je});const Yo={...Xe},Yc=(t,i,n)=>{const{options:o,methods:a}=Jo(t,i,n),h=qi(t,Yo,o),u={...a,addLayer(c){i.value.addLayer(c.leafletObject)},removeLayer(c){i.value.removeLayer(c.leafletObject)}};return di(Le,u.addLayer),di(Xo,u.removeLayer),{options:h,methods:u}};({...Yo});const Ih={...Yo,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}},Qc=(t,i,n)=>{const{options:o,methods:a}=Yc(t,i,n),h=qi(t,Ih,o);Object.prototype.hasOwnProperty.call(t,"optionsStyle")&&(h.style=t.optionsStyle);const u={...a,setGeojson(c){i.value.clearLayers(),i.value.addData(c)},setOptionsStyle(c){i.value.setStyle(c)},getGeoJSONData(){return i.value.toGeoJSON()},getBounds(){return i.value.getBounds()}};return{options:h,methods:u}},pg=ee({props:Ih,setup(t,i){const n=Wt(),o=Wt(!1),a=ne(ae),h=ri(Le),{methods:u,options:c}=Qc(t,n,i);return se(async()=>{const{geoJSON:d}=a?Si.L:await ai(()=>Promise.resolve().then(()=>re),void 0);n.value=we(d(t.geojson,c));const{listeners:_}=be(i.attrs);n.value.on(_),oe(u,n.value,t),h({...t,...u,leafletObject:n.value}),o.value=!0,Fi(()=>i.emit("ready",n.value))}),{ready:o,leafletObject:n}},render(){return Ah(this.ready,this.$slots)}}),Qo={...Xe,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},kh=(t,i,n)=>{const{options:o,methods:a}=Jo(t,i,n),h=qi(t,Qo,o),u={...a,setTileComponent(){var c;(c=i.value)==null||c.redraw()}};return Ko(()=>{i.value.off()}),{options:h,methods:u}},tf=(t,i,n,o)=>t.extend({initialize(a){this.tileComponents={},this.on("tileunload",this._unloadTile),n.setOptions(this,a)},createTile(a){const h=this._tileCoordsToKey(a);this.tileComponents[h]=i.create("div");const u=Pe({setup:o,props:["coords"]},{coords:a});return Rc(u,this.tileComponents[h]),this.tileComponents[h]},_unloadTile(a){const h=this._tileCoordsToKey(a.coords);this.tileComponents[h]&&(this.tileComponents[h].innerHTML="",this.tileComponents[h]=void 0)}});ee({props:{...Qo,childRender:{type:Function,required:!0}},setup(t,i){const n=Wt(),o=Wt(null),a=Wt(!1),h=ne(ae),u=ri(Le),{options:c,methods:d}=kh(t,n,i);return se(async()=>{const{GridLayer:_,DomUtil:v,Util:p}=h?Si.L:await ai(()=>Promise.resolve().then(()=>re),void 0),y=tf(_,v,p,t.childRender);n.value=we(new y(c));const{listeners:M}=be(i.attrs);n.value.on(M),oe(d,n.value,t),u({...t,...d,leafletObject:n.value}),a.value=!0,Fi(()=>i.emit("ready",n.value))}),{root:o,ready:a,leafletObject:n}},render(){return this.ready?Pe("div",{style:{display:"none"},ref:"root"}):null}});const jr={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};ee({name:"LIcon",props:{...jr,...kn},setup(t,i){const n=Wt(),o=ne(ae),a=ri(Th),h=ri(Sh),u=ri(Ch);let c,d,_,v,p;const y=(T,E,I)=>{const k=T&&T.innerHTML;if(!E){I&&p&&a()&&h(k);return}const{listeners:K}=be(i.attrs);p&&d(p,K);const{options:G}=Bn(t),F=qi(t,jr,G);k&&(F.html=k),p=F.html?_(F):v(F),c(p,K),u(p)},M=()=>{Fi(()=>y(n.value,!0,!1))},P=()=>{Fi(()=>y(n.value,!1,!0))},b={setIconUrl:M,setIconRetinaUrl:M,setIconSize:M,setIconAnchor:M,setPopupAnchor:M,setTooltipAnchor:M,setShadowUrl:M,setShadowRetinaUrl:M,setShadowAnchor:M,setBgPos:M,setClassName:M,setHtml:M};return se(async()=>{const{DomEvent:T,divIcon:E,icon:I}=o?Si.L:await ai(()=>Promise.resolve().then(()=>re),void 0);c=T.on,d=T.off,_=E,v=I,oe(b,{},t),new MutationObserver(P).observe(n.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),M()}),{root:n}},render(){const t=this.$slots.default?this.$slots.default():void 0;return Pe("div",{ref:"root"},t)}});({...Xe});function Bh(t,i,n){var o,a,h;i===void 0&&(i=50),n===void 0&&(n={});var u=(o=n.isImmediate)!=null&&o,c=(a=n.callback)!=null&&a,d=n.maxWait,_=Date.now(),v=[];function p(){if(d!==void 0){var M=Date.now()-_;if(M+i>=d)return d-M}return i}var y=function(){var M=[].slice.call(arguments),P=this;return new Promise(function(b,T){var E=u&&h===void 0;if(h!==void 0&&clearTimeout(h),h=setTimeout(function(){if(h=void 0,_=Date.now(),!u){var k=t.apply(P,M);c&&c(k),v.forEach(function(K){return(0,K.resolve)(k)}),v=[]}},p()),E){var I=t.apply(P,M);return c&&c(I),b(I)}v.push({resolve:b,reject:T})})};return y.cancel=function(M){h!==void 0&&clearTimeout(h),v.forEach(function(P){return(0,P.reject)(M)}),v=[]},y}const Ur={...kn,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},vg=ee({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:Ur,setup(t,i){const n=Wt(),o=Zc({ready:!1,layersToAdd:[],layersInControl:[]}),{options:a}=Bn(t),h=qi(t,Ur,a),{listeners:u,attrs:c}=be(i.attrs),d=_s(Le),_=_s(Xo),v=_s(Lh),p=_s(jc);di(ae,t.useGlobalLeaflet);const y=ds(()=>{const E={};return t.noBlockingAnimations&&(E.animate=!1),E}),M=ds(()=>{const E=y.value;return t.padding&&(E.padding=t.padding),t.paddingTopLeft&&(E.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(E.paddingBottomRight=t.paddingBottomRight),E}),P={moveend:Bh(E=>{o.leafletRef&&(i.emit("update:zoom",o.leafletRef.getZoom()),i.emit("update:center",o.leafletRef.getCenter()),i.emit("update:bounds",o.leafletRef.getBounds()))}),overlayadd(E){const I=o.layersInControl.find(k=>k.name===E.name);I&&I.updateVisibleProp(!0)},overlayremove(E){const I=o.layersInControl.find(k=>k.name===E.name);I&&I.updateVisibleProp(!1)}};se(async()=>{t.useGlobalLeaflet&&(Si.L=Si.L||await ai(()=>Promise.resolve().then(()=>Id),void 0));const{map:E,CRS:I,Icon:k,latLngBounds:K,latLng:G,stamp:F}=t.useGlobalLeaflet?Si.L:await ai(()=>Promise.resolve().then(()=>re),void 0);try{h.beforeMapMount&&await h.beforeMapMount()}catch(Z){console.error(`The following error occurred running the provided beforeMapMount hook ${Z.message}`)}await Gc(k);const mt=typeof h.crs=="string"?I[h.crs]:h.crs;h.crs=mt||I.EPSG3857;const R={addLayer(Z){Z.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd.push(Z):o.layersInControl.find(Q=>F(Q.leafletObject)===F(Z.leafletObject))||(o.layerControl.addLayer(Z),o.layersInControl.push(Z))),Z.visible!==!1&&o.leafletRef.addLayer(Z.leafletObject)},removeLayer(Z){Z.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd=o.layersToAdd.filter(Q=>Q.name!==Z.name):(o.layerControl.removeLayer(Z.leafletObject),o.layersInControl=o.layersInControl.filter(Q=>F(Q.leafletObject)!==F(Z.leafletObject)))),o.leafletRef.removeLayer(Z.leafletObject)},registerLayerControl(Z){o.layerControl=Z,o.layersToAdd.forEach(Q=>{o.layerControl.addLayer(Q)}),o.layersToAdd=[],v(Z)},registerControl(Z){o.leafletRef.addControl(Z.leafletObject)},setZoom(Z){const Q=o.leafletRef.getZoom();Z!==Q&&o.leafletRef.setZoom(Z,y.value)},setCrs(Z){const Q=o.leafletRef.getBounds();o.leafletRef.options.crs=Z,o.leafletRef.fitBounds(Q,{animate:!1,padding:[0,0]})},fitBounds(Z){o.leafletRef.fitBounds(Z,M.value)},setBounds(Z){if(!Z)return;const Q=K(Z);Q.isValid()&&!(o.lastSetBounds||o.leafletRef.getBounds()).equals(Q,0)&&(o.lastSetBounds=Q,o.leafletRef.fitBounds(Q))},setCenter(Z){if(Z==null)return;const Q=G(Z),ct=o.lastSetCenter||o.leafletRef.getCenter();(ct.lat!==Q.lat||ct.lng!==Q.lng)&&(o.lastSetCenter=Q,o.leafletRef.panTo(Q,y.value))}};ms(d,R.addLayer),ms(_,R.removeLayer),ms(v,R.registerControl),ms(p,R.registerLayerControl),o.leafletRef=we(E(n.value,h)),oe(R,o.leafletRef,t),Gr(o.leafletRef,P),Gr(o.leafletRef,u),o.ready=!0,Fi(()=>i.emit("ready",o.leafletRef))}),Vo(()=>{bh(P),o.leafletRef&&(o.leafletRef.off(),o.leafletRef.remove())});const b=ds(()=>o.leafletRef),T=ds(()=>o.ready);return{root:n,ready:T,leafletObject:b,attrs:c}},render({attrs:t}){return t.style||(t.style={}),t.style.width||(t.style.width="100%"),t.style.height||(t.style.height="100%"),Pe("div",{...t,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),ef=["Symbol(Comment)","Symbol(Text)"],nf=["LTooltip","LPopup"],Nh={...Xe,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},sf=(t,i,n)=>{const{options:o,methods:a}=Jo(t,i,n),h=qi(t,Nh,o),u={...a,setDraggable(c){i.value.dragging&&(c?i.value.dragging.enable():i.value.dragging.disable())},latLngSync(c){n.emit("update:latLng",c.latlng),n.emit("update:lat-lng",c.latlng)},setLatLng(c){if(c!=null&&i.value){const d=i.value.getLatLng();(!d||!d.equals(c))&&i.value.setLatLng(c)}}};return{options:h,methods:u}},of=(t,i)=>{const n=i.slots.default&&i.slots.default();return n&&n.length&&n.some(af)};function af(t){return!(ef.includes(t.type.toString())||nf.includes(t.type.name))}const gg=ee({name:"LMarker",props:Nh,setup(t,i){const n=Wt(),o=Wt(!1),a=ne(ae),h=ri(Le);di(Th,()=>{var _;return!!((_=n.value)!=null&&_.getElement())}),di(Sh,_=>{var v,p;const y=Ki((v=n.value)==null?void 0:v.getElement)&&((p=n.value)==null?void 0:p.getElement());y&&(y.innerHTML=_)}),di(Ch,_=>{var v;return((v=n.value)==null?void 0:v.setIcon)&&n.value.setIcon(_)});const{options:u,methods:c}=sf(t,n,i),d={moveHandler:Bh(c.latLngSync)};return se(async()=>{const{marker:_,divIcon:v}=a?Si.L:await ai(()=>Promise.resolve().then(()=>re),void 0);of(u,i)&&(u.icon=v({className:""})),n.value=we(_(t.latLng,u));const{listeners:p}=be(i.attrs);n.value.on(p),n.value.on("move",d.moveHandler),oe(c,n.value,t),h({...t,...c,leafletObject:n.value}),o.value=!0,Fi(()=>i.emit("ready",n.value))}),Vo(()=>bh(d)),{ready:o,leafletObject:n}},render(){return Ah(this.ready,this.$slots)}}),rf={...zh,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},$r={...rf},Zh={...kn,content:{type:String,default:null}},hf=(t,i)=>{const{options:n,methods:o}=Bn(t),a={...o,setContent(h){i.value&&h!==null&&h!==void 0&&i.value.setContent(h)}};return{options:n,methods:a}},lf=t=>t.default?Pe("div",{ref:"root"},t.default()):null,uf={...Zh,latLng:{type:[Object,Array],default:()=>[]}},cf=(t,i)=>{const{options:n,methods:o}=hf(t,i);return{options:n,methods:o}},yg=ee({name:"LPopup",props:uf,setup(t,i){const n=Wt(),o=Wt(null),a=ne(ae),h=ri(Eh),u=ri(Oh),{options:c,methods:d}=cf(t,n);return se(async()=>{const{popup:_}=a?Si.L:await ai(()=>Promise.resolve().then(()=>re),void 0);n.value=we(_(c)),t.latLng!==void 0&&n.value.setLatLng(t.latLng),oe(d,n.value,t);const{listeners:v}=be(i.attrs);n.value.on(v),n.value.setContent(t.content||o.value||""),h(n.value),Fi(()=>i.emit("ready",n.value))}),Vo(()=>{u()}),{root:o,leafletObject:n}},render(){return lf(this.$slots)}});({...$r,latLngs:{...$r.latLngs}});const ta={...Qo,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>typeof t=="string"?!0:Array.isArray(t)?t.every(i=>typeof i=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},ff=(t,i,n)=>{const{options:o,methods:a}=kh(t,i,n),h=qi(t,ta,o),u={...a};return{options:h,methods:u}},xg=ee({props:ta,setup(t,i){const n=Wt(),o=ne(ae),a=ri(Le),{options:h,methods:u}=ff(t,n,i);return se(async()=>{const{tileLayer:c}=o?Si.L:await ai(()=>Promise.resolve().then(()=>re),void 0);n.value=we(c(t.url,h));const{listeners:d}=be(i.attrs);n.value.on(d),oe(u,n.value,t),a({...t,...u,leafletObject:n.value}),Fi(()=>i.emit("ready",n.value))}),{leafletObject:n}},render(){return null}});({...Zh});({...ta});/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var df="1.9.4";function ft(t){var i,n,o,a;for(n=1,o=arguments.length;n<o;n++){a=arguments[n];for(i in a)t[i]=a[i]}return t}var Ts=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function pt(t,i){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var o=n.call(arguments,2);return function(){return t.apply(i,o.length?o.concat(n.call(arguments)):arguments)}}var Rh=0;function at(t){return"_leaflet_id"in t||(t._leaflet_id=++Rh),t._leaflet_id}function Dh(t,i,n){var o,a,h,u;return u=function(){o=!1,a&&(h.apply(n,a),a=!1)},h=function(){o?a=arguments:(t.apply(n,arguments),setTimeout(u,i),o=!0)},h}function Sn(t,i,n){var o=i[1],a=i[0],h=o-a;return t===o&&n?t:((t-a)%h+h)%h+a}function Lt(){return!1}function Pi(t,i){if(i===!1)return t;var n=Math.pow(10,i===void 0?6:i);return Math.round(t*n)/n}function ia(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function _e(t){return ia(t).split(/\s+/)}function vt(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?Ts(t.options):{});for(var n in i)t.options[n]=i[n];return t.options}function Fh(t,i,n){var o=[];for(var a in t)o.push(encodeURIComponent(n?a.toUpperCase():a)+"="+encodeURIComponent(t[a]));return(!i||i.indexOf("?")===-1?"?":"&")+o.join("&")}var _f=/\{ *([\w_ -]+) *\}/g;function qh(t,i){return t.replace(_f,function(n,o){var a=i[o];if(a===void 0)throw new Error("No value provided for variable "+n);return typeof a=="function"&&(a=a(i)),a})}var pi=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function ea(t,i){for(var n=0;n<t.length;n++)if(t[n]===i)return n;return-1}var ys="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ko(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Vr=0;function Wh(t){var i=+new Date,n=Math.max(0,16-(i-Vr));return Vr=i+n,window.setTimeout(t,n)}var Bo=window.requestAnimationFrame||ko("RequestAnimationFrame")||Wh,Hh=window.cancelAnimationFrame||ko("CancelAnimationFrame")||ko("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Vt(t,i,n){if(n&&Bo===Wh)t.call(i);else return Bo.call(window,pt(t,i))}function hi(t){t&&Hh.call(window,t)}var mf={__proto__:null,extend:ft,create:Ts,bind:pt,get lastId(){return Rh},stamp:at,throttle:Dh,wrapNum:Sn,falseFn:Lt,formatNum:Pi,trim:ia,splitWords:_e,setOptions:vt,getParamString:Fh,template:qh,isArray:pi,indexOf:ea,emptyImageUrl:ys,requestFn:Bo,cancelFn:Hh,requestAnimFrame:Vt,cancelAnimFrame:hi};function Wi(){}Wi.extend=function(t){var i=function(){vt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=i.__super__=this.prototype,o=Ts(n);o.constructor=i,i.prototype=o;for(var a in this)Object.prototype.hasOwnProperty.call(this,a)&&a!=="prototype"&&a!=="__super__"&&(i[a]=this[a]);return t.statics&&ft(i,t.statics),t.includes&&(pf(t.includes),ft.apply(null,[o].concat(t.includes))),ft(o,t),delete o.statics,delete o.includes,o.options&&(o.options=n.options?Ts(n.options):{},ft(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var h=0,u=o._initHooks.length;h<u;h++)o._initHooks[h].call(this)}},i};Wi.include=function(t){var i=this.prototype.options;return ft(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this};Wi.mergeOptions=function(t){return ft(this.prototype.options,t),this};Wi.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),n=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function pf(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=pi(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Yt={on:function(t,i,n){if(typeof t=="object")for(var o in t)this._on(o,t[o],i);else{t=_e(t);for(var a=0,h=t.length;a<h;a++)this._on(t[a],i,n)}return this},off:function(t,i,n){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var o in t)this._off(o,t[o],i);else{t=_e(t);for(var a=arguments.length===1,h=0,u=t.length;h<u;h++)a?this._off(t[h]):this._off(t[h],i,n)}return this},_on:function(t,i,n,o){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,n)===!1){n===this&&(n=void 0);var a={fn:i,ctx:n};o&&(a.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(a)}},_off:function(t,i,n){var o,a,h;if(this._events&&(o=this._events[t],!!o)){if(arguments.length===1){if(this._firingCount)for(a=0,h=o.length;a<h;a++)o[a].fn=Lt;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var u=this._listens(t,i,n);if(u!==!1){var c=o[u];this._firingCount&&(c.fn=Lt,this._events[t]=o=o.slice()),o.splice(u,1)}}},fire:function(t,i,n){if(!this.listens(t,n))return this;var o=ft({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var a=this._events[t];if(a){this._firingCount=this._firingCount+1||1;for(var h=0,u=a.length;h<u;h++){var c=a[h],d=c.fn;c.once&&this.off(t,d,c.ctx),d.call(c.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,i,n,o){typeof t!="string"&&console.warn('"string" type argument expected');var a=i;typeof i!="function"&&(o=!!i,a=void 0,n=void 0);var h=this._events&&this._events[t];if(h&&h.length&&this._listens(t,a,n)!==!1)return!0;if(o){for(var u in this._eventParents)if(this._eventParents[u].listens(t,i,n,o))return!0}return!1},_listens:function(t,i,n){if(!this._events)return!1;var o=this._events[t]||[];if(!i)return!!o.length;n===this&&(n=void 0);for(var a=0,h=o.length;a<h;a++)if(o[a].fn===i&&o[a].ctx===n)return a;return!1},once:function(t,i,n){if(typeof t=="object")for(var o in t)this._on(o,t[o],i,!0);else{t=_e(t);for(var a=0,h=t.length;a<h;a++)this._on(t[a],i,n,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[at(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[at(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,ft({layer:t.target,propagatedFrom:t.target},t),!0)}};Yt.addEventListener=Yt.on;Yt.removeEventListener=Yt.clearAllEventListeners=Yt.off;Yt.addOneTimeEventListener=Yt.once;Yt.fireEvent=Yt.fire;Yt.hasEventListeners=Yt.listens;var Nn=Wi.extend(Yt);function $(t,i,n){this.x=n?Math.round(t):t,this.y=n?Math.round(i):i}var Kr=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(t){return this.clone()._add(H(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(H(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new $(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new $(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Kr(this.x),this.y=Kr(this.y),this},distanceTo:function(t){t=H(t);var i=t.x-this.x,n=t.y-this.y;return Math.sqrt(i*i+n*n)},equals:function(t){return t=H(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=H(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+Pi(this.x)+", "+Pi(this.y)+")"}};function H(t,i,n){return t instanceof $?t:pi(t)?new $(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new $(t.x,t.y):new $(t,i,n)}function wt(t,i){if(t)for(var n=i?[t,i]:t,o=0,a=n.length;o<a;o++)this.extend(n[o])}wt.prototype={extend:function(t){var i,n;if(!t)return this;if(t instanceof $||typeof t[0]=="number"||"x"in t)i=n=H(t);else if(t=$t(t),i=t.min,n=t.max,!i||!n)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=n.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(t){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,n;return typeof t[0]=="number"||t instanceof $?t=H(t):t=$t(t),t instanceof wt?(i=t.min,n=t.max):i=n=t,i.x>=this.min.x&&n.x<=this.max.x&&i.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=$t(t);var i=this.min,n=this.max,o=t.min,a=t.max,h=a.x>=i.x&&o.x<=n.x,u=a.y>=i.y&&o.y<=n.y;return h&&u},overlaps:function(t){t=$t(t);var i=this.min,n=this.max,o=t.min,a=t.max,h=a.x>i.x&&o.x<n.x,u=a.y>i.y&&o.y<n.y;return h&&u},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,n=this.max,o=Math.abs(i.x-n.x)*t,a=Math.abs(i.y-n.y)*t;return $t(H(i.x-o,i.y-a),H(n.x+o,n.y+a))},equals:function(t){return t?(t=$t(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function $t(t,i){return!t||t instanceof wt?t:new wt(t,i)}function Kt(t,i){if(t)for(var n=i?[t,i]:t,o=0,a=n.length;o<a;o++)this.extend(n[o])}Kt.prototype={extend:function(t){var i=this._southWest,n=this._northEast,o,a;if(t instanceof ut)o=t,a=t;else if(t instanceof Kt){if(o=t._southWest,a=t._northEast,!o||!a)return this}else return t?this.extend(et(t)||Ot(t)):this;return!i&&!n?(this._southWest=new ut(o.lat,o.lng),this._northEast=new ut(a.lat,a.lng)):(i.lat=Math.min(o.lat,i.lat),i.lng=Math.min(o.lng,i.lng),n.lat=Math.max(a.lat,n.lat),n.lng=Math.max(a.lng,n.lng)),this},pad:function(t){var i=this._southWest,n=this._northEast,o=Math.abs(i.lat-n.lat)*t,a=Math.abs(i.lng-n.lng)*t;return new Kt(new ut(i.lat-o,i.lng-a),new ut(n.lat+o,n.lng+a))},getCenter:function(){return new ut((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ut(this.getNorth(),this.getWest())},getSouthEast:function(){return new ut(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ut||"lat"in t?t=et(t):t=Ot(t);var i=this._southWest,n=this._northEast,o,a;return t instanceof Kt?(o=t.getSouthWest(),a=t.getNorthEast()):o=a=t,o.lat>=i.lat&&a.lat<=n.lat&&o.lng>=i.lng&&a.lng<=n.lng},intersects:function(t){t=Ot(t);var i=this._southWest,n=this._northEast,o=t.getSouthWest(),a=t.getNorthEast(),h=a.lat>=i.lat&&o.lat<=n.lat,u=a.lng>=i.lng&&o.lng<=n.lng;return h&&u},overlaps:function(t){t=Ot(t);var i=this._southWest,n=this._northEast,o=t.getSouthWest(),a=t.getNorthEast(),h=a.lat>i.lat&&o.lat<n.lat,u=a.lng>i.lng&&o.lng<n.lng;return h&&u},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=Ot(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ot(t,i){return t instanceof Kt?t:new Kt(t,i)}function ut(t,i,n){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,n!==void 0&&(this.alt=+n)}ut.prototype={equals:function(t,i){if(!t)return!1;t=et(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+Pi(this.lat,t)+", "+Pi(this.lng,t)+")"},distanceTo:function(t){return Yi.distance(this,et(t))},wrap:function(){return Yi.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,n=i/Math.cos(Math.PI/180*this.lat);return Ot([this.lat-i,this.lng-n],[this.lat+i,this.lng+n])},clone:function(){return new ut(this.lat,this.lng,this.alt)}};function et(t,i,n){return t instanceof ut?t:pi(t)&&typeof t[0]!="object"?t.length===3?new ut(t[0],t[1],t[2]):t.length===2?new ut(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ut(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new ut(t,i,n)}var Hi={latLngToPoint:function(t,i){var n=this.projection.project(t),o=this.scale(i);return this.transformation._transform(n,o)},pointToLatLng:function(t,i){var n=this.scale(i),o=this.transformation.untransform(t,n);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,n=this.scale(t),o=this.transformation.transform(i.min,n),a=this.transformation.transform(i.max,n);return new wt(o,a)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?Sn(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?Sn(t.lat,this.wrapLat,!0):t.lat,o=t.alt;return new ut(n,i,o)},wrapLatLngBounds:function(t){var i=t.getCenter(),n=this.wrapLatLng(i),o=i.lat-n.lat,a=i.lng-n.lng;if(o===0&&a===0)return t;var h=t.getSouthWest(),u=t.getNorthEast(),c=new ut(h.lat-o,h.lng-a),d=new ut(u.lat-o,u.lng-a);return new Kt(c,d)}},Yi=ft({},Hi,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var n=Math.PI/180,o=t.lat*n,a=i.lat*n,h=Math.sin((i.lat-t.lat)*n/2),u=Math.sin((i.lng-t.lng)*n/2),c=h*h+Math.cos(o)*Math.cos(a)*u*u,d=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return this.R*d}}),Xr=6378137,No={R:Xr,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),a=Math.sin(o*i);return new $(this.R*t.lng*i,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(t){var i=180/Math.PI;return new ut((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Xr*Math.PI;return new wt([-t,-t],[t,t])}()};function na(t,i,n,o){if(pi(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=n,this._d=o}na.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new $((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function Zn(t,i,n,o){return new na(t,i,n,o)}var sa=ft({},Yi,{code:"EPSG:3857",projection:No,transformation:function(){var t=.5/(Math.PI*No.R);return Zn(t,.5,-t,.5)}()}),vf=ft({},sa,{code:"EPSG:900913"});function Gh(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function jh(t,i){var n="",o,a,h,u,c,d;for(o=0,h=t.length;o<h;o++){for(c=t[o],a=0,u=c.length;a<u;a++)d=c[a],n+=(a?"L":"M")+d.x+" "+d.y;n+=i?N.svg?"z":"x":""}return n||"M0 0"}var oa=document.documentElement.style,Zs="ActiveXObject"in window,gf=Zs&&!document.addEventListener,Uh="msLaunchUri"in navigator&&!("documentMode"in document),aa=Ei("webkit"),$h=Ei("android"),Vh=Ei("android 2")||Ei("android 3"),yf=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xf=$h&&Ei("Google")&&yf<537&&!("AudioNode"in window),ra=!!window.opera,Kh=!Uh&&Ei("chrome"),Xh=Ei("gecko")&&!aa&&!ra&&!Zs,Mf=!Kh&&Ei("safari"),Jh=Ei("phantom"),Yh="OTransition"in oa,wf=navigator.platform.indexOf("Win")===0,Qh=Zs&&"transition"in oa,ha="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vh,tl="MozPerspective"in oa,Pf=!window.L_DISABLE_3D&&(Qh||ha||tl)&&!Yh&&!Jh,Rn=typeof orientation<"u"||Ei("mobile"),bf=Rn&&aa,Lf=Rn&&ha,il=!window.PointerEvent&&window.MSPointerEvent,el=!!(window.PointerEvent||il),nl="ontouchstart"in window||!!window.TouchEvent,Tf=!window.L_NO_TOUCH&&(nl||el),Sf=Rn&&ra,Cf=Rn&&Xh,Ef=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Of=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",Lt,i),window.removeEventListener("testPassiveEventSupport",Lt,i)}catch{}return t}(),Af=function(){return!!document.createElement("canvas").getContext}(),la=!!(document.createElementNS&&Gh("svg").createSVGRect),zf=!!la&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),If=!la&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),kf=navigator.platform.indexOf("Mac")===0,Bf=navigator.platform.indexOf("Linux")===0;function Ei(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var N={ie:Zs,ielt9:gf,edge:Uh,webkit:aa,android:$h,android23:Vh,androidStock:xf,opera:ra,chrome:Kh,gecko:Xh,safari:Mf,phantom:Jh,opera12:Yh,win:wf,ie3d:Qh,webkit3d:ha,gecko3d:tl,any3d:Pf,mobile:Rn,mobileWebkit:bf,mobileWebkit3d:Lf,msPointer:il,pointer:el,touch:Tf,touchNative:nl,mobileOpera:Sf,mobileGecko:Cf,retina:Ef,passiveEvents:Of,canvas:Af,svg:la,vml:If,inlineSvg:zf,mac:kf,linux:Bf},sl=N.msPointer?"MSPointerDown":"pointerdown",ol=N.msPointer?"MSPointerMove":"pointermove",al=N.msPointer?"MSPointerUp":"pointerup",rl=N.msPointer?"MSPointerCancel":"pointercancel",Zo={touchstart:sl,touchmove:ol,touchend:al,touchcancel:rl},Jr={touchstart:qf,touchmove:xs,touchend:xs,touchcancel:xs},Ge={},Yr=!1;function Nf(t,i,n){return i==="touchstart"&&Ff(),Jr[i]?(n=Jr[i].bind(this,n),t.addEventListener(Zo[i],n,!1),n):(console.warn("wrong event specified:",i),Lt)}function Zf(t,i,n){if(!Zo[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Zo[i],n,!1)}function Rf(t){Ge[t.pointerId]=t}function Df(t){Ge[t.pointerId]&&(Ge[t.pointerId]=t)}function Qr(t){delete Ge[t.pointerId]}function Ff(){Yr||(document.addEventListener(sl,Rf,!0),document.addEventListener(ol,Df,!0),document.addEventListener(al,Qr,!0),document.addEventListener(rl,Qr,!0),Yr=!0)}function xs(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var n in Ge)i.touches.push(Ge[n]);i.changedTouches=[i],t(i)}}function qf(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&Zt(i),xs(t,i)}function Wf(t){var i={},n,o;for(o in t)n=t[o],i[o]=n&&n.bind?n.bind(t):n;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Hf=200;function Gf(t,i){t.addEventListener("dblclick",i);var n=0,o;function a(h){if(h.detail!==1){o=h.detail;return}if(!(h.pointerType==="mouse"||h.sourceCapabilities&&!h.sourceCapabilities.firesTouchEvents)){var u=cl(h);if(!(u.some(function(d){return d instanceof HTMLLabelElement&&d.attributes.for})&&!u.some(function(d){return d instanceof HTMLInputElement||d instanceof HTMLSelectElement}))){var c=Date.now();c-n<=Hf?(o++,o===2&&i(Wf(h))):o=1,n=c}}}return t.addEventListener("click",a),{dblclick:i,simDblclick:a}}function jf(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var ua=Ds(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Pn=Ds(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hl=Pn==="webkitTransition"||Pn==="OTransition"?Pn+"End":"transitionend";function ll(t){return typeof t=="string"?document.getElementById(t):t}function Cn(t,i){var n=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!n||n==="auto")&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);n=o?o[i]:null}return n==="auto"?null:n}function ot(t,i,n){var o=document.createElement(t);return o.className=i||"",n&&n.appendChild(o),o}function Mt(t){var i=t.parentNode;i&&i.removeChild(t)}function Ss(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ye(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Qe(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function ca(t,i){if(t.classList!==void 0)return t.classList.contains(i);var n=Rs(t);return n.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(n)}function J(t,i){if(t.classList!==void 0)for(var n=_e(i),o=0,a=n.length;o<a;o++)t.classList.add(n[o]);else if(!ca(t,i)){var h=Rs(t);fa(t,(h?h+" ":"")+i)}}function Tt(t,i){t.classList!==void 0?t.classList.remove(i):fa(t,ia((" "+Rs(t)+" ").replace(" "+i+" "," ")))}function fa(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Rs(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function oi(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&Uf(t,i)}function Uf(t,i){var n=!1,o="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(o)}catch{if(i===1)return}i=Math.round(i*100),n?(n.Enabled=i!==100,n.Opacity=i):t.style.filter+=" progid:"+o+"(opacity="+i+")"}function Ds(t){for(var i=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in i)return t[n];return!1}function ve(t,i,n){var o=i||new $(0,0);t.style[ua]=(N.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(n?" scale("+n+")":"")}function At(t,i){t._leaflet_pos=i,N.any3d?ve(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function ge(t){return t._leaflet_pos||new $(0,0)}var En,On,Ao;if("onselectstart"in document)En=function(){V(window,"selectstart",Zt)},On=function(){_t(window,"selectstart",Zt)};else{var vn=Ds(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);En=function(){if(vn){var t=document.documentElement.style;Ao=t[vn],t[vn]="none"}},On=function(){vn&&(document.documentElement.style[vn]=Ao,Ao=void 0)}}function da(){V(window,"dragstart",Zt)}function _a(){_t(window,"dragstart",Zt)}var Ms,Ro;function ma(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Cs(),Ms=t,Ro=t.style.outlineStyle,t.style.outlineStyle="none",V(window,"keydown",Cs))}function Cs(){Ms&&(Ms.style.outlineStyle=Ro,Ms=void 0,Ro=void 0,_t(window,"keydown",Cs))}function ul(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function pa(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var $f={__proto__:null,TRANSFORM:ua,TRANSITION:Pn,TRANSITION_END:hl,get:ll,getStyle:Cn,create:ot,remove:Mt,empty:Ss,toFront:Ye,toBack:Qe,hasClass:ca,addClass:J,removeClass:Tt,setClass:fa,getClass:Rs,setOpacity:oi,testProp:Ds,setTransform:ve,setPosition:At,getPosition:ge,get disableTextSelection(){return En},get enableTextSelection(){return On},disableImageDrag:da,enableImageDrag:_a,preventOutline:ma,restoreOutline:Cs,getSizedParentNode:ul,getScale:pa};function V(t,i,n,o){if(i&&typeof i=="object")for(var a in i)Fo(t,a,i[a],n);else{i=_e(i);for(var h=0,u=i.length;h<u;h++)Fo(t,i[h],n,o)}return this}var bi="_leaflet_events";function _t(t,i,n,o){if(arguments.length===1)th(t),delete t[bi];else if(i&&typeof i=="object")for(var a in i)qo(t,a,i[a],n);else if(i=_e(i),arguments.length===2)th(t,function(c){return ea(i,c)!==-1});else for(var h=0,u=i.length;h<u;h++)qo(t,i[h],n,o);return this}function th(t,i){for(var n in t[bi]){var o=n.split(/\d/)[0];(!i||i(o))&&qo(t,o,null,null,n)}}var Do={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fo(t,i,n,o){var a=i+at(n)+(o?"_"+at(o):"");if(t[bi]&&t[bi][a])return this;var h=function(c){return n.call(o||t,c||window.event)},u=h;!N.touchNative&&N.pointer&&i.indexOf("touch")===0?h=Nf(t,i,h):N.touch&&i==="dblclick"?h=Gf(t,h):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(Do[i]||i,h,N.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(h=function(c){c=c||window.event,ga(t,c)&&u(c)},t.addEventListener(Do[i],h,!1)):t.addEventListener(i,u,!1):t.attachEvent("on"+i,h),t[bi]=t[bi]||{},t[bi][a]=h}function qo(t,i,n,o,a){a=a||i+at(n)+(o?"_"+at(o):"");var h=t[bi]&&t[bi][a];if(!h)return this;!N.touchNative&&N.pointer&&i.indexOf("touch")===0?Zf(t,i,h):N.touch&&i==="dblclick"?jf(t,h):"removeEventListener"in t?t.removeEventListener(Do[i]||i,h,!1):t.detachEvent("on"+i,h),t[bi][a]=null}function me(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function va(t){return Fo(t,"wheel",me),this}function Dn(t){return V(t,"mousedown touchstart dblclick contextmenu",me),t._leaflet_disable_click=!0,this}function Zt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ye(t){return Zt(t),me(t),this}function cl(t){if(t.composedPath)return t.composedPath();for(var i=[],n=t.target;n;)i.push(n),n=n.parentNode;return i}function fl(t,i){if(!i)return new $(t.clientX,t.clientY);var n=pa(i),o=n.boundingClientRect;return new $((t.clientX-o.left)/n.x-i.clientLeft,(t.clientY-o.top)/n.y-i.clientTop)}var Vf=N.linux&&N.chrome?window.devicePixelRatio:N.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function dl(t){return N.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Vf:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ga(t,i){var n=i.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch{return!1}return n!==t}var Kf={__proto__:null,on:V,off:_t,stopPropagation:me,disableScrollPropagation:va,disableClickPropagation:Dn,preventDefault:Zt,stop:ye,getPropagationPath:cl,getMousePosition:fl,getWheelDelta:dl,isExternalTarget:ga,addListener:V,removeListener:_t},_l=Nn.extend({run:function(t,i,n,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=ge(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Vt(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,n=this._duration*1e3;i<n?this._runFrame(this._easeOut(i/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var n=this._startPos.add(this._offset.multiplyBy(t));i&&n._round(),At(this._el,n),this.fire("step")},_complete:function(){hi(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nt=Nn.extend({options:{crs:sa,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=vt(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=pt(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(et(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Pn&&N.any3d&&!N.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),V(this._proxy,hl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,n){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(et(t),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==void 0&&(n.zoom=ft({animate:n.animate},n.zoom),n.pan=ft({animate:n.animate,duration:n.duration},n.pan));var o=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,n.zoom):this._tryAnimatedPan(t,n.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(N.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(N.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,n){var o=this.getZoomScale(i),a=this.getSize().divideBy(2),h=t instanceof $?t:this.latLngToContainerPoint(t),u=h.subtract(a).multiplyBy(1-1/o),c=this.containerPointToLatLng(a.add(u));return this.setView(c,i,{zoom:n})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():Ot(t);var n=H(i.paddingTopLeft||i.padding||[0,0]),o=H(i.paddingBottomRight||i.padding||[0,0]),a=this.getBoundsZoom(t,!1,n.add(o));if(a=typeof i.maxZoom=="number"?Math.min(i.maxZoom,a):a,a===1/0)return{center:t.getCenter(),zoom:a};var h=o.subtract(n).divideBy(2),u=this.project(t.getSouthWest(),a),c=this.project(t.getNorthEast(),a),d=this.unproject(u.add(c).divideBy(2).add(h),a);return{center:d,zoom:a}},fitBounds:function(t,i){if(t=Ot(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,i);return this.setView(n.center,n.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=H(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _l,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,n){if(n=n||{},n.animate===!1||!N.any3d)return this.setView(t,i,n);this._stop();var o=this.project(this.getCenter()),a=this.project(t),h=this.getSize(),u=this._zoom;t=et(t),i=i===void 0?u:i;var c=Math.max(h.x,h.y),d=c*this.getZoomScale(u,i),_=a.distanceTo(o)||1,v=1.42,p=v*v;function y(R){var Z=R?-1:1,Q=R?d:c,ct=d*d-c*c+Z*p*p*_*_,zt=2*Q*p*_,he=ct/zt,ti=Math.sqrt(he*he+1)-he,Ks=ti<1e-9?-18:Math.log(ti);return Ks}function M(R){return(Math.exp(R)-Math.exp(-R))/2}function P(R){return(Math.exp(R)+Math.exp(-R))/2}function b(R){return M(R)/P(R)}var T=y(0);function E(R){return c*(P(T)/P(T+v*R))}function I(R){return c*(P(T)*b(T+v*R)-M(T))/p}function k(R){return 1-Math.pow(1-R,1.5)}var K=Date.now(),G=(y(1)-T)/v,F=n.duration?1e3*n.duration:1e3*G*.8;function mt(){var R=(Date.now()-K)/F,Z=k(R)*G;R<=1?(this._flyToFrame=Vt(mt,this),this._move(this.unproject(o.add(a.subtract(o).multiplyBy(I(Z)/_)),u),this.getScaleZoom(c/E(Z),u),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),mt.call(this),this},flyToBounds:function(t,i){var n=this._getBoundsCenterZoom(t,i);return this.flyTo(n.center,n.zoom,i)},setMaxBounds:function(t){return t=Ot(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var n=this.getCenter(),o=this._limitCenter(n,this._zoom,Ot(t));return n.equals(o)||this.panTo(o,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var n=H(i.paddingTopLeft||i.padding||[0,0]),o=H(i.paddingBottomRight||i.padding||[0,0]),a=this.project(this.getCenter()),h=this.project(t),u=this.getPixelBounds(),c=$t([u.min.add(n),u.max.subtract(o)]),d=c.getSize();if(!c.contains(h)){this._enforcingBounds=!0;var _=h.subtract(c.getCenter()),v=c.extend(h).getSize().subtract(d);a.x+=_.x<0?-v.x:v.x,a.y+=_.y<0?-v.y:v.y,this.panTo(this.unproject(a),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=ft({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),o=i.divideBy(2).round(),a=n.divideBy(2).round(),h=o.subtract(a);return!h.x&&!h.y?this:(t.animate&&t.pan?this.panBy(h):(t.pan&&this._rawPanBy(h),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(pt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:n}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=ft({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=pt(this._handleGeolocationResponse,this),n=pt(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,n,t):navigator.geolocation.getCurrentPosition(i,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,n=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,n=t.coords.longitude,o=new ut(i,n),a=o.toBounds(t.coords.accuracy*2),h=this._locateOptions;if(h.setView){var u=this.getBoundsZoom(a);this.setView(o,h.maxZoom?Math.min(u,h.maxZoom):u)}var c={latlng:o,bounds:a,timestamp:t.timestamp};for(var d in t.coords)typeof t.coords[d]=="number"&&(c[d]=t.coords[d]);this.fire("locationfound",c)}},addHandler:function(t,i){if(!i)return this;var n=this[t]=new i(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(hi(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Mt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),o=ot("div",n,i||this._mapPane);return t&&(this._panes[t]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new Kt(i,n)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,n){t=Ot(t),n=H(n||[0,0]);var o=this.getZoom()||0,a=this.getMinZoom(),h=this.getMaxZoom(),u=t.getNorthWest(),c=t.getSouthEast(),d=this.getSize().subtract(n),_=$t(this.project(c,o),this.project(u,o)).getSize(),v=N.any3d?this.options.zoomSnap:1,p=d.x/_.x,y=d.y/_.y,M=i?Math.max(p,y):Math.min(p,y);return o=this.getScaleZoom(M,o),v&&(o=Math.round(o/(v/100))*(v/100),o=i?Math.ceil(o/v)*v:Math.floor(o/v)*v),Math.max(a,Math.min(h,o))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var n=this._getTopLeftPoint(t,i);return new wt(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var n=this.options.crs;return i=i===void 0?this._zoom:i,n.scale(t)/n.scale(i)},getScaleZoom:function(t,i){var n=this.options.crs;i=i===void 0?this._zoom:i;var o=n.zoom(t*n.scale(i));return isNaN(o)?1/0:o},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(et(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(H(t),i)},layerPointToLatLng:function(t){var i=H(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(et(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(et(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Ot(t))},distance:function(t,i){return this.options.crs.distance(et(t),et(i))},containerPointToLayerPoint:function(t){return H(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return H(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(H(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(et(t)))},mouseEventToContainerPoint:function(t){return fl(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=ll(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");V(i,"scroll",this._onScroll,this),this._containerId=at(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&N.any3d,J(t,"leaflet-container"+(N.touch?" leaflet-touch":"")+(N.retina?" leaflet-retina":"")+(N.ielt9?" leaflet-oldie":"")+(N.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Cn(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),At(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(t.markerPane,"leaflet-zoom-hide"),J(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,n){At(this._mapPane,new $(0,0));var o=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var a=this._zoom!==i;this._moveStart(a,n)._move(t,i)._moveEnd(a),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,n,o){i===void 0&&(i=this._zoom);var a=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?n&&n.pinch&&this.fire("zoom",n):((a||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return hi(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){At(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[at(this._container)]=this;var i=t?_t:V;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),N.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){hi(this._resizeRequest),this._resizeRequest=Vt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var n=[],o,a=i==="mouseout"||i==="mouseover",h=t.target||t.srcElement,u=!1;h;){if(o=this._targets[at(h)],o&&(i==="click"||i==="preclick")&&this._draggableMoved(o)){u=!0;break}if(o&&o.listens(i,!0)&&(a&&!ga(h,t)||(n.push(o),a))||h===this._container)break;h=h.parentNode}return!n.length&&!u&&!a&&this.listens(i,!0)&&(n=[this]),n},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var n=t.type;n==="mousedown"&&ma(i),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,n){if(t.type==="click"){var o=ft({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}var a=this._findEventTargets(t,i);if(n){for(var h=[],u=0;u<n.length;u++)n[u].listens(i,!0)&&h.push(n[u]);a=h.concat(a)}if(a.length){i==="contextmenu"&&Zt(t);var c=a[0],d={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var _=c.getLatLng&&(!c._radius||c._radius<=10);d.containerPoint=_?this.latLngToContainerPoint(c.getLatLng()):this.mouseEventToContainerPoint(t),d.layerPoint=this.containerPointToLayerPoint(d.containerPoint),d.latlng=_?c.getLatLng():this.layerPointToLatLng(d.layerPoint)}for(u=0;u<a.length;u++)if(a[u].fire(i,d,!0),d.originalEvent._stopped||a[u].options.bubblingMouseEvents===!1&&ea(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return ge(this._mapPane)||new $(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var n=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var n=this.getSize()._divideBy(2);return this.project(t,i)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,n){var o=this._getNewPixelOrigin(n,i);return this.project(t,i)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,i,n){var o=this._getNewPixelOrigin(n,i);return $t([this.project(t.getSouthWest(),i)._subtract(o),this.project(t.getNorthWest(),i)._subtract(o),this.project(t.getSouthEast(),i)._subtract(o),this.project(t.getNorthEast(),i)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,n){if(!n)return t;var o=this.project(t,i),a=this.getSize().divideBy(2),h=new wt(o.subtract(a),o.add(a)),u=this._getBoundsOffset(h,n,i);return Math.abs(u.x)<=1&&Math.abs(u.y)<=1?t:this.unproject(o.add(u),i)},_limitOffset:function(t,i){if(!i)return t;var n=this.getPixelBounds(),o=new wt(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(o,i))},_getBoundsOffset:function(t,i,n){var o=$t(this.project(i.getNorthEast(),n),this.project(i.getSouthWest(),n)),a=o.min.subtract(t.min),h=o.max.subtract(t.max),u=this._rebound(a.x,-h.x),c=this._rebound(a.y,-h.y);return new $(u,c)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),n=this.getMaxZoom(),o=N.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(i,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var n=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,i),!0)},_createAnimProxy:function(){var t=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var n=ua,o=this._proxy.style[n];ve(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),o===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();ve(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(i),a=this._getCenterOffset(t)._divideBy(1-1/o);return n.animate!==!0&&!this.getSize().contains(a)?!1:(Vt(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(pt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xf(t,i){return new nt(t,i)}var mi=Wi.extend({options:{position:"topright"},initialize:function(t){vt(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),n=this.getPosition(),o=t._controlCorners[n];return J(i,"leaflet-control"),n.indexOf("bottom")!==-1?o.insertBefore(i,o.firstChild):o.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Fn=function(t){return new mi(t)};nt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",n=this._controlContainer=ot("div",i+"control-container",this._container);function o(a,h){var u=i+a+" "+i+h;t[a+h]=ot("div",u,n)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Mt(this._controlCorners[t]);Mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ml=mi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,n,o){return n<o?-1:o<n?1:0}},initialize:function(t,i,n){vt(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var o in t)this._addLayer(t[o],o);for(o in i)this._addLayer(i[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return mi.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(at(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=ot("div",t),n=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Dn(i),va(i);var o=this._section=ot("section",t+"-list");n&&(this._map.on("click",this.collapse,this),V(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var a=this._layersLink=ot("a",t+"-toggle",i);a.href="#",a.title="Layers",a.setAttribute("role","button"),V(a,{keydown:function(h){h.keyCode===13&&this._expandSafely()},click:function(h){Zt(h),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ot("div",t+"-base",o),this._separator=ot("div",t+"-separator",o),this._overlaysList=ot("div",t+"-overlays",o),i.appendChild(o)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&at(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:n}),this.options.sortLayers&&this._layers.sort(pt(function(o,a){return this.options.sortFunction(o.layer,a.layer,o.name,a.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ss(this._baseLayersList),Ss(this._overlaysList),this._layerControlInputs=[];var t,i,n,o,a=0;for(n=0;n<this._layers.length;n++)o=this._layers[n],this._addItem(o),i=i||o.overlay,t=t||!o.overlay,a+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&a>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(at(t.target)),n=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;n&&this._map.fire(n,i)},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var i=document.createElement("label"),n=this._map.hasLayer(t.layer),o;t.overlay?(o=document.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=n):o=this._createRadioElement("leaflet-base-layers_"+at(this),n),this._layerControlInputs.push(o),o.layerId=at(t.layer),V(o,"click",this._onInputClick,this);var a=document.createElement("span");a.innerHTML=" "+t.name;var h=document.createElement("span");i.appendChild(h),h.appendChild(o),h.appendChild(a);var u=t.overlay?this._overlaysList:this._baseLayersList;return u.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,n,o=[],a=[];this._handlingClick=!0;for(var h=t.length-1;h>=0;h--)i=t[h],n=this._getLayer(i.layerId).layer,i.checked?o.push(n):i.checked||a.push(n);for(h=0;h<a.length;h++)this._map.hasLayer(a[h])&&this._map.removeLayer(a[h]);for(h=0;h<o.length;h++)this._map.hasLayer(o[h])||this._map.addLayer(o[h]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,n,o=this._map.getZoom(),a=t.length-1;a>=0;a--)i=t[a],n=this._getLayer(i.layerId).layer,i.disabled=n.options.minZoom!==void 0&&o<n.options.minZoom||n.options.maxZoom!==void 0&&o>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,V(t,"click",Zt),this.expand();var i=this;setTimeout(function(){_t(t,"click",Zt),i._preventClick=!1})}}),Jf=function(t,i,n){return new ml(t,i,n)},ya=mi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",n=ot("div",i+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,i+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,i+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,n,o,a){var h=ot("a",n,o);return h.innerHTML=t,h.href="#",h.title=i,h.setAttribute("role","button"),h.setAttribute("aria-label",i),Dn(h),V(h,"click",ye),V(h,"click",a,this),V(h,"click",this._refocusOnMap,this),h},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";Tt(this._zoomInButton,i),Tt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(J(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(J(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});nt.mergeOptions({zoomControl:!0});nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ya,this.addControl(this.zoomControl))});var Yf=function(t){return new ya(t)},pl=mi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",n=ot("div",i),o=this.options;return this._addScales(o,i+"-line",n),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,n){t.metric&&(this._mScale=ot("div",i,n)),t.imperial&&(this._iScale=ot("div",i,n))},_update:function(){var t=this._map,i=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),n=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,n,i/t)},_updateImperial:function(t){var i=t*3.2808399,n,o,a;i>5280?(n=i/5280,o=this._getRoundNum(n),this._updateScale(this._iScale,o+" mi",o/n)):(a=this._getRoundNum(i),this._updateScale(this._iScale,a+" ft",a/i))},_updateScale:function(t,i,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),n=t/i;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,i*n}}),Qf=function(t){return new pl(t)},td='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xa=mi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(N.inlineSvg?td+" ":"")+"Leaflet</a>"},initialize:function(t){vt(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),Dn(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nt.mergeOptions({attributionControl:!0});nt.addInitHook(function(){this.options.attributionControl&&new xa().addTo(this)});var id=function(t){return new xa(t)};mi.Layers=ml;mi.Zoom=ya;mi.Scale=pl;mi.Attribution=xa;Fn.layers=Jf;Fn.zoom=Yf;Fn.scale=Qf;Fn.attribution=id;var Ai=Wi.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ai.addTo=function(t,i){return t.addHandler(i,this),this};var ed={Events:Yt},ih=N.touch?"touchstart mousedown":"mousedown",Xi=Nn.extend({options:{clickTolerance:3},initialize:function(t,i,n,o){vt(this,o),this._element=t,this._dragStartTarget=i||t,this._preventOutline=n},enable:function(){this._enabled||(V(this._dragStartTarget,ih,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xi._dragging===this&&this.finishDrag(!0),_t(this._dragStartTarget,ih,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ca(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Xi._dragging===this&&this.finishDrag();return}if(!(Xi._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Xi._dragging=this,this._preventOutline&&ma(this._element),da(),En(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,n=ul(this._element);this._startPoint=new $(i.clientX,i.clientY),this._startPos=ge(this._element),this._parentScale=pa(n);var o=t.type==="mousedown";V(document,o?"mousemove":"touchmove",this._onMove,this),V(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,n=new $(i.clientX,i.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Zt(t),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),At(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Tt(document.body,"leaflet-dragging"),this._lastTarget&&(Tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_t(document,"mousemove touchmove",this._onMove,this),_t(document,"mouseup touchend touchcancel",this._onUp,this),_a(),On();var i=this._moved&&this._moving;this._moving=!1,Xi._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function vl(t,i,n){var o,a=[1,4,2,8],h,u,c,d,_,v,p,y;for(h=0,v=t.length;h<v;h++)t[h]._code=pe(t[h],i);for(c=0;c<4;c++){for(p=a[c],o=[],h=0,v=t.length,u=v-1;h<v;u=h++)d=t[h],_=t[u],d._code&p?_._code&p||(y=Es(_,d,p,i,n),y._code=pe(y,i),o.push(y)):(_._code&p&&(y=Es(_,d,p,i,n),y._code=pe(y,i),o.push(y)),o.push(d));t=o}return t}function gl(t,i){var n,o,a,h,u,c,d,_,v;if(!t||t.length===0)throw new Error("latlngs not passed");li(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var p=et([0,0]),y=Ot(t),M=y.getNorthWest().distanceTo(y.getSouthWest())*y.getNorthEast().distanceTo(y.getNorthWest());M<1700&&(p=Ma(t));var P=t.length,b=[];for(n=0;n<P;n++){var T=et(t[n]);b.push(i.project(et([T.lat-p.lat,T.lng-p.lng])))}for(c=d=_=0,n=0,o=P-1;n<P;o=n++)a=b[n],h=b[o],u=a.y*h.x-h.y*a.x,d+=(a.x+h.x)*u,_+=(a.y+h.y)*u,c+=u*3;c===0?v=b[0]:v=[d/c,_/c];var E=i.unproject(H(v));return et([E.lat+p.lat,E.lng+p.lng])}function Ma(t){for(var i=0,n=0,o=0,a=0;a<t.length;a++){var h=et(t[a]);i+=h.lat,n+=h.lng,o++}return et([i/o,n/o])}var nd={__proto__:null,clipPolygon:vl,polygonCenter:gl,centroid:Ma};function yl(t,i){if(!i||!t.length)return t.slice();var n=i*i;return t=ad(t,n),t=od(t,n),t}function xl(t,i,n){return Math.sqrt(qn(t,i,n,!0))}function sd(t,i,n){return qn(t,i,n)}function od(t,i){var n=t.length,o=typeof Uint8Array!=void 0+""?Uint8Array:Array,a=new o(n);a[0]=a[n-1]=1,Wo(t,a,i,0,n-1);var h,u=[];for(h=0;h<n;h++)a[h]&&u.push(t[h]);return u}function Wo(t,i,n,o,a){var h=0,u,c,d;for(c=o+1;c<=a-1;c++)d=qn(t[c],t[o],t[a],!0),d>h&&(u=c,h=d);h>n&&(i[u]=1,Wo(t,i,n,o,u),Wo(t,i,n,u,a))}function ad(t,i){for(var n=[t[0]],o=1,a=0,h=t.length;o<h;o++)rd(t[o],t[a])>i&&(n.push(t[o]),a=o);return a<h-1&&n.push(t[h-1]),n}var eh;function Ml(t,i,n,o,a){var h=o?eh:pe(t,n),u=pe(i,n),c,d,_;for(eh=u;;){if(!(h|u))return[t,i];if(h&u)return!1;c=h||u,d=Es(t,i,c,n,a),_=pe(d,n),c===h?(t=d,h=_):(i=d,u=_)}}function Es(t,i,n,o,a){var h=i.x-t.x,u=i.y-t.y,c=o.min,d=o.max,_,v;return n&8?(_=t.x+h*(d.y-t.y)/u,v=d.y):n&4?(_=t.x+h*(c.y-t.y)/u,v=c.y):n&2?(_=d.x,v=t.y+u*(d.x-t.x)/h):n&1&&(_=c.x,v=t.y+u*(c.x-t.x)/h),new $(_,v,a)}function pe(t,i){var n=0;return t.x<i.min.x?n|=1:t.x>i.max.x&&(n|=2),t.y<i.min.y?n|=4:t.y>i.max.y&&(n|=8),n}function rd(t,i){var n=i.x-t.x,o=i.y-t.y;return n*n+o*o}function qn(t,i,n,o){var a=i.x,h=i.y,u=n.x-a,c=n.y-h,d=u*u+c*c,_;return d>0&&(_=((t.x-a)*u+(t.y-h)*c)/d,_>1?(a=n.x,h=n.y):_>0&&(a+=u*_,h+=c*_)),u=t.x-a,c=t.y-h,o?u*u+c*c:new $(a,h)}function li(t){return!pi(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function wl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),li(t)}function Pl(t,i){var n,o,a,h,u,c,d,_;if(!t||t.length===0)throw new Error("latlngs not passed");li(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var v=et([0,0]),p=Ot(t),y=p.getNorthWest().distanceTo(p.getSouthWest())*p.getNorthEast().distanceTo(p.getNorthWest());y<1700&&(v=Ma(t));var M=t.length,P=[];for(n=0;n<M;n++){var b=et(t[n]);P.push(i.project(et([b.lat-v.lat,b.lng-v.lng])))}for(n=0,o=0;n<M-1;n++)o+=P[n].distanceTo(P[n+1])/2;if(o===0)_=P[0];else for(n=0,h=0;n<M-1;n++)if(u=P[n],c=P[n+1],a=u.distanceTo(c),h+=a,h>o){d=(h-o)/a,_=[c.x-d*(c.x-u.x),c.y-d*(c.y-u.y)];break}var T=i.unproject(H(_));return et([T.lat+v.lat,T.lng+v.lng])}var hd={__proto__:null,simplify:yl,pointToSegmentDistance:xl,closestPointOnSegment:sd,clipSegment:Ml,_getEdgeIntersection:Es,_getBitCode:pe,_sqClosestPointOnSegment:qn,isFlat:li,_flat:wl,polylineCenter:Pl},wa={project:function(t){return new $(t.lng,t.lat)},unproject:function(t){return new ut(t.y,t.x)},bounds:new wt([-180,-90],[180,90])},Ho={R:6378137,R_MINOR:6356752314245179e-9,bounds:new wt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,n=this.R,o=t.lat*i,a=this.R_MINOR/n,h=Math.sqrt(1-a*a),u=h*Math.sin(o),c=Math.tan(Math.PI/4-o/2)/Math.pow((1-u)/(1+u),h/2);return o=-n*Math.log(Math.max(c,1e-10)),new $(t.lng*i*n,o)},unproject:function(t){for(var i=180/Math.PI,n=this.R,o=this.R_MINOR/n,a=Math.sqrt(1-o*o),h=Math.exp(-t.y/n),u=Math.PI/2-2*Math.atan(h),c=0,d=.1,_;c<15&&Math.abs(d)>1e-7;c++)_=a*Math.sin(u),_=Math.pow((1-_)/(1+_),a/2),d=Math.PI/2-2*Math.atan(h*_)-u,u+=d;return new ut(u*i,t.x*i/n)}},ld={__proto__:null,LonLat:wa,Mercator:Ho,SphericalMercator:No},ud=ft({},Yi,{code:"EPSG:3395",projection:Ho,transformation:function(){var t=.5/(Math.PI*Ho.R);return Zn(t,.5,-t,.5)}()}),bl=ft({},Yi,{code:"EPSG:4326",projection:wa,transformation:Zn(1/180,1,-1/180,.5)}),cd=ft({},Hi,{projection:wa,transformation:Zn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var n=i.lng-t.lng,o=i.lat-t.lat;return Math.sqrt(n*n+o*o)},infinite:!0});Hi.Earth=Yi;Hi.EPSG3395=ud;Hi.EPSG3857=sa;Hi.EPSG900913=vf;Hi.EPSG4326=bl;Hi.Simple=cd;var vi=Nn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[at(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[at(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var n=this.getEvents();i.on(n,this),this.once("remove",function(){i.off(n,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});nt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=at(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=at(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return at(t)in this._layers},eachLayer:function(t,i){for(var n in this._layers)t.call(i,this._layers[n]);return this},_addLayers:function(t){t=t?pi(t)?t:[t]:[];for(var i=0,n=t.length;i<n;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[at(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=at(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var a=this._zoomBoundLayers[o].options;t=a.minZoom===void 0?t:Math.min(t,a.minZoom),i=a.maxZoom===void 0?i:Math.max(i,a.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fe=vi.extend({initialize:function(t,i){vt(this,i),this._layers={};var n,o;if(t)for(n=0,o=t.length;n<o;n++)this.addLayer(t[n])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),n,o;for(n in this._layers)o=this._layers[n],o[t]&&o[t].apply(o,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var n in this._layers)t.call(i,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return at(t)}}),fd=function(t,i){return new Fe(t,i)},Di=Fe.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Fe.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Fe.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Kt;for(var i in this._layers){var n=this._layers[i];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),dd=function(t,i){return new Di(t,i)},je=Wi.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){vt(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var n=this._getIconUrl(t);if(!n){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(n,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(o,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),o},_setIconStyles:function(t,i){var n=this.options,o=n[i+"Size"];typeof o=="number"&&(o=[o,o]);var a=H(o),h=H(i==="shadow"&&n.shadowAnchor||n.iconAnchor||a&&a.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(n.className||""),h&&(t.style.marginLeft=-h.x+"px",t.style.marginTop=-h.y+"px"),a&&(t.style.width=a.x+"px",t.style.height=a.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return N.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function _d(t){return new je(t)}var bn=je.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof bn.imagePath!="string"&&(bn.imagePath=this._detectIconPath()),(this.options.imagePath||bn.imagePath)+je.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(n,o,a){var h=o.exec(n);return h&&h[a]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ot("div","leaflet-default-icon-path",document.body),i=Cn(t,"background-image")||Cn(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),nh=Ai.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Xi(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,n=i._map,o=this._marker.options.autoPanSpeed,a=this._marker.options.autoPanPadding,h=ge(i._icon),u=n.getPixelBounds(),c=n.getPixelOrigin(),d=$t(u.min._subtract(c).add(a),u.max._subtract(c).subtract(a));if(!d.contains(h)){var _=H((Math.max(d.max.x,h.x)-d.max.x)/(u.max.x-d.max.x)-(Math.min(d.min.x,h.x)-d.min.x)/(u.min.x-d.min.x),(Math.max(d.max.y,h.y)-d.max.y)/(u.max.y-d.max.y)-(Math.min(d.min.y,h.y)-d.min.y)/(u.min.y-d.min.y)).multiplyBy(o);n.panBy(_,{animate:!1}),this._draggable._newPos._add(_),this._draggable._startPos._add(_),At(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Vt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(hi(this._panRequest),this._panRequest=Vt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,n=i._shadow,o=ge(i._icon),a=i._map.layerPointToLatLng(o);n&&At(n,o),i._latlng=a,t.latlng=a,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){hi(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Fs=vi.extend({options:{icon:new bn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){vt(this,i),this._latlng=et(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=et(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),o=!1;n!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(n.title=t.title),n.tagName==="IMG"&&(n.alt=t.alt||"")),J(n,i),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&V(n,"focus",this._panOnFocus,this);var a=t.icon.createShadow(this._shadow),h=!1;a!==this._shadow&&(this._removeShadow(),h=!0),a&&(J(a,i),a.alt=""),this._shadow=a,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&h&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_t(this._icon,"focus",this._panOnFocus,this),Mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&At(this._icon,t),this._shadow&&At(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nh)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nh(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&oi(this._icon,t),this._shadow&&oi(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,n=i.iconSize?H(i.iconSize):H(0,0),o=i.iconAnchor?H(i.iconAnchor):H(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:n.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function md(t,i){return new Fs(t,i)}var Qi=vi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return vt(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qs=Qi.extend({options:{fill:!0,radius:10},initialize:function(t,i){vt(this,i),this._latlng=et(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=et(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Qi.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,n=this._clickTolerance(),o=[t+n,i+n];this._pxBounds=new wt(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pd(t,i){return new qs(t,i)}var Pa=qs.extend({initialize:function(t,i,n){if(typeof i=="number"&&(i=ft({},n,{radius:i})),vt(this,i),this._latlng=et(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Kt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Qi.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,n=this._map,o=n.options.crs;if(o.distance===Yi.distance){var a=Math.PI/180,h=this._mRadius/Yi.R/a,u=n.project([i+h,t]),c=n.project([i-h,t]),d=u.add(c).divideBy(2),_=n.unproject(d).lat,v=Math.acos((Math.cos(h*a)-Math.sin(i*a)*Math.sin(_*a))/(Math.cos(i*a)*Math.cos(_*a)))/a;(isNaN(v)||v===0)&&(v=h/Math.cos(Math.PI/180*i)),this._point=d.subtract(n.getPixelOrigin()),this._radius=isNaN(v)?0:d.x-n.project([_,t-v]).x,this._radiusY=d.y-u.y}else{var p=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(p).x}this._updateBounds()}});function vd(t,i,n){return new Pa(t,i,n)}var Ri=Qi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){vt(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,n=null,o=qn,a,h,u=0,c=this._parts.length;u<c;u++)for(var d=this._parts[u],_=1,v=d.length;_<v;_++){a=d[_-1],h=d[_];var p=o(t,a,h,!0);p<i&&(i=p,n=o(t,a,h))}return n&&(n.distance=Math.sqrt(i)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=et(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Kt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return li(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],n=li(t),o=0,a=t.length;o<a;o++)n?(i[o]=et(t[o]),this._bounds.extend(i[o])):i[o]=this._convertLatLngs(t[o]);return i},_project:function(){var t=new wt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new $(t,t);this._rawPxBounds&&(this._pxBounds=new wt([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,n){var o=t[0]instanceof ut,a=t.length,h,u;if(o){for(u=[],h=0;h<a;h++)u[h]=this._map.latLngToLayerPoint(t[h]),n.extend(u[h]);i.push(u)}else for(h=0;h<a;h++)this._projectLatlngs(t[h],i,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,n,o,a,h,u,c,d;for(n=0,a=0,h=this._rings.length;n<h;n++)for(d=this._rings[n],o=0,u=d.length;o<u-1;o++)c=Ml(d[o],d[o+1],t,o,!0),c&&(i[a]=i[a]||[],i[a].push(c[0]),(c[1]!==d[o+1]||o===u-2)&&(i[a].push(c[1]),a++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,n=0,o=t.length;n<o;n++)t[n]=yl(t[n],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var n,o,a,h,u,c,d=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,h=this._parts.length;n<h;n++)for(c=this._parts[n],o=0,u=c.length,a=u-1;o<u;a=o++)if(!(!i&&o===0)&&xl(t,c[a],c[o])<=d)return!0;return!1}});function gd(t,i){return new Ri(t,i)}Ri._flat=wl;var Ue=Ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Ri.prototype._convertLatLngs.call(this,t),n=i.length;return n>=2&&i[0]instanceof ut&&i[0].equals(i[n-1])&&i.pop(),i},_setLatLngs:function(t){Ri.prototype._setLatLngs.call(this,t),li(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return li(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,n=new $(i,i);if(t=new wt(t.min.subtract(n),t.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var o=0,a=this._rings.length,h;o<a;o++)h=vl(this._rings[o],t,!0),h.length&&this._parts.push(h)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,n,o,a,h,u,c,d,_;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(h=0,d=this._parts.length;h<d;h++)for(n=this._parts[h],u=0,_=n.length,c=_-1;u<_;c=u++)o=n[u],a=n[c],o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(i=!i);return i||Ri.prototype._containsPoint.call(this,t,!0)}});function yd(t,i){return new Ue(t,i)}var Gi=Di.extend({initialize:function(t,i){vt(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=pi(t)?t:t.features,n,o,a;if(i){for(n=0,o=i.length;n<o;n++)a=i[n],(a.geometries||a.geometry||a.features||a.coordinates)&&this.addData(a);return this}var h=this.options;if(h.filter&&!h.filter(t))return this;var u=Os(t,h);return u?(u.feature=Hs(t),u.defaultOptions=u.options,this.resetStyle(u),h.onEachFeature&&h.onEachFeature(t,u),this.addLayer(u)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=ft({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Os(t,i){var n=t.type==="Feature"?t.geometry:t,o=n?n.coordinates:null,a=[],h=i&&i.pointToLayer,u=i&&i.coordsToLatLng||ba,c,d,_,v;if(!o&&!n)return null;switch(n.type){case"Point":return c=u(o),sh(h,t,c,i);case"MultiPoint":for(_=0,v=o.length;_<v;_++)c=u(o[_]),a.push(sh(h,t,c,i));return new Di(a);case"LineString":case"MultiLineString":return d=As(o,n.type==="LineString"?0:1,u),new Ri(d,i);case"Polygon":case"MultiPolygon":return d=As(o,n.type==="Polygon"?1:2,u),new Ue(d,i);case"GeometryCollection":for(_=0,v=n.geometries.length;_<v;_++){var p=Os({geometry:n.geometries[_],type:"Feature",properties:t.properties},i);p&&a.push(p)}return new Di(a);case"FeatureCollection":for(_=0,v=n.features.length;_<v;_++){var y=Os(n.features[_],i);y&&a.push(y)}return new Di(a);default:throw new Error("Invalid GeoJSON object.")}}function sh(t,i,n,o){return t?t(i,n):new Fs(n,o&&o.markersInheritOptions&&o)}function ba(t){return new ut(t[1],t[0],t[2])}function As(t,i,n){for(var o=[],a=0,h=t.length,u;a<h;a++)u=i?As(t[a],i-1,n):(n||ba)(t[a]),o.push(u);return o}function La(t,i){return t=et(t),t.alt!==void 0?[Pi(t.lng,i),Pi(t.lat,i),Pi(t.alt,i)]:[Pi(t.lng,i),Pi(t.lat,i)]}function Ws(t,i,n,o){for(var a=[],h=0,u=t.length;h<u;h++)a.push(i?Ws(t[h],li(t[h])?0:i-1,n,o):La(t[h],o));return!i&&n&&a.length>0&&a.push(a[0].slice()),a}function $e(t,i){return t.feature?ft({},t.feature,{geometry:i}):Hs(i)}function Hs(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Ta={toGeoJSON:function(t){return $e(this,{type:"Point",coordinates:La(this.getLatLng(),t)})}};Fs.include(Ta);Pa.include(Ta);qs.include(Ta);Ri.include({toGeoJSON:function(t){var i=!li(this._latlngs),n=Ws(this._latlngs,i?1:0,!1,t);return $e(this,{type:(i?"Multi":"")+"LineString",coordinates:n})}});Ue.include({toGeoJSON:function(t){var i=!li(this._latlngs),n=i&&!li(this._latlngs[0]),o=Ws(this._latlngs,n?2:i?1:0,!0,t);return i||(o=[o]),$e(this,{type:(n?"Multi":"")+"Polygon",coordinates:o})}});Fe.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(n){i.push(n.toGeoJSON(t).geometry.coordinates)}),$e(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var n=i==="GeometryCollection",o=[];return this.eachLayer(function(a){if(a.toGeoJSON){var h=a.toGeoJSON(t);if(n)o.push(h.geometry);else{var u=Hs(h);u.type==="FeatureCollection"?o.push.apply(o,u.features):o.push(u)}}}),n?$e(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});function Ll(t,i){return new Gi(t,i)}var xd=Ll,Gs=vi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,n){this._url=t,this._bounds=Ot(i),vt(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ye(this._image),this},bringToBack:function(){return this._map&&Qe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Ot(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:ot("img");if(J(i,"leaflet-image-layer"),this._zoomAnimated&&J(i,"leaflet-zoom-animated"),this.options.className&&J(i,this.options.className),i.onselectstart=Lt,i.onmousemove=Lt,i.onload=pt(this.fire,this,"load"),i.onerror=pt(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ve(this._image,n,i)},_reset:function(){var t=this._image,i=new wt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=i.getSize();At(t,i.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){oi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Md=function(t,i,n){return new Gs(t,i,n)},Tl=Gs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:ot("video");if(J(i,"leaflet-image-layer"),this._zoomAnimated&&J(i,"leaflet-zoom-animated"),this.options.className&&J(i,this.options.className),i.onselectstart=Lt,i.onmousemove=Lt,i.onloadeddata=pt(this.fire,this,"load"),t){for(var n=i.getElementsByTagName("source"),o=[],a=0;a<n.length;a++)o.push(n[a].src);this._url=n.length>0?o:[i.src];return}pi(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var h=0;h<this._url.length;h++){var u=ot("source");u.src=this._url[h],i.appendChild(u)}}});function wd(t,i,n){return new Tl(t,i,n)}var Sl=Gs.extend({_initImage:function(){var t=this._image=this._url;J(t,"leaflet-image-layer"),this._zoomAnimated&&J(t,"leaflet-zoom-animated"),this.options.className&&J(t,this.options.className),t.onselectstart=Lt,t.onmousemove=Lt}});function Pd(t,i,n){return new Sl(t,i,n)}var Li=vi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof ut||pi(t))?(this._latlng=et(t),vt(this,i)):(vt(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&oi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&oi(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(oi(this._container,0),this._removeTimeout=setTimeout(pt(Mt,void 0,this._container),200)):Mt(this._container),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=et(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ye(this._container),this},bringToBack:function(){return this._map&&Qe(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Di){i=null;var n=this._source._layers;for(var o in n)if(n[o]._map){i=n[o];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=H(this.options.offset),n=this._getAnchor();this._zoomAnimated?At(this._container,t.add(n)):i=i.add(t).add(n);var o=this._containerBottom=-i.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=o+"px",this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}});nt.include({_initOverlay:function(t,i,n,o){var a=i;return a instanceof t||(a=new t(o).setContent(i)),n&&a.setLatLng(n),a}});vi.include({_initOverlay:function(t,i,n,o){var a=n;return a instanceof t?(vt(a,o),a._source=this):(a=i&&!o?i:new t(o,this),a.setContent(n)),a}});var js=Li.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Li.prototype.openOn.call(this,t)},onAdd:function(t){Li.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qi||this._source.on("preclick",me))},onRemove:function(t){Li.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qi||this._source.off("preclick",me))},getEvents:function(){var t=Li.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=ot("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ot("div",t+"-content-wrapper",i);if(this._contentNode=ot("div",t+"-content",n),Dn(i),va(this._contentNode),V(i,"contextmenu",me),this._tipContainer=ot("div",t+"-tip-container",i),this._tip=ot("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=ot("a",t+"-close-button",i);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',V(o,"click",function(a){Zt(a),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),i.width=n+1+"px",i.whiteSpace="",i.height="";var o=t.offsetHeight,a=this.options.maxHeight,h="leaflet-popup-scrolled";a&&o>a?(i.height=a+"px",J(t,h)):Tt(t,h),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();At(this._container,i.add(n))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(Cn(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+i,o=this._containerWidth,a=new $(this._containerLeft,-n-this._containerBottom);a._add(ge(this._container));var h=t.layerPointToContainerPoint(a),u=H(this.options.autoPanPadding),c=H(this.options.autoPanPaddingTopLeft||u),d=H(this.options.autoPanPaddingBottomRight||u),_=t.getSize(),v=0,p=0;h.x+o+d.x>_.x&&(v=h.x+o-_.x+d.x),h.x-v-c.x<0&&(v=h.x-c.x),h.y+n+d.y>_.y&&(p=h.y+n-_.y+d.y),h.y-p-c.y<0&&(p=h.y-c.y),(v||p)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([v,p]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),bd=function(t,i){return new js(t,i)};nt.mergeOptions({closePopupOnClick:!0});nt.include({openPopup:function(t,i,n){return this._initOverlay(js,t,i,n).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}});vi.include({bindPopup:function(t,i){return this._popup=this._initOverlay(js,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Di||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){ye(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof Qi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Us=Li.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Li.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Li.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Li.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+at(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,n,o=this._map,a=this._container,h=o.latLngToContainerPoint(o.getCenter()),u=o.layerPointToContainerPoint(t),c=this.options.direction,d=a.offsetWidth,_=a.offsetHeight,v=H(this.options.offset),p=this._getAnchor();c==="top"?(i=d/2,n=_):c==="bottom"?(i=d/2,n=0):c==="center"?(i=d/2,n=_/2):c==="right"?(i=0,n=_/2):c==="left"?(i=d,n=_/2):u.x<h.x?(c="right",i=0,n=_/2):(c="left",i=d+(v.x+p.x)*2,n=_/2),t=t.subtract(H(i,n,!0)).add(v).add(p),Tt(a,"leaflet-tooltip-right"),Tt(a,"leaflet-tooltip-left"),Tt(a,"leaflet-tooltip-top"),Tt(a,"leaflet-tooltip-bottom"),J(a,"leaflet-tooltip-"+c),At(a,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&oi(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ld=function(t,i){return new Us(t,i)};nt.include({openTooltip:function(t,i,n){return this._initOverlay(Us,t,i,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}});vi.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Us,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[i](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Di||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(V(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),V(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,n,o;this._tooltip.options.sticky&&t.originalEvent&&(n=this._map.mouseEventToContainerPoint(t.originalEvent),o=this._map.containerPointToLayerPoint(n),i=this._map.layerPointToLatLng(o)),this._tooltip.setLatLng(i)}});var Cl=je.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(Ss(i),i.appendChild(n.html)):i.innerHTML=n.html!==!1?n.html:"",n.bgPos){var o=H(n.bgPos);i.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function Td(t){return new Cl(t)}je.Default=bn;var Ln=vi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:N.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){vt(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Mt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ye(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Dh(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof $?t:new $(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,n=-t(-1/0,1/0),o=0,a=i.length,h;o<a;o++)h=i[o].style.zIndex,i[o]!==this._container&&h&&(n=t(n,+h));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!N.ielt9){oi(this._container,this.options.opacity);var t=+new Date,i=!1,n=!1;for(var o in this._tiles){var a=this._tiles[o];if(!(!a.current||!a.loaded)){var h=Math.min(1,(t-a.loaded)/200);oi(a.el,h),h<1?i=!0:(a.active?n=!0:this._onOpaqueTile(a),a.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),i&&(hi(this._fadeFrame),this._fadeFrame=Vt(this._updateOpacity,this))}},_onOpaqueTile:Lt,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=i-Math.abs(t-n),this._onUpdateLevel(n)):(Mt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var o=this._levels[t],a=this._map;return o||(o=this._levels[t]={},o.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=i,o.origin=a.project(a.unproject(a.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,a.getCenter(),a.getZoom()),Lt(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:Lt,_onRemoveLevel:Lt,_onCreateLevel:Lt,_pruneTiles:function(){if(this._map){var t,i,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var o=i.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Mt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,n,o){var a=Math.floor(t/2),h=Math.floor(i/2),u=n-1,c=new $(+a,+h);c.z=+u;var d=this._tileCoordsToKey(c),_=this._tiles[d];return _&&_.active?(_.retain=!0,!0):(_&&_.loaded&&(_.retain=!0),u>o?this._retainParent(a,h,u,o):!1)},_retainChildren:function(t,i,n,o){for(var a=2*t;a<2*t+2;a++)for(var h=2*i;h<2*i+2;h++){var u=new $(a,h);u.z=n+1;var c=this._tileCoordsToKey(u),d=this._tiles[c];if(d&&d.active){d.retain=!0;continue}else d&&d.loaded&&(d.retain=!0);n+1<o&&this._retainChildren(a,h,n+1,o)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,n,o){var a=Math.round(i);this.options.maxZoom!==void 0&&a>this.options.maxZoom||this.options.minZoom!==void 0&&a<this.options.minZoom?a=void 0:a=this._clampZoom(a);var h=this.options.updateWhenZooming&&a!==this._tileZoom;(!o||h)&&(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),a!==void 0&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,i)},_setZoomTransform:function(t,i,n){var o=this._map.getZoomScale(n,t.zoom),a=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(i,n)).round();N.any3d?ve(t.el,a,o):At(t.el,a)},_resetGrid:function(){var t=this._map,i=t.options.crs,n=this._tileSize=this.getTileSize(),o=this._tileZoom,a=this._map.getPixelWorldBounds(this._tileZoom);a&&(this._globalTileRange=this._pxBoundsToTileRange(a)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],o).x/n.x),Math.ceil(t.project([0,i.wrapLng[1]],o).x/n.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],o).y/n.x),Math.ceil(t.project([i.wrapLat[1],0],o).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,n=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),o=i.getZoomScale(n,this._tileZoom),a=i.project(t,this._tileZoom).floor(),h=i.getSize().divideBy(o*2);return new wt(a.subtract(h),a.add(h))},_update:function(t){var i=this._map;if(i){var n=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var o=this._getTiledPixelBounds(t),a=this._pxBoundsToTileRange(o),h=a.getCenter(),u=[],c=this.options.keepBuffer,d=new wt(a.getBottomLeft().subtract([c,-c]),a.getTopRight().add([c,-c]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _ in this._tiles){var v=this._tiles[_].coords;(v.z!==this._tileZoom||!d.contains(new $(v.x,v.y)))&&(this._tiles[_].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var p=a.min.y;p<=a.max.y;p++)for(var y=a.min.x;y<=a.max.x;y++){var M=new $(y,p);if(M.z=this._tileZoom,!!this._isValidTile(M)){var P=this._tiles[this._tileCoordsToKey(M)];P?P.current=!0:u.push(M)}}if(u.sort(function(T,E){return T.distanceTo(h)-E.distanceTo(h)}),u.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var b=document.createDocumentFragment();for(y=0;y<u.length;y++)this._addTile(u[y],b);this._level.el.appendChild(b)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var n=this._globalTileRange;if(!i.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!i.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return Ot(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,n=this.getTileSize(),o=t.scaleBy(n),a=o.add(n),h=i.unproject(o,t.z),u=i.unproject(a,t.z);return[h,u]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),n=new Kt(i[0],i[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),n=new $(+i[0],+i[1]);return n.z=+i[2],n},_removeTile:function(t){var i=this._tiles[t];i&&(Mt(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){J(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=Lt,t.onmousemove=Lt,N.ielt9&&this.options.opacity<1&&oi(t,this.options.opacity)},_addTile:function(t,i){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),a=this.createTile(this._wrapCoords(t),pt(this._tileReady,this,t));this._initTile(a),this.createTile.length<2&&Vt(pt(this._tileReady,this,t,null,a)),At(a,n),this._tiles[o]={el:a,coords:t,current:!0},i.appendChild(a),this.fire("tileloadstart",{tile:a,coords:t})},_tileReady:function(t,i,n){i&&this.fire("tileerror",{error:i,tile:n,coords:t});var o=this._tileCoordsToKey(t);n=this._tiles[o],n&&(n.loaded=+new Date,this._map._fadeAnimated?(oi(n.el,0),hi(this._fadeFrame),this._fadeFrame=Vt(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),i||(J(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),N.ielt9||!this._map._fadeAnimated?Vt(this._pruneTiles,this):setTimeout(pt(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new $(this._wrapX?Sn(t.x,this._wrapX):t.x,this._wrapY?Sn(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new wt(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Sd(t){return new Ln(t)}var qe=Ln.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=vt(this,i),i.detectRetina&&N.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var n=document.createElement("img");return V(n,"load",pt(this._tileOnLoad,this,i,n)),V(n,"error",pt(this._tileOnError,this,i,n)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var i={r:N.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=n),i["-y"]=n}return qh(this._url,ft(i,this.options))},_tileOnLoad:function(t,i){N.ielt9?setTimeout(pt(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,n){var o=this.options.errorTileUrl;o&&i.getAttribute("src")!==o&&(i.src=o),t(n,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,n=this.options.zoomReverse,o=this.options.zoomOffset;return n&&(t=i-t),t+o},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=Lt,i.onerror=Lt,!i.complete)){i.src=ys;var n=this._tiles[t].coords;Mt(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:n})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",ys),Ln.prototype._removeTile.call(this,t)},_tileReady:function(t,i,n){if(!(!this._map||n&&n.getAttribute("src")===ys))return Ln.prototype._tileReady.call(this,t,i,n)}});function El(t,i){return new qe(t,i)}var Ol=qe.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var n=ft({},this.defaultWmsParams);for(var o in i)o in this.options||(n[o]=i[o]);i=vt(this,i);var a=i.detectRetina&&N.retina?2:1,h=this.getTileSize();n.width=h.x*a,n.height=h.y*a,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,qe.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),n=this._crs,o=$t(n.project(i[0]),n.project(i[1])),a=o.min,h=o.max,u=(this._wmsVersion>=1.3&&this._crs===bl?[a.y,a.x,h.y,h.x]:[a.x,a.y,h.x,h.y]).join(","),c=qe.prototype.getTileUrl.call(this,t);return c+Fh(this.wmsParams,c,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+u},setParams:function(t,i){return ft(this.wmsParams,t),i||this.redraw(),this}});function Cd(t,i){return new Ol(t,i)}qe.WMS=Ol;El.wms=Cd;var Zi=vi.extend({options:{padding:.1},initialize:function(t){vt(this,t),at(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var n=this._map.getZoomScale(i,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,i),h=o.multiplyBy(-n).add(a).subtract(this._map._getNewPixelOrigin(t,i));N.any3d?ve(this._container,h,n):At(this._container,h)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),n=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new wt(n,n.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Al=Zi.extend({options:{tolerance:0},getEvents:function(){var t=Zi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");V(t,"mousemove",this._onMouseMove,this),V(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),V(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){hi(this._redrawRequest),delete this._ctx,Mt(this._container),_t(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var t=this._bounds,i=this._container,n=t.getSize(),o=N.retina?2:1;At(i,t.min),i.width=o*n.x,i.height=o*n.y,i.style.width=n.x+"px",i.style.height=n.y+"px",N.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[at(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,n=i.next,o=i.prev;n?n.prev=o:this._drawLast=o,o?o.next=n:this._drawFirst=n,delete t._order,delete this._layers[at(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),n=[],o,a;for(a=0;a<i.length;a++){if(o=Number(i[a]),isNaN(o))return;n.push(o)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Vt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new wt,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var n=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var n,o,a,h,u=t._parts,c=u.length,d=this._ctx;if(c){for(d.beginPath(),n=0;n<c;n++){for(o=0,a=u[n].length;o<a;o++)h=u[n][o],d[o?"lineTo":"moveTo"](h.x,h.y);i&&d.closePath()}this._fillStroke(d,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,n=this._ctx,o=Math.max(Math.round(t._radius),1),a=(Math.max(Math.round(t._radiusY),1)||o)/o;a!==1&&(n.save(),n.scale(1,a)),n.beginPath(),n.arc(i.x,i.y/a,o,0,Math.PI*2,!1),a!==1&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,i){var n=i.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&n.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),n,o,a=this._drawFirst;a;a=a.next)n=a.layer,n.options.interactive&&n._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(n))&&(o=n);this._fireEvent(o?[o]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var n,o,a=this._drawFirst;a;a=a.next)n=a.layer,n.options.interactive&&n._containsPoint(i)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(J(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(pt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,n){this._map._fireDOMEvent(i,n||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var n=i.next,o=i.prev;if(n)n.prev=o;else return;o?o.next=n:n&&(this._drawFirst=n),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var n=i.next,o=i.prev;if(o)o.next=n;else return;n?n.prev=o:o&&(this._drawLast=o),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function zl(t){return N.canvas?new Al(t):null}var yn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ed={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=yn("shape");J(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=yn("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[at(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;Mt(i),t.removeInteractiveTarget(i),delete this._layers[at(t)]},_updateStyle:function(t){var i=t._stroke,n=t._fill,o=t.options,a=t._container;a.stroked=!!o.stroke,a.filled=!!o.fill,o.stroke?(i||(i=t._stroke=yn("stroke")),a.appendChild(i),i.weight=o.weight+"px",i.color=o.color,i.opacity=o.opacity,o.dashArray?i.dashStyle=pi(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=o.lineCap.replace("butt","flat"),i.joinstyle=o.lineJoin):i&&(a.removeChild(i),t._stroke=null),o.fill?(n||(n=t._fill=yn("fill")),a.appendChild(n),n.color=o.fillColor||o.color,n.opacity=o.fillOpacity):n&&(a.removeChild(n),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),n=Math.round(t._radius),o=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+n+","+o+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Ye(t._container)},_bringToBack:function(t){Qe(t._container)}},ws=N.vml?yn:Gh,Wn=Zi.extend({_initContainer:function(){this._container=ws("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ws("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mt(this._container),_t(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var t=this._bounds,i=t.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,n.setAttribute("width",i.x),n.setAttribute("height",i.y)),At(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=ws("path");t.options.className&&J(i,t.options.className),t.options.interactive&&J(i,"leaflet-interactive"),this._updateStyle(t),this._layers[at(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Mt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[at(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,n=t.options;i&&(n.stroke?(i.setAttribute("stroke",n.color),i.setAttribute("stroke-opacity",n.opacity),i.setAttribute("stroke-width",n.weight),i.setAttribute("stroke-linecap",n.lineCap),i.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?i.setAttribute("stroke-dasharray",n.dashArray):i.removeAttribute("stroke-dasharray"),n.dashOffset?i.setAttribute("stroke-dashoffset",n.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),n.fill?(i.setAttribute("fill",n.fillColor||n.color),i.setAttribute("fill-opacity",n.fillOpacity),i.setAttribute("fill-rule",n.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,jh(t._parts,i))},_updateCircle:function(t){var i=t._point,n=Math.max(Math.round(t._radius),1),o=Math.max(Math.round(t._radiusY),1)||n,a="a"+n+","+o+" 0 1,0 ",h=t._empty()?"M0 0":"M"+(i.x-n)+","+i.y+a+n*2+",0 "+a+-n*2+",0 ";this._setPath(t,h)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Ye(t._path)},_bringToBack:function(t){Qe(t._path)}});N.vml&&Wn.include(Ed);function Il(t){return N.svg||N.vml?new Wn(t):null}nt.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&zl(t)||Il(t)}});var kl=Ue.extend({initialize:function(t,i){Ue.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Ot(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Od(t,i){return new kl(t,i)}Wn.create=ws;Wn.pointsToPath=jh;Gi.geometryToLayer=Os;Gi.coordsToLatLng=ba;Gi.coordsToLatLngs=As;Gi.latLngToCoords=La;Gi.latLngsToCoords=Ws;Gi.getFeature=$e;Gi.asFeature=Hs;nt.mergeOptions({boxZoom:!0});var Bl=Ai.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_t(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),En(),da(),this._startPoint=this._map.mouseEventToContainerPoint(t),V(document,{contextmenu:ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new wt(this._point,this._startPoint),n=i.getSize();At(this._box,i.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(Mt(this._box),Tt(this._container,"leaflet-crosshair")),On(),_a(),_t(document,{contextmenu:ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(pt(this._resetState,this),0);var i=new Kt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nt.addInitHook("addHandler","boxZoom",Bl);nt.mergeOptions({doubleClickZoom:!0});var Nl=Ai.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,n=i.getZoom(),o=i.options.zoomDelta,a=t.originalEvent.shiftKey?n-o:n+o;i.options.doubleClickZoom==="center"?i.setZoom(a):i.setZoomAround(t.containerPoint,a)}});nt.addInitHook("addHandler","doubleClickZoom",Nl);nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Zl=Ai.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Xi(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tt(this._map._container,"leaflet-grab"),Tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=Ot(this._map.options.maxBounds);this._offsetLimit=$t(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),n=this._initialWorldOffset,o=this._draggable._newPos.x,a=(o-i+n)%t+i-n,h=(o+i+n)%t-i-n,u=Math.abs(a+n)<Math.abs(h+n)?a:h;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=u},_onDragEnd:function(t){var i=this._map,n=i.options,o=!n.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),o)i.fire("moveend");else{this._prunePositions(+new Date);var a=this._lastPos.subtract(this._positions[0]),h=(this._lastTime-this._times[0])/1e3,u=n.easeLinearity,c=a.multiplyBy(u/h),d=c.distanceTo([0,0]),_=Math.min(n.inertiaMaxSpeed,d),v=c.multiplyBy(_/d),p=_/(n.inertiaDeceleration*u),y=v.multiplyBy(-p/2).round();!y.x&&!y.y?i.fire("moveend"):(y=i._limitOffset(y,i.options.maxBounds),Vt(function(){i.panBy(y,{duration:p,easeLinearity:u,noMoveStart:!0,animate:!0})}))}}});nt.addInitHook("addHandler","dragging",Zl);nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Rl=Ai.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),V(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,n=t.scrollTop||i.scrollTop,o=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(o,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},n=this.keyCodes,o,a;for(o=0,a=n.left.length;o<a;o++)i[n.left[o]]=[-1*t,0];for(o=0,a=n.right.length;o<a;o++)i[n.right[o]]=[t,0];for(o=0,a=n.down.length;o<a;o++)i[n.down[o]]=[0,t];for(o=0,a=n.up.length;o<a;o++)i[n.up[o]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},n=this.keyCodes,o,a;for(o=0,a=n.zoomIn.length;o<a;o++)i[n.zoomIn[o]]=t;for(o=0,a=n.zoomOut.length;o<a;o++)i[n.zoomOut[o]]=-t},_addHooks:function(){V(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,n=this._map,o;if(i in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(o=this._panKeys[i],t.shiftKey&&(o=H(o).multiplyBy(3)),n.options.maxBounds&&(o=n._limitOffset(H(o),n.options.maxBounds)),n.options.worldCopyJump){var a=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(o)));n.panTo(a)}else n.panBy(o)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;ye(t)}}});nt.addInitHook("addHandler","keyboard",Rl);nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Dl=Ai.extend({addHooks:function(){V(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_t(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=dl(t),n=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(pt(this._performZoom,this),o),ye(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(this._map.options.wheelPxPerZoomLevel*4),a=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,h=n?Math.ceil(a/n)*n:a,u=t._limitZoom(i+(this._delta>0?h:-h))-i;this._delta=0,this._startTime=null,u&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+u):t.setZoomAround(this._lastMousePos,i+u))}});nt.addInitHook("addHandler","scrollWheelZoom",Dl);var Ad=600;nt.mergeOptions({tapHold:N.touchNative&&N.safari&&N.mobile,tapTolerance:15});var Fl=Ai.extend({addHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_t(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new $(i.clientX,i.clientY),this._holdTimeout=setTimeout(pt(function(){this._cancel(),this._isTapValid()&&(V(document,"touchend",Zt),V(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Ad),V(document,"touchend touchcancel contextmenu",this._cancel,this),V(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){_t(document,"touchend",Zt),_t(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),_t(document,"touchend touchcancel contextmenu",this._cancel,this),_t(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new $(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});n._simulated=!0,i.target.dispatchEvent(n)}});nt.addInitHook("addHandler","tapHold",Fl);nt.mergeOptions({touchZoom:N.touch,bounceAtZoomLimits:!0});var ql=Ai.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),V(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),_t(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var n=i.mouseEventToContainerPoint(t.touches[0]),o=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(n.add(o)._divideBy(2))),this._startDist=n.distanceTo(o),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),V(document,"touchmove",this._onTouchMove,this),V(document,"touchend touchcancel",this._onTouchEnd,this),Zt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,n=i.mouseEventToContainerPoint(t.touches[0]),o=i.mouseEventToContainerPoint(t.touches[1]),a=n.distanceTo(o)/this._startDist;if(this._zoom=i.getScaleZoom(a,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&a<1||this._zoom>i.getMaxZoom()&&a>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,a===1)return}else{var h=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(a===1&&h.x===0&&h.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(h),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),hi(this._animRequest);var u=pt(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Vt(u,this,!0),Zt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,hi(this._animRequest),_t(document,"touchmove",this._onTouchMove,this),_t(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});nt.addInitHook("addHandler","touchZoom",ql);nt.BoxZoom=Bl;nt.DoubleClickZoom=Nl;nt.Drag=Zl;nt.Keyboard=Rl;nt.ScrollWheelZoom=Dl;nt.TapHold=Fl;nt.TouchZoom=ql;const re=Object.freeze(Object.defineProperty({__proto__:null,Bounds:wt,Browser:N,CRS:Hi,Canvas:Al,Circle:Pa,CircleMarker:qs,Class:Wi,Control:mi,DivIcon:Cl,DivOverlay:Li,DomEvent:Kf,DomUtil:$f,Draggable:Xi,Evented:Nn,FeatureGroup:Di,GeoJSON:Gi,GridLayer:Ln,Handler:Ai,Icon:je,ImageOverlay:Gs,LatLng:ut,LatLngBounds:Kt,Layer:vi,LayerGroup:Fe,LineUtil:hd,Map:nt,Marker:Fs,Mixin:ed,Path:Qi,Point:$,PolyUtil:nd,Polygon:Ue,Polyline:Ri,Popup:js,PosAnimation:_l,Projection:ld,Rectangle:kl,Renderer:Zi,SVG:Wn,SVGOverlay:Sl,TileLayer:qe,Tooltip:Us,Transformation:na,Util:mf,VideoOverlay:Tl,bind:pt,bounds:$t,canvas:zl,circle:vd,circleMarker:pd,control:Fn,divIcon:Td,extend:ft,featureGroup:dd,geoJSON:Ll,geoJson:xd,gridLayer:Sd,icon:_d,imageOverlay:Md,latLng:et,latLngBounds:Ot,layerGroup:fd,map:Xf,marker:md,point:H,polygon:yd,polyline:gd,popup:bd,rectangle:Od,setOptions:vt,stamp:at,svg:Il,svgOverlay:Pd,tileLayer:El,tooltip:Ld,transformation:Zn,version:df,videoOverlay:wd},Symbol.toStringTag,{value:"Module"}));var ps={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var oh;function Wl(){return oh||(oh=1,function(t,i){(function(n,o){o(i)})(Dc,function(n){var o="1.9.4";function a(e){var s,r,l,f;for(r=1,l=arguments.length;r<l;r++){f=arguments[r];for(s in f)e[s]=f[s]}return e}var h=Object.create||function(){function e(){}return function(s){return e.prototype=s,new e}}();function u(e,s){var r=Array.prototype.slice;if(e.bind)return e.bind.apply(e,r.call(arguments,1));var l=r.call(arguments,2);return function(){return e.apply(s,l.length?l.concat(r.call(arguments)):arguments)}}var c=0;function d(e){return"_leaflet_id"in e||(e._leaflet_id=++c),e._leaflet_id}function _(e,s,r){var l,f,m,g;return g=function(){l=!1,f&&(m.apply(r,f),f=!1)},m=function(){l?f=arguments:(e.apply(r,arguments),setTimeout(g,s),l=!0)},m}function v(e,s,r){var l=s[1],f=s[0],m=l-f;return e===l&&r?e:((e-f)%m+m)%m+f}function p(){return!1}function y(e,s){if(s===!1)return e;var r=Math.pow(10,s===void 0?6:s);return Math.round(e*r)/r}function M(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function P(e){return M(e).split(/\s+/)}function b(e,s){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?h(e.options):{});for(var r in s)e.options[r]=s[r];return e.options}function T(e,s,r){var l=[];for(var f in e)l.push(encodeURIComponent(r?f.toUpperCase():f)+"="+encodeURIComponent(e[f]));return(!s||s.indexOf("?")===-1?"?":"&")+l.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function I(e,s){return e.replace(E,function(r,l){var f=s[l];if(f===void 0)throw new Error("No value provided for variable "+r);return typeof f=="function"&&(f=f(s)),f})}var k=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function K(e,s){for(var r=0;r<e.length;r++)if(e[r]===s)return r;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var mt=0;function R(e){var s=+new Date,r=Math.max(0,16-(s-mt));return mt=s+r,window.setTimeout(e,r)}var Z=window.requestAnimationFrame||F("RequestAnimationFrame")||R,Q=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ct(e,s,r){if(r&&Z===R)e.call(s);else return Z.call(window,u(e,s))}function zt(e){e&&Q.call(window,e)}var he={__proto__:null,extend:a,create:h,bind:u,get lastId(){return c},stamp:d,throttle:_,wrapNum:v,falseFn:p,formatNum:y,trim:M,splitWords:P,setOptions:b,getParamString:T,template:I,isArray:k,indexOf:K,emptyImageUrl:G,requestFn:Z,cancelFn:Q,requestAnimFrame:ct,cancelAnimFrame:zt};function ti(){}ti.extend=function(e){var s=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=s.__super__=this.prototype,l=h(r);l.constructor=s,s.prototype=l;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return e.statics&&a(s,e.statics),e.includes&&(Ks(e.includes),a.apply(null,[l].concat(e.includes))),a(l,e),delete l.statics,delete l.includes,l.options&&(l.options=r.options?h(r.options):{},a(l.options,e.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,g=l._initHooks.length;m<g;m++)l._initHooks[m].call(this)}},s},ti.include=function(e){var s=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=s,this.mergeOptions(e.options)),this},ti.mergeOptions=function(e){return a(this.prototype.options,e),this},ti.addInitHook=function(e){var s=Array.prototype.slice.call(arguments,1),r=typeof e=="function"?e:function(){this[e].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Ks(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=k(e)?e:[e];for(var s=0;s<e.length;s++)e[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Jt={on:function(e,s,r){if(typeof e=="object")for(var l in e)this._on(l,e[l],s);else{e=P(e);for(var f=0,m=e.length;f<m;f++)this._on(e[f],s,r)}return this},off:function(e,s,r){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var l in e)this._off(l,e[l],s);else{e=P(e);for(var f=arguments.length===1,m=0,g=e.length;m<g;m++)f?this._off(e[m]):this._off(e[m],s,r)}return this},_on:function(e,s,r,l){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(e,s,r)===!1){r===this&&(r=void 0);var f={fn:s,ctx:r};l&&(f.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(f)}},_off:function(e,s,r){var l,f,m;if(this._events&&(l=this._events[e],!!l)){if(arguments.length===1){if(this._firingCount)for(f=0,m=l.length;f<m;f++)l[f].fn=p;delete this._events[e];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var g=this._listens(e,s,r);if(g!==!1){var x=l[g];this._firingCount&&(x.fn=p,this._events[e]=l=l.slice()),l.splice(g,1)}}},fire:function(e,s,r){if(!this.listens(e,r))return this;var l=a({},s,{type:e,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[e];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,g=f.length;m<g;m++){var x=f[m],w=x.fn;x.once&&this.off(e,w,x.ctx),w.call(x.ctx||this,l)}this._firingCount--}}return r&&this._propagateEvent(l),this},listens:function(e,s,r,l){typeof e!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(l=!!s,f=void 0,r=void 0);var m=this._events&&this._events[e];if(m&&m.length&&this._listens(e,f,r)!==!1)return!0;if(l){for(var g in this._eventParents)if(this._eventParents[g].listens(e,s,r,l))return!0}return!1},_listens:function(e,s,r){if(!this._events)return!1;var l=this._events[e]||[];if(!s)return!!l.length;r===this&&(r=void 0);for(var f=0,m=l.length;f<m;f++)if(l[f].fn===s&&l[f].ctx===r)return f;return!1},once:function(e,s,r){if(typeof e=="object")for(var l in e)this._on(l,e[l],s,!0);else{e=P(e);for(var f=0,m=e.length;f<m;f++)this._on(e[f],s,r,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[d(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[d(e)],this},_propagateEvent:function(e){for(var s in this._eventParents)this._eventParents[s].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};Jt.addEventListener=Jt.on,Jt.removeEventListener=Jt.clearAllEventListeners=Jt.off,Jt.addOneTimeEventListener=Jt.once,Jt.fireEvent=Jt.fire,Jt.hasEventListeners=Jt.listens;var en=ti.extend(Jt);function j(e,s,r){this.x=r?Math.round(e):e,this.y=r?Math.round(s):s}var za=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(e){return this.clone()._add(W(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(W(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new j(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new j(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=za(this.x),this.y=za(this.y),this},distanceTo:function(e){e=W(e);var s=e.x-this.x,r=e.y-this.y;return Math.sqrt(s*s+r*r)},equals:function(e){return e=W(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=W(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function W(e,s,r){return e instanceof j?e:k(e)?new j(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new j(e.x,e.y):new j(e,s,r)}function gt(e,s){if(e)for(var r=s?[e,s]:e,l=0,f=r.length;l<f;l++)this.extend(r[l])}gt.prototype={extend:function(e){var s,r;if(!e)return this;if(e instanceof j||typeof e[0]=="number"||"x"in e)s=r=W(e);else if(e=Ht(e),s=e.min,r=e.max,!s||!r)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=r.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(e){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var s,r;return typeof e[0]=="number"||e instanceof j?e=W(e):e=Ht(e),e instanceof gt?(s=e.min,r=e.max):s=r=e,s.x>=this.min.x&&r.x<=this.max.x&&s.y>=this.min.y&&r.y<=this.max.y},intersects:function(e){e=Ht(e);var s=this.min,r=this.max,l=e.min,f=e.max,m=f.x>=s.x&&l.x<=r.x,g=f.y>=s.y&&l.y<=r.y;return m&&g},overlaps:function(e){e=Ht(e);var s=this.min,r=this.max,l=e.min,f=e.max,m=f.x>s.x&&l.x<r.x,g=f.y>s.y&&l.y<r.y;return m&&g},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var s=this.min,r=this.max,l=Math.abs(s.x-r.x)*e,f=Math.abs(s.y-r.y)*e;return Ht(W(s.x-l,s.y-f),W(r.x+l,r.y+f))},equals:function(e){return e?(e=Ht(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Ht(e,s){return!e||e instanceof gt?e:new gt(e,s)}function Gt(e,s){if(e)for(var r=s?[e,s]:e,l=0,f=r.length;l<f;l++)this.extend(r[l])}Gt.prototype={extend:function(e){var s=this._southWest,r=this._northEast,l,f;if(e instanceof lt)l=e,f=e;else if(e instanceof Gt){if(l=e._southWest,f=e._northEast,!l||!f)return this}else return e?this.extend(tt(e)||St(e)):this;return!s&&!r?(this._southWest=new lt(l.lat,l.lng),this._northEast=new lt(f.lat,f.lng)):(s.lat=Math.min(l.lat,s.lat),s.lng=Math.min(l.lng,s.lng),r.lat=Math.max(f.lat,r.lat),r.lng=Math.max(f.lng,r.lng)),this},pad:function(e){var s=this._southWest,r=this._northEast,l=Math.abs(s.lat-r.lat)*e,f=Math.abs(s.lng-r.lng)*e;return new Gt(new lt(s.lat-l,s.lng-f),new lt(r.lat+l,r.lng+f))},getCenter:function(){return new lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof lt||"lat"in e?e=tt(e):e=St(e);var s=this._southWest,r=this._northEast,l,f;return e instanceof Gt?(l=e.getSouthWest(),f=e.getNorthEast()):l=f=e,l.lat>=s.lat&&f.lat<=r.lat&&l.lng>=s.lng&&f.lng<=r.lng},intersects:function(e){e=St(e);var s=this._southWest,r=this._northEast,l=e.getSouthWest(),f=e.getNorthEast(),m=f.lat>=s.lat&&l.lat<=r.lat,g=f.lng>=s.lng&&l.lng<=r.lng;return m&&g},overlaps:function(e){e=St(e);var s=this._southWest,r=this._northEast,l=e.getSouthWest(),f=e.getNorthEast(),m=f.lat>s.lat&&l.lat<r.lat,g=f.lng>s.lng&&l.lng<r.lng;return m&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,s){return e?(e=St(e),this._southWest.equals(e.getSouthWest(),s)&&this._northEast.equals(e.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function St(e,s){return e instanceof Gt?e:new Gt(e,s)}function lt(e,s,r){if(isNaN(e)||isNaN(s))throw new Error("Invalid LatLng object: ("+e+", "+s+")");this.lat=+e,this.lng=+s,r!==void 0&&(this.alt=+r)}lt.prototype={equals:function(e,s){if(!e)return!1;e=tt(e);var r=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return r<=(s===void 0?1e-9:s)},toString:function(e){return"LatLng("+y(this.lat,e)+", "+y(this.lng,e)+")"},distanceTo:function(e){return Ui.distance(this,tt(e))},wrap:function(){return Ui.wrapLatLng(this)},toBounds:function(e){var s=180*e/40075017,r=s/Math.cos(Math.PI/180*this.lat);return St([this.lat-s,this.lng-r],[this.lat+s,this.lng+r])},clone:function(){return new lt(this.lat,this.lng,this.alt)}};function tt(e,s,r){return e instanceof lt?e:k(e)&&typeof e[0]!="object"?e.length===3?new lt(e[0],e[1],e[2]):e.length===2?new lt(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new lt(e.lat,"lng"in e?e.lng:e.lon,e.alt):s===void 0?null:new lt(e,s,r)}var zi={latLngToPoint:function(e,s){var r=this.projection.project(e),l=this.scale(s);return this.transformation._transform(r,l)},pointToLatLng:function(e,s){var r=this.scale(s),l=this.transformation.untransform(e,r);return this.projection.unproject(l)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var s=this.projection.bounds,r=this.scale(e),l=this.transformation.transform(s.min,r),f=this.transformation.transform(s.max,r);return new gt(l,f)},infinite:!1,wrapLatLng:function(e){var s=this.wrapLng?v(e.lng,this.wrapLng,!0):e.lng,r=this.wrapLat?v(e.lat,this.wrapLat,!0):e.lat,l=e.alt;return new lt(r,s,l)},wrapLatLngBounds:function(e){var s=e.getCenter(),r=this.wrapLatLng(s),l=s.lat-r.lat,f=s.lng-r.lng;if(l===0&&f===0)return e;var m=e.getSouthWest(),g=e.getNorthEast(),x=new lt(m.lat-l,m.lng-f),w=new lt(g.lat-l,g.lng-f);return new Gt(x,w)}},Ui=a({},zi,{wrapLng:[-180,180],R:6371e3,distance:function(e,s){var r=Math.PI/180,l=e.lat*r,f=s.lat*r,m=Math.sin((s.lat-e.lat)*r/2),g=Math.sin((s.lng-e.lng)*r/2),x=m*m+Math.cos(l)*Math.cos(f)*g*g,w=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return this.R*w}}),Ia=6378137,Xs={R:Ia,MAX_LATITUDE:85.0511287798,project:function(e){var s=Math.PI/180,r=this.MAX_LATITUDE,l=Math.max(Math.min(r,e.lat),-r),f=Math.sin(l*s);return new j(this.R*e.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(e){var s=180/Math.PI;return new lt((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*s,e.x*s/this.R)},bounds:function(){var e=Ia*Math.PI;return new gt([-e,-e],[e,e])}()};function Js(e,s,r,l){if(k(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=s,this._c=r,this._d=l}Js.prototype={transform:function(e,s){return this._transform(e.clone(),s)},_transform:function(e,s){return s=s||1,e.x=s*(this._a*e.x+this._b),e.y=s*(this._c*e.y+this._d),e},untransform:function(e,s){return s=s||1,new j((e.x/s-this._b)/this._a,(e.y/s-this._d)/this._c)}};function nn(e,s,r,l){return new Js(e,s,r,l)}var Ys=a({},Ui,{code:"EPSG:3857",projection:Xs,transformation:function(){var e=.5/(Math.PI*Xs.R);return nn(e,.5,-e,.5)}()}),du=a({},Ys,{code:"EPSG:900913"});function ka(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ba(e,s){var r="",l,f,m,g,x,w;for(l=0,m=e.length;l<m;l++){for(x=e[l],f=0,g=x.length;f<g;f++)w=x[f],r+=(f?"L":"M")+w.x+" "+w.y;r+=s?B.svg?"z":"x":""}return r||"M0 0"}var Qs=document.documentElement.style,Vn="ActiveXObject"in window,_u=Vn&&!document.addEventListener,Na="msLaunchUri"in navigator&&!("documentMode"in document),to=gi("webkit"),Za=gi("android"),Ra=gi("android 2")||gi("android 3"),mu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pu=Za&&gi("Google")&&mu<537&&!("AudioNode"in window),io=!!window.opera,Da=!Na&&gi("chrome"),Fa=gi("gecko")&&!to&&!io&&!Vn,vu=!Da&&gi("safari"),qa=gi("phantom"),Wa="OTransition"in Qs,gu=navigator.platform.indexOf("Win")===0,Ha=Vn&&"transition"in Qs,eo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ra,Ga="MozPerspective"in Qs,yu=!window.L_DISABLE_3D&&(Ha||eo||Ga)&&!Wa&&!qa,sn=typeof orientation<"u"||gi("mobile"),xu=sn&&to,Mu=sn&&eo,ja=!window.PointerEvent&&window.MSPointerEvent,Ua=!!(window.PointerEvent||ja),$a="ontouchstart"in window||!!window.TouchEvent,wu=!window.L_NO_TOUCH&&($a||Ua),Pu=sn&&io,bu=sn&&Fa,Lu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tu=function(){var e=!1;try{var s=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",p,s),window.removeEventListener("testPassiveEventSupport",p,s)}catch{}return e}(),Su=function(){return!!document.createElement("canvas").getContext}(),no=!!(document.createElementNS&&ka("svg").createSVGRect),Cu=!!no&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Eu=!no&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var s=e.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Ou=navigator.platform.indexOf("Mac")===0,Au=navigator.platform.indexOf("Linux")===0;function gi(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var B={ie:Vn,ielt9:_u,edge:Na,webkit:to,android:Za,android23:Ra,androidStock:pu,opera:io,chrome:Da,gecko:Fa,safari:vu,phantom:qa,opera12:Wa,win:gu,ie3d:Ha,webkit3d:eo,gecko3d:Ga,any3d:yu,mobile:sn,mobileWebkit:xu,mobileWebkit3d:Mu,msPointer:ja,pointer:Ua,touch:wu,touchNative:$a,mobileOpera:Pu,mobileGecko:bu,retina:Lu,passiveEvents:Tu,canvas:Su,svg:no,vml:Eu,inlineSvg:Cu,mac:Ou,linux:Au},Va=B.msPointer?"MSPointerDown":"pointerdown",Ka=B.msPointer?"MSPointerMove":"pointermove",Xa=B.msPointer?"MSPointerUp":"pointerup",Ja=B.msPointer?"MSPointerCancel":"pointercancel",so={touchstart:Va,touchmove:Ka,touchend:Xa,touchcancel:Ja},Ya={touchstart:Zu,touchmove:Kn,touchend:Kn,touchcancel:Kn},Te={},Qa=!1;function zu(e,s,r){return s==="touchstart"&&Nu(),Ya[s]?(r=Ya[s].bind(this,r),e.addEventListener(so[s],r,!1),r):(console.warn("wrong event specified:",s),p)}function Iu(e,s,r){if(!so[s]){console.warn("wrong event specified:",s);return}e.removeEventListener(so[s],r,!1)}function ku(e){Te[e.pointerId]=e}function Bu(e){Te[e.pointerId]&&(Te[e.pointerId]=e)}function tr(e){delete Te[e.pointerId]}function Nu(){Qa||(document.addEventListener(Va,ku,!0),document.addEventListener(Ka,Bu,!0),document.addEventListener(Xa,tr,!0),document.addEventListener(Ja,tr,!0),Qa=!0)}function Kn(e,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var r in Te)s.touches.push(Te[r]);s.changedTouches=[s],e(s)}}function Zu(e,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Bt(s),Kn(e,s)}function Ru(e){var s={},r,l;for(l in e)r=e[l],s[l]=r&&r.bind?r.bind(e):r;return e=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Du=200;function Fu(e,s){e.addEventListener("dblclick",s);var r=0,l;function f(m){if(m.detail!==1){l=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var g=or(m);if(!(g.some(function(w){return w instanceof HTMLLabelElement&&w.attributes.for})&&!g.some(function(w){return w instanceof HTMLInputElement||w instanceof HTMLSelectElement}))){var x=Date.now();x-r<=Du?(l++,l===2&&s(Ru(m))):l=1,r=x}}}return e.addEventListener("click",f),{dblclick:s,simDblclick:f}}function qu(e,s){e.removeEventListener("dblclick",s.dblclick),e.removeEventListener("click",s.simDblclick)}var oo=Yn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),on=Yn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ir=on==="webkitTransition"||on==="OTransition"?on+"End":"transitionend";function er(e){return typeof e=="string"?document.getElementById(e):e}function an(e,s){var r=e.style[s]||e.currentStyle&&e.currentStyle[s];if((!r||r==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(e,null);r=l?l[s]:null}return r==="auto"?null:r}function st(e,s,r){var l=document.createElement(e);return l.className=s||"",r&&r.appendChild(l),l}function yt(e){var s=e.parentNode;s&&s.removeChild(e)}function Xn(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Se(e){var s=e.parentNode;s&&s.lastChild!==e&&s.appendChild(e)}function Ce(e){var s=e.parentNode;s&&s.firstChild!==e&&s.insertBefore(e,s.firstChild)}function ao(e,s){if(e.classList!==void 0)return e.classList.contains(s);var r=Jn(e);return r.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(r)}function X(e,s){if(e.classList!==void 0)for(var r=P(s),l=0,f=r.length;l<f;l++)e.classList.add(r[l]);else if(!ao(e,s)){var m=Jn(e);ro(e,(m?m+" ":"")+s)}}function Pt(e,s){e.classList!==void 0?e.classList.remove(s):ro(e,M((" "+Jn(e)+" ").replace(" "+s+" "," ")))}function ro(e,s){e.className.baseVal===void 0?e.className=s:e.className.baseVal=s}function Jn(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function ii(e,s){"opacity"in e.style?e.style.opacity=s:"filter"in e.style&&Wu(e,s)}function Wu(e,s){var r=!1,l="DXImageTransform.Microsoft.Alpha";try{r=e.filters.item(l)}catch{if(s===1)return}s=Math.round(s*100),r?(r.Enabled=s!==100,r.Opacity=s):e.style.filter+=" progid:"+l+"(opacity="+s+")"}function Yn(e){for(var s=document.documentElement.style,r=0;r<e.length;r++)if(e[r]in s)return e[r];return!1}function le(e,s,r){var l=s||new j(0,0);e.style[oo]=(B.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(r?" scale("+r+")":"")}function Ct(e,s){e._leaflet_pos=s,B.any3d?le(e,s):(e.style.left=s.x+"px",e.style.top=s.y+"px")}function ue(e){return e._leaflet_pos||new j(0,0)}var rn,hn,ho;if("onselectstart"in document)rn=function(){U(window,"selectstart",Bt)},hn=function(){dt(window,"selectstart",Bt)};else{var ln=Yn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rn=function(){if(ln){var e=document.documentElement.style;ho=e[ln],e[ln]="none"}},hn=function(){ln&&(document.documentElement.style[ln]=ho,ho=void 0)}}function lo(){U(window,"dragstart",Bt)}function uo(){dt(window,"dragstart",Bt)}var Qn,co;function fo(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(ts(),Qn=e,co=e.style.outlineStyle,e.style.outlineStyle="none",U(window,"keydown",ts))}function ts(){Qn&&(Qn.style.outlineStyle=co,Qn=void 0,co=void 0,dt(window,"keydown",ts))}function nr(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function _o(e){var s=e.getBoundingClientRect();return{x:s.width/e.offsetWidth||1,y:s.height/e.offsetHeight||1,boundingClientRect:s}}var Hu={__proto__:null,TRANSFORM:oo,TRANSITION:on,TRANSITION_END:ir,get:er,getStyle:an,create:st,remove:yt,empty:Xn,toFront:Se,toBack:Ce,hasClass:ao,addClass:X,removeClass:Pt,setClass:ro,getClass:Jn,setOpacity:ii,testProp:Yn,setTransform:le,setPosition:Ct,getPosition:ue,get disableTextSelection(){return rn},get enableTextSelection(){return hn},disableImageDrag:lo,enableImageDrag:uo,preventOutline:fo,restoreOutline:ts,getSizedParentNode:nr,getScale:_o};function U(e,s,r,l){if(s&&typeof s=="object")for(var f in s)po(e,f,s[f],r);else{s=P(s);for(var m=0,g=s.length;m<g;m++)po(e,s[m],r,l)}return this}var yi="_leaflet_events";function dt(e,s,r,l){if(arguments.length===1)sr(e),delete e[yi];else if(s&&typeof s=="object")for(var f in s)vo(e,f,s[f],r);else if(s=P(s),arguments.length===2)sr(e,function(x){return K(s,x)!==-1});else for(var m=0,g=s.length;m<g;m++)vo(e,s[m],r,l);return this}function sr(e,s){for(var r in e[yi]){var l=r.split(/\d/)[0];(!s||s(l))&&vo(e,l,null,null,r)}}var mo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function po(e,s,r,l){var f=s+d(r)+(l?"_"+d(l):"");if(e[yi]&&e[yi][f])return this;var m=function(x){return r.call(l||e,x||window.event)},g=m;!B.touchNative&&B.pointer&&s.indexOf("touch")===0?m=zu(e,s,m):B.touch&&s==="dblclick"?m=Fu(e,m):"addEventListener"in e?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?e.addEventListener(mo[s]||s,m,B.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(m=function(x){x=x||window.event,yo(e,x)&&g(x)},e.addEventListener(mo[s],m,!1)):e.addEventListener(s,g,!1):e.attachEvent("on"+s,m),e[yi]=e[yi]||{},e[yi][f]=m}function vo(e,s,r,l,f){f=f||s+d(r)+(l?"_"+d(l):"");var m=e[yi]&&e[yi][f];if(!m)return this;!B.touchNative&&B.pointer&&s.indexOf("touch")===0?Iu(e,s,m):B.touch&&s==="dblclick"?qu(e,m):"removeEventListener"in e?e.removeEventListener(mo[s]||s,m,!1):e.detachEvent("on"+s,m),e[yi][f]=null}function ce(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function go(e){return po(e,"wheel",ce),this}function un(e){return U(e,"mousedown touchstart dblclick contextmenu",ce),e._leaflet_disable_click=!0,this}function Bt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function fe(e){return Bt(e),ce(e),this}function or(e){if(e.composedPath)return e.composedPath();for(var s=[],r=e.target;r;)s.push(r),r=r.parentNode;return s}function ar(e,s){if(!s)return new j(e.clientX,e.clientY);var r=_o(s),l=r.boundingClientRect;return new j((e.clientX-l.left)/r.x-s.clientLeft,(e.clientY-l.top)/r.y-s.clientTop)}var Gu=B.linux&&B.chrome?window.devicePixelRatio:B.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rr(e){return B.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Gu:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function yo(e,s){var r=s.relatedTarget;if(!r)return!0;try{for(;r&&r!==e;)r=r.parentNode}catch{return!1}return r!==e}var ju={__proto__:null,on:U,off:dt,stopPropagation:ce,disableScrollPropagation:go,disableClickPropagation:un,preventDefault:Bt,stop:fe,getPropagationPath:or,getMousePosition:ar,getWheelDelta:rr,isExternalTarget:yo,addListener:U,removeListener:dt},hr=en.extend({run:function(e,s,r,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=ue(e),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ct(this._animate,this),this._step()},_step:function(e){var s=+new Date-this._startTime,r=this._duration*1e3;s<r?this._runFrame(this._easeOut(s/r),e):(this._runFrame(1),this._complete())},_runFrame:function(e,s){var r=this._startPos.add(this._offset.multiplyBy(e));s&&r._round(),Ct(this._el,r),this.fire("step")},_complete:function(){zt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),it=en.extend({options:{crs:Ys,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,s){s=b(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(tt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=on&&B.any3d&&!B.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),U(this._proxy,ir,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,s,r){if(s=s===void 0?this._zoom:this._limitZoom(s),e=this._limitCenter(tt(e),s,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=a({animate:r.animate},r.zoom),r.pan=a({animate:r.animate,duration:r.duration},r.pan));var l=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,s,r.zoom):this._tryAnimatedPan(e,r.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(e,s,r.pan&&r.pan.noMoveStart),this},setZoom:function(e,s){return this._loaded?this.setView(this.getCenter(),e,{zoom:s}):(this._zoom=e,this)},zoomIn:function(e,s){return e=e||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,s)},zoomOut:function(e,s){return e=e||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,s)},setZoomAround:function(e,s,r){var l=this.getZoomScale(s),f=this.getSize().divideBy(2),m=e instanceof j?e:this.latLngToContainerPoint(e),g=m.subtract(f).multiplyBy(1-1/l),x=this.containerPointToLatLng(f.add(g));return this.setView(x,s,{zoom:r})},_getBoundsCenterZoom:function(e,s){s=s||{},e=e.getBounds?e.getBounds():St(e);var r=W(s.paddingTopLeft||s.padding||[0,0]),l=W(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(e,!1,r.add(l));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:e.getCenter(),zoom:f};var m=l.subtract(r).divideBy(2),g=this.project(e.getSouthWest(),f),x=this.project(e.getNorthEast(),f),w=this.unproject(g.add(x).divideBy(2).add(m),f);return{center:w,zoom:f}},fitBounds:function(e,s){if(e=St(e),!e.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(e,s);return this.setView(r.center,r.zoom,s)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,s){return this.setView(e,this._zoom,{pan:s})},panBy:function(e,s){if(e=W(e).round(),s=s||{},!e.x&&!e.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){X(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,r,s.duration||.25,s.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,s,r){if(r=r||{},r.animate===!1||!B.any3d)return this.setView(e,s,r);this._stop();var l=this.project(this.getCenter()),f=this.project(e),m=this.getSize(),g=this._zoom;e=tt(e),s=s===void 0?g:s;var x=Math.max(m.x,m.y),w=x*this.getZoomScale(g,s),S=f.distanceTo(l)||1,A=1.42,D=A*A;function Y(Et){var fs=Et?-1:1,Ic=Et?w:x,kc=w*w-x*x+fs*D*D*S*S,Bc=2*Ic*D*S,Oo=kc/Bc,Wr=Math.sqrt(Oo*Oo+1)-Oo,Nc=Wr<1e-9?-18:Math.log(Wr);return Nc}function Dt(Et){return(Math.exp(Et)-Math.exp(-Et))/2}function It(Et){return(Math.exp(Et)+Math.exp(-Et))/2}function ni(Et){return Dt(Et)/It(Et)}var jt=Y(0);function ke(Et){return x*(It(jt)/It(jt+A*Et))}function Ec(Et){return x*(It(jt)*ni(jt+A*Et)-Dt(jt))/D}function Oc(Et){return 1-Math.pow(1-Et,1.5)}var Ac=Date.now(),Fr=(Y(1)-jt)/A,zc=r.duration?1e3*r.duration:1e3*Fr*.8;function qr(){var Et=(Date.now()-Ac)/zc,fs=Oc(Et)*Fr;Et<=1?(this._flyToFrame=ct(qr,this),this._move(this.unproject(l.add(f.subtract(l).multiplyBy(Ec(fs)/S)),g),this.getScaleZoom(x/ke(fs),g),{flyTo:!0})):this._move(e,s)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),qr.call(this),this},flyToBounds:function(e,s){var r=this._getBoundsCenterZoom(e,s);return this.flyTo(r.center,r.zoom,s)},setMaxBounds:function(e){return e=St(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var s=this.options.minZoom;return this.options.minZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var s=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,s){this._enforcingBounds=!0;var r=this.getCenter(),l=this._limitCenter(r,this._zoom,St(e));return r.equals(l)||this.panTo(l,s),this._enforcingBounds=!1,this},panInside:function(e,s){s=s||{};var r=W(s.paddingTopLeft||s.padding||[0,0]),l=W(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(e),g=this.getPixelBounds(),x=Ht([g.min.add(r),g.max.subtract(l)]),w=x.getSize();if(!x.contains(m)){this._enforcingBounds=!0;var S=m.subtract(x.getCenter()),A=x.extend(m).getSize().subtract(w);f.x+=S.x<0?-A.x:A.x,f.y+=S.y<0?-A.y:A.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),l=s.divideBy(2).round(),f=r.divideBy(2).round(),m=l.subtract(f);return!m.x&&!m.y?this:(e.animate&&e.pan?this.panBy(m):(e.pan&&this._rawPanBy(m),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),r=u(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,r,e):navigator.geolocation.getCurrentPosition(s,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var s=e.code,r=e.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var s=e.coords.latitude,r=e.coords.longitude,l=new lt(s,r),f=l.toBounds(e.coords.accuracy*2),m=this._locateOptions;if(m.setView){var g=this.getBoundsZoom(f);this.setView(l,m.maxZoom?Math.min(g,m.maxZoom):g)}var x={latlng:l,bounds:f,timestamp:e.timestamp};for(var w in e.coords)typeof e.coords[w]=="number"&&(x[w]=e.coords[w]);this.fire("locationfound",x)}},addHandler:function(e,s){if(!s)return this;var r=this[e]=new s(this);return this._handlers.push(r),this.options[e]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(zt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)yt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,s){var r="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),l=st("div",r,s||this._mapPane);return e&&(this._panes[e]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),s=this.unproject(e.getBottomLeft()),r=this.unproject(e.getTopRight());return new Gt(s,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,s,r){e=St(e),r=W(r||[0,0]);var l=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),g=e.getNorthWest(),x=e.getSouthEast(),w=this.getSize().subtract(r),S=Ht(this.project(x,l),this.project(g,l)).getSize(),A=B.any3d?this.options.zoomSnap:1,D=w.x/S.x,Y=w.y/S.y,Dt=s?Math.max(D,Y):Math.min(D,Y);return l=this.getScaleZoom(Dt,l),A&&(l=Math.round(l/(A/100))*(A/100),l=s?Math.ceil(l/A)*A:Math.floor(l/A)*A),Math.max(f,Math.min(m,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,s){var r=this._getTopLeftPoint(e,s);return new gt(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,s){var r=this.options.crs;return s=s===void 0?this._zoom:s,r.scale(e)/r.scale(s)},getScaleZoom:function(e,s){var r=this.options.crs;s=s===void 0?this._zoom:s;var l=r.zoom(e*r.scale(s));return isNaN(l)?1/0:l},project:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(tt(e),s)},unproject:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(W(e),s)},layerPointToLatLng:function(e){var s=W(e).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(e){var s=this.project(tt(e))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(tt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(St(e))},distance:function(e,s){return this.options.crs.distance(tt(e),tt(s))},containerPointToLayerPoint:function(e){return W(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return W(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var s=this.containerPointToLayerPoint(W(e));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(tt(e)))},mouseEventToContainerPoint:function(e){return ar(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var s=this._container=er(e);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");U(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&B.any3d,X(e,"leaflet-container"+(B.touch?" leaflet-touch":"")+(B.retina?" leaflet-retina":"")+(B.ielt9?" leaflet-oldie":"")+(B.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=an(e,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(X(e.markerPane,"leaflet-zoom-hide"),X(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,s,r){Ct(this._mapPane,new j(0,0));var l=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,r)._move(e,s)._moveEnd(f),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(e,s){return e&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(e,s,r,l){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?r&&r.pinch&&this.fire("zoom",r):((f||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return zt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ct(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[d(this._container)]=this;var s=e?dt:U;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),B.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){zt(this._resizeRequest),this._resizeRequest=ct(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,s){for(var r=[],l,f=s==="mouseout"||s==="mouseover",m=e.target||e.srcElement,g=!1;m;){if(l=this._targets[d(m)],l&&(s==="click"||s==="preclick")&&this._draggableMoved(l)){g=!0;break}if(l&&l.listens(s,!0)&&(f&&!yo(m,e)||(r.push(l),f))||m===this._container)break;m=m.parentNode}return!r.length&&!g&&!f&&this.listens(s,!0)&&(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var s=e.target||e.srcElement;if(!(!this._loaded||s._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(s))){var r=e.type;r==="mousedown"&&fo(s),this._fireDOMEvent(e,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,s,r){if(e.type==="click"){var l=a({},e);l.type="preclick",this._fireDOMEvent(l,l.type,r)}var f=this._findEventTargets(e,s);if(r){for(var m=[],g=0;g<r.length;g++)r[g].listens(s,!0)&&m.push(r[g]);f=m.concat(f)}if(f.length){s==="contextmenu"&&Bt(e);var x=f[0],w={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var S=x.getLatLng&&(!x._radius||x._radius<=10);w.containerPoint=S?this.latLngToContainerPoint(x.getLatLng()):this.mouseEventToContainerPoint(e),w.layerPoint=this.containerPointToLayerPoint(w.containerPoint),w.latlng=S?x.getLatLng():this.layerPointToLatLng(w.layerPoint)}for(g=0;g<f.length;g++)if(f[g].fire(s,w,!0),w.originalEvent._stopped||f[g].options.bubblingMouseEvents===!1&&K(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,s=this._handlers.length;e<s;e++)this._handlers[e].disable()},whenReady:function(e,s){return this._loaded?e.call(s||this,{target:this}):this.on("load",e,s),this},_getMapPanePos:function(){return ue(this._mapPane)||new j(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,s){var r=e&&s!==void 0?this._getNewPixelOrigin(e,s):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,s){var r=this.getSize()._divideBy(2);return this.project(e,s)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,s,r){var l=this._getNewPixelOrigin(r,s);return this.project(e,s)._subtract(l)},_latLngBoundsToNewLayerBounds:function(e,s,r){var l=this._getNewPixelOrigin(r,s);return Ht([this.project(e.getSouthWest(),s)._subtract(l),this.project(e.getNorthWest(),s)._subtract(l),this.project(e.getSouthEast(),s)._subtract(l),this.project(e.getNorthEast(),s)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,s,r){if(!r)return e;var l=this.project(e,s),f=this.getSize().divideBy(2),m=new gt(l.subtract(f),l.add(f)),g=this._getBoundsOffset(m,r,s);return Math.abs(g.x)<=1&&Math.abs(g.y)<=1?e:this.unproject(l.add(g),s)},_limitOffset:function(e,s){if(!s)return e;var r=this.getPixelBounds(),l=new gt(r.min.add(e),r.max.add(e));return e.add(this._getBoundsOffset(l,s))},_getBoundsOffset:function(e,s,r){var l=Ht(this.project(s.getNorthEast(),r),this.project(s.getSouthWest(),r)),f=l.min.subtract(e.min),m=l.max.subtract(e.max),g=this._rebound(f.x,-m.x),x=this._rebound(f.y,-m.y);return new j(g,x)},_rebound:function(e,s){return e+s>0?Math.round(e-s)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(s))},_limitZoom:function(e){var s=this.getMinZoom(),r=this.getMaxZoom(),l=B.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(s,Math.min(r,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,s){var r=this._getCenterOffset(e)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,s),!0)},_createAnimProxy:function(){var e=this._proxy=st("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(s){var r=oo,l=this._proxy.style[r];le(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),l===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),s=this.getZoom();le(this._proxy,this.project(e,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,s,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(s),f=this._getCenterOffset(e)._divideBy(1-1/l);return r.animate!==!0&&!this.getSize().contains(f)?!1:(ct(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(e,s,!0)},this),!0)},_animateZoom:function(e,s,r,l){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=s,X(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:s,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Uu(e,s){return new it(e,s)}var ui=ti.extend({options:{position:"topright"},initialize:function(e){b(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var s=this._map;return s&&s.removeControl(this),this.options.position=e,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var s=this._container=this.onAdd(e),r=this.getPosition(),l=e._controlCorners[r];return X(s,"leaflet-control"),r.indexOf("bottom")!==-1?l.insertBefore(s,l.firstChild):l.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),cn=function(e){return new ui(e)};it.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},s="leaflet-",r=this._controlContainer=st("div",s+"control-container",this._container);function l(f,m){var g=s+f+" "+s+m;e[f+m]=st("div",g,r)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)yt(this._controlCorners[e]);yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var lr=ui.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,s,r,l){return r<l?-1:l<r?1:0}},initialize:function(e,s,r){b(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in e)this._addLayer(e[l],l);for(l in s)this._addLayer(s[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return ui.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,s){return this._addLayer(e,s),this._map?this._update():this},addOverlay:function(e,s){return this._addLayer(e,s,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(e));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){X(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(X(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",s=this._container=st("div",e),r=this.options.collapsed;s.setAttribute("aria-haspopup",!0),un(s),go(s);var l=this._section=st("section",e+"-list");r&&(this._map.on("click",this.collapse,this),U(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=st("a",e+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),U(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Bt(m),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=st("div",e+"-base",l),this._separator=st("div",e+"-separator",l),this._overlaysList=st("div",e+"-overlays",l),s.appendChild(l)},_getLayer:function(e){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===e)return this._layers[s]},_addLayer:function(e,s,r){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:s,overlay:r}),this.options.sortLayers&&this._layers.sort(u(function(l,f){return this.options.sortFunction(l.layer,f.layer,l.name,f.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xn(this._baseLayersList),Xn(this._overlaysList),this._layerControlInputs=[];var e,s,r,l,f=0;for(r=0;r<this._layers.length;r++)l=this._layers[r],this._addItem(l),s=s||l.overlay,e=e||!l.overlay,f+=l.overlay?0:1;return this.options.hideSingleBase&&(e=e&&f>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=s&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var s=this._getLayer(d(e.target)),r=s.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;r&&this._map.fire(r,s)},_createRadioElement:function(e,s){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(s?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=r,l.firstChild},_addItem:function(e){var s=document.createElement("label"),r=this._map.hasLayer(e.layer),l;e.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=r):l=this._createRadioElement("leaflet-base-layers_"+d(this),r),this._layerControlInputs.push(l),l.layerId=d(e.layer),U(l,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+e.name;var m=document.createElement("span");s.appendChild(m),m.appendChild(l),m.appendChild(f);var g=e.overlay?this._overlaysList:this._baseLayersList;return g.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,s,r,l=[],f=[];this._handlingClick=!0;for(var m=e.length-1;m>=0;m--)s=e[m],r=this._getLayer(s.layerId).layer,s.checked?l.push(r):s.checked||f.push(r);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<l.length;m++)this._map.hasLayer(l[m])||this._map.addLayer(l[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,s,r,l=this._map.getZoom(),f=e.length-1;f>=0;f--)s=e[f],r=this._getLayer(s.layerId).layer,s.disabled=r.options.minZoom!==void 0&&l<r.options.minZoom||r.options.maxZoom!==void 0&&l>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,U(e,"click",Bt),this.expand();var s=this;setTimeout(function(){dt(e,"click",Bt),s._preventClick=!1})}}),$u=function(e,s,r){return new lr(e,s,r)},xo=ui.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var s="leaflet-control-zoom",r=st("div",s+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,s+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,s+"-out",r,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,s,r,l,f){var m=st("a",r,l);return m.innerHTML=e,m.href="#",m.title=s,m.setAttribute("role","button"),m.setAttribute("aria-label",s),un(m),U(m,"click",fe),U(m,"click",f,this),U(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var e=this._map,s="leaflet-disabled";Pt(this._zoomInButton,s),Pt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(X(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(X(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});it.mergeOptions({zoomControl:!0}),it.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xo,this.addControl(this.zoomControl))});var Vu=function(e){return new xo(e)},ur=ui.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var s="leaflet-control-scale",r=st("div",s),l=this.options;return this._addScales(l,s+"-line",r),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),r},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,s,r){e.metric&&(this._mScale=st("div",s,r)),e.imperial&&(this._iScale=st("div",s,r))},_update:function(){var e=this._map,s=e.getSize().y/2,r=e.distance(e.containerPointToLatLng([0,s]),e.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(r)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var s=this._getRoundNum(e),r=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,r,s/e)},_updateImperial:function(e){var s=e*3.2808399,r,l,f;s>5280?(r=s/5280,l=this._getRoundNum(r),this._updateScale(this._iScale,l+" mi",l/r)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(e,s,r){e.style.width=Math.round(this.options.maxWidth*r)+"px",e.innerHTML=s},_getRoundNum:function(e){var s=Math.pow(10,(Math.floor(e)+"").length-1),r=e/s;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,s*r}}),Ku=function(e){return new ur(e)},Xu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Mo=ui.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(B.inlineSvg?Xu+" ":"")+"Leaflet</a>"},initialize:function(e){b(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=st("div","leaflet-control-attribution"),un(this._container);for(var s in e._layers)e._layers[s].getAttribution&&this.addAttribution(e._layers[s].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var s in this._attributions)this._attributions[s]&&e.push(s);var r=[];this.options.prefix&&r.push(this.options.prefix),e.length&&r.push(e.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});it.mergeOptions({attributionControl:!0}),it.addInitHook(function(){this.options.attributionControl&&new Mo().addTo(this)});var Ju=function(e){return new Mo(e)};ui.Layers=lr,ui.Zoom=xo,ui.Scale=ur,ui.Attribution=Mo,cn.layers=$u,cn.zoom=Vu,cn.scale=Ku,cn.attribution=Ju;var xi=ti.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xi.addTo=function(e,s){return e.addHandler(s,this),this};var Yu={Events:Jt},cr=B.touch?"touchstart mousedown":"mousedown",$i=en.extend({options:{clickTolerance:3},initialize:function(e,s,r,l){b(this,l),this._element=e,this._dragStartTarget=s||e,this._preventOutline=r},enable:function(){this._enabled||(U(this._dragStartTarget,cr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($i._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,cr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ao(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){$i._dragging===this&&this.finishDrag();return}if(!($i._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&($i._dragging=this,this._preventOutline&&fo(this._element),lo(),rn(),!this._moving)){this.fire("down");var s=e.touches?e.touches[0]:e,r=nr(this._element);this._startPoint=new j(s.clientX,s.clientY),this._startPos=ue(this._element),this._parentScale=_o(r);var l=e.type==="mousedown";U(document,l?"mousemove":"touchmove",this._onMove,this),U(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var s=e.touches&&e.touches.length===1?e.touches[0]:e,r=new j(s.clientX,s.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Bt(e),this._moved||(this.fire("dragstart"),this._moved=!0,X(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),X(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ct(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),uo(),hn();var s=this._moved&&this._moving;this._moving=!1,$i._dragging=!1,s&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function fr(e,s,r){var l,f=[1,4,2,8],m,g,x,w,S,A,D,Y;for(m=0,A=e.length;m<A;m++)e[m]._code=de(e[m],s);for(x=0;x<4;x++){for(D=f[x],l=[],m=0,A=e.length,g=A-1;m<A;g=m++)w=e[m],S=e[g],w._code&D?S._code&D||(Y=is(S,w,D,s,r),Y._code=de(Y,s),l.push(Y)):(S._code&D&&(Y=is(S,w,D,s,r),Y._code=de(Y,s),l.push(Y)),l.push(w));e=l}return e}function dr(e,s){var r,l,f,m,g,x,w,S,A;if(!e||e.length===0)throw new Error("latlngs not passed");ei(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var D=tt([0,0]),Y=St(e),Dt=Y.getNorthWest().distanceTo(Y.getSouthWest())*Y.getNorthEast().distanceTo(Y.getNorthWest());Dt<1700&&(D=wo(e));var It=e.length,ni=[];for(r=0;r<It;r++){var jt=tt(e[r]);ni.push(s.project(tt([jt.lat-D.lat,jt.lng-D.lng])))}for(x=w=S=0,r=0,l=It-1;r<It;l=r++)f=ni[r],m=ni[l],g=f.y*m.x-m.y*f.x,w+=(f.x+m.x)*g,S+=(f.y+m.y)*g,x+=g*3;x===0?A=ni[0]:A=[w/x,S/x];var ke=s.unproject(W(A));return tt([ke.lat+D.lat,ke.lng+D.lng])}function wo(e){for(var s=0,r=0,l=0,f=0;f<e.length;f++){var m=tt(e[f]);s+=m.lat,r+=m.lng,l++}return tt([s/l,r/l])}var Qu={__proto__:null,clipPolygon:fr,polygonCenter:dr,centroid:wo};function _r(e,s){if(!s||!e.length)return e.slice();var r=s*s;return e=ec(e,r),e=ic(e,r),e}function mr(e,s,r){return Math.sqrt(fn(e,s,r,!0))}function tc(e,s,r){return fn(e,s,r)}function ic(e,s){var r=e.length,l=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new l(r);f[0]=f[r-1]=1,Po(e,f,s,0,r-1);var m,g=[];for(m=0;m<r;m++)f[m]&&g.push(e[m]);return g}function Po(e,s,r,l,f){var m=0,g,x,w;for(x=l+1;x<=f-1;x++)w=fn(e[x],e[l],e[f],!0),w>m&&(g=x,m=w);m>r&&(s[g]=1,Po(e,s,r,l,g),Po(e,s,r,g,f))}function ec(e,s){for(var r=[e[0]],l=1,f=0,m=e.length;l<m;l++)nc(e[l],e[f])>s&&(r.push(e[l]),f=l);return f<m-1&&r.push(e[m-1]),r}var pr;function vr(e,s,r,l,f){var m=l?pr:de(e,r),g=de(s,r),x,w,S;for(pr=g;;){if(!(m|g))return[e,s];if(m&g)return!1;x=m||g,w=is(e,s,x,r,f),S=de(w,r),x===m?(e=w,m=S):(s=w,g=S)}}function is(e,s,r,l,f){var m=s.x-e.x,g=s.y-e.y,x=l.min,w=l.max,S,A;return r&8?(S=e.x+m*(w.y-e.y)/g,A=w.y):r&4?(S=e.x+m*(x.y-e.y)/g,A=x.y):r&2?(S=w.x,A=e.y+g*(w.x-e.x)/m):r&1&&(S=x.x,A=e.y+g*(x.x-e.x)/m),new j(S,A,f)}function de(e,s){var r=0;return e.x<s.min.x?r|=1:e.x>s.max.x&&(r|=2),e.y<s.min.y?r|=4:e.y>s.max.y&&(r|=8),r}function nc(e,s){var r=s.x-e.x,l=s.y-e.y;return r*r+l*l}function fn(e,s,r,l){var f=s.x,m=s.y,g=r.x-f,x=r.y-m,w=g*g+x*x,S;return w>0&&(S=((e.x-f)*g+(e.y-m)*x)/w,S>1?(f=r.x,m=r.y):S>0&&(f+=g*S,m+=x*S)),g=e.x-f,x=e.y-m,l?g*g+x*x:new j(f,m)}function ei(e){return!k(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function gr(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ei(e)}function yr(e,s){var r,l,f,m,g,x,w,S;if(!e||e.length===0)throw new Error("latlngs not passed");ei(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var A=tt([0,0]),D=St(e),Y=D.getNorthWest().distanceTo(D.getSouthWest())*D.getNorthEast().distanceTo(D.getNorthWest());Y<1700&&(A=wo(e));var Dt=e.length,It=[];for(r=0;r<Dt;r++){var ni=tt(e[r]);It.push(s.project(tt([ni.lat-A.lat,ni.lng-A.lng])))}for(r=0,l=0;r<Dt-1;r++)l+=It[r].distanceTo(It[r+1])/2;if(l===0)S=It[0];else for(r=0,m=0;r<Dt-1;r++)if(g=It[r],x=It[r+1],f=g.distanceTo(x),m+=f,m>l){w=(m-l)/f,S=[x.x-w*(x.x-g.x),x.y-w*(x.y-g.y)];break}var jt=s.unproject(W(S));return tt([jt.lat+A.lat,jt.lng+A.lng])}var sc={__proto__:null,simplify:_r,pointToSegmentDistance:mr,closestPointOnSegment:tc,clipSegment:vr,_getEdgeIntersection:is,_getBitCode:de,_sqClosestPointOnSegment:fn,isFlat:ei,_flat:gr,polylineCenter:yr},bo={project:function(e){return new j(e.lng,e.lat)},unproject:function(e){return new lt(e.y,e.x)},bounds:new gt([-180,-90],[180,90])},Lo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new gt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var s=Math.PI/180,r=this.R,l=e.lat*s,f=this.R_MINOR/r,m=Math.sqrt(1-f*f),g=m*Math.sin(l),x=Math.tan(Math.PI/4-l/2)/Math.pow((1-g)/(1+g),m/2);return l=-r*Math.log(Math.max(x,1e-10)),new j(e.lng*s*r,l)},unproject:function(e){for(var s=180/Math.PI,r=this.R,l=this.R_MINOR/r,f=Math.sqrt(1-l*l),m=Math.exp(-e.y/r),g=Math.PI/2-2*Math.atan(m),x=0,w=.1,S;x<15&&Math.abs(w)>1e-7;x++)S=f*Math.sin(g),S=Math.pow((1-S)/(1+S),f/2),w=Math.PI/2-2*Math.atan(m*S)-g,g+=w;return new lt(g*s,e.x*s/r)}},oc={__proto__:null,LonLat:bo,Mercator:Lo,SphericalMercator:Xs},ac=a({},Ui,{code:"EPSG:3395",projection:Lo,transformation:function(){var e=.5/(Math.PI*Lo.R);return nn(e,.5,-e,.5)}()}),xr=a({},Ui,{code:"EPSG:4326",projection:bo,transformation:nn(1/180,1,-1/180,.5)}),rc=a({},zi,{projection:bo,transformation:nn(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,s){var r=s.lng-e.lng,l=s.lat-e.lat;return Math.sqrt(r*r+l*l)},infinite:!0});zi.Earth=Ui,zi.EPSG3395=ac,zi.EPSG3857=Ys,zi.EPSG900913=du,zi.EPSG4326=xr,zi.Simple=rc;var ci=en.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[d(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[d(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var s=e.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var r=this.getEvents();s.on(r,this),this.once("remove",function(){s.off(r,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});it.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(e);return this._layers[s]?this:(this._layers[s]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var s=d(e);return this._layers[s]?(this._loaded&&e.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return d(e)in this._layers},eachLayer:function(e,s){for(var r in this._layers)e.call(s,this._layers[r]);return this},_addLayers:function(e){e=e?k(e)?e:[e]:[];for(var s=0,r=e.length;s<r;s++)this.addLayer(e[s])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[d(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var s=d(e);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,s=-1/0,r=this._getZoomSpan();for(var l in this._zoomBoundLayers){var f=this._zoomBoundLayers[l].options;e=f.minZoom===void 0?e:Math.min(e,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=e===1/0?void 0:e,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ee=ci.extend({initialize:function(e,s){b(this,s),this._layers={};var r,l;if(e)for(r=0,l=e.length;r<l;r++)this.addLayer(e[r])},addLayer:function(e){var s=this.getLayerId(e);return this._layers[s]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var s=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(e){var s=typeof e=="number"?e:this.getLayerId(e);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var s=Array.prototype.slice.call(arguments,1),r,l;for(r in this._layers)l=this._layers[r],l[e]&&l[e].apply(l,s);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,s){for(var r in this._layers)e.call(s,this._layers[r]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return d(e)}}),hc=function(e,s){return new Ee(e,s)},Ii=Ee.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Ee.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Ee.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Gt;for(var s in this._layers){var r=this._layers[s];e.extend(r.getBounds?r.getBounds():r.getLatLng())}return e}}),lc=function(e,s){return new Ii(e,s)},Oe=ti.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){b(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,s){var r=this._getIconUrl(e);if(!r){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(r,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(l,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(e,s){var r=this.options,l=r[s+"Size"];typeof l=="number"&&(l=[l,l]);var f=W(l),m=W(s==="shadow"&&r.shadowAnchor||r.iconAnchor||f&&f.divideBy(2,!0));e.className="leaflet-marker-"+s+" "+(r.className||""),m&&(e.style.marginLeft=-m.x+"px",e.style.marginTop=-m.y+"px"),f&&(e.style.width=f.x+"px",e.style.height=f.y+"px")},_createImg:function(e,s){return s=s||document.createElement("img"),s.src=e,s},_getIconUrl:function(e){return B.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function uc(e){return new Oe(e)}var dn=Oe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof dn.imagePath!="string"&&(dn.imagePath=this._detectIconPath()),(this.options.imagePath||dn.imagePath)+Oe.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var s=function(r,l,f){var m=l.exec(r);return m&&m[f]};return e=s(e,/^url\((['"])?(.+)\1\)$/,2),e&&s(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=st("div","leaflet-default-icon-path",document.body),s=an(e,"background-image")||an(e,"backgroundImage");if(document.body.removeChild(e),s=this._stripUrl(s),s)return s;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Mr=xi.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new $i(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),X(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var s=this._marker,r=s._map,l=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=ue(s._icon),g=r.getPixelBounds(),x=r.getPixelOrigin(),w=Ht(g.min._subtract(x).add(f),g.max._subtract(x).subtract(f));if(!w.contains(m)){var S=W((Math.max(w.max.x,m.x)-w.max.x)/(g.max.x-w.max.x)-(Math.min(w.min.x,m.x)-w.min.x)/(g.min.x-w.min.x),(Math.max(w.max.y,m.y)-w.max.y)/(g.max.y-w.max.y)-(Math.min(w.min.y,m.y)-w.min.y)/(g.min.y-w.min.y)).multiplyBy(l);r.panBy(S,{animate:!1}),this._draggable._newPos._add(S),this._draggable._startPos._add(S),Ct(s._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ct(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(zt(this._panRequest),this._panRequest=ct(this._adjustPan.bind(this,e)))},_onDrag:function(e){var s=this._marker,r=s._shadow,l=ue(s._icon),f=s._map.layerPointToLatLng(l);r&&Ct(r,l),s._latlng=f,e.latlng=f,e.oldLatLng=this._oldLatLng,s.fire("move",e).fire("drag",e)},_onDragEnd:function(e){zt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),es=ci.extend({options:{icon:new dn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,s){b(this,s),this._latlng=tt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var s=this._latlng;return this._latlng=tt(e),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=e.icon.createIcon(this._icon),l=!1;r!==this._icon&&(this._icon&&this._removeIcon(),l=!0,e.title&&(r.title=e.title),r.tagName==="IMG"&&(r.alt=e.alt||"")),X(r,s),e.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&U(r,"focus",this._panOnFocus,this);var f=e.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(X(f,s),f.alt=""),this._shadow=f,e.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ct(this._icon,e),this._shadow&&Ct(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(X(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&ii(this._icon,e),this._shadow&&ii(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var s=this.options.icon.options,r=s.iconSize?W(s.iconSize):W(0,0),l=s.iconAnchor?W(s.iconAnchor):W(0,0);e.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:r.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cc(e,s){return new es(e,s)}var Vi=ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return b(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ns=Vi.extend({options:{fill:!0,radius:10},initialize:function(e,s){b(this,s),this._latlng=tt(e),this._radius=this.options.radius},setLatLng:function(e){var s=this._latlng;return this._latlng=tt(e),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var s=e&&e.radius||this._radius;return Vi.prototype.setStyle.call(this,e),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,s=this._radiusY||e,r=this._clickTolerance(),l=[e+r,s+r];this._pxBounds=new gt(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fc(e,s){return new ns(e,s)}var To=ns.extend({initialize:function(e,s,r){if(typeof s=="number"&&(s=a({},r,{radius:s})),b(this,s),this._latlng=tt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Gt(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Vi.prototype.setStyle,_project:function(){var e=this._latlng.lng,s=this._latlng.lat,r=this._map,l=r.options.crs;if(l.distance===Ui.distance){var f=Math.PI/180,m=this._mRadius/Ui.R/f,g=r.project([s+m,e]),x=r.project([s-m,e]),w=g.add(x).divideBy(2),S=r.unproject(w).lat,A=Math.acos((Math.cos(m*f)-Math.sin(s*f)*Math.sin(S*f))/(Math.cos(s*f)*Math.cos(S*f)))/f;(isNaN(A)||A===0)&&(A=m/Math.cos(Math.PI/180*s)),this._point=w.subtract(r.getPixelOrigin()),this._radius=isNaN(A)?0:w.x-r.project([S,e-A]).x,this._radiusY=w.y-g.y}else{var D=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(D).x}this._updateBounds()}});function dc(e,s,r){return new To(e,s,r)}var ki=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,s){b(this,s),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var s=1/0,r=null,l=fn,f,m,g=0,x=this._parts.length;g<x;g++)for(var w=this._parts[g],S=1,A=w.length;S<A;S++){f=w[S-1],m=w[S];var D=l(e,f,m,!0);D<s&&(s=D,r=l(e,f,m))}return r&&(r.distance=Math.sqrt(s)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,s){return s=s||this._defaultShape(),e=tt(e),s.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Gt,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return ei(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var s=[],r=ei(e),l=0,f=e.length;l<f;l++)r?(s[l]=tt(e[l]),this._bounds.extend(s[l])):s[l]=this._convertLatLngs(e[l]);return s},_project:function(){var e=new gt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),s=new j(e,e);this._rawPxBounds&&(this._pxBounds=new gt([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(e,s,r){var l=e[0]instanceof lt,f=e.length,m,g;if(l){for(g=[],m=0;m<f;m++)g[m]=this._map.latLngToLayerPoint(e[m]),r.extend(g[m]);s.push(g)}else for(m=0;m<f;m++)this._projectLatlngs(e[m],s,r)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,r,l,f,m,g,x,w;for(r=0,f=0,m=this._rings.length;r<m;r++)for(w=this._rings[r],l=0,g=w.length;l<g-1;l++)x=vr(w[l],w[l+1],e,l,!0),x&&(s[f]=s[f]||[],s[f].push(x[0]),(x[1]!==w[l+1]||l===g-2)&&(s[f].push(x[1]),f++))}},_simplifyPoints:function(){for(var e=this._parts,s=this.options.smoothFactor,r=0,l=e.length;r<l;r++)e[r]=_r(e[r],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,s){var r,l,f,m,g,x,w=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,m=this._parts.length;r<m;r++)for(x=this._parts[r],l=0,g=x.length,f=g-1;l<g;f=l++)if(!(!s&&l===0)&&mr(e,x[f],x[l])<=w)return!0;return!1}});function _c(e,s){return new ki(e,s)}ki._flat=gr;var Ae=ki.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return dr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var s=ki.prototype._convertLatLngs.call(this,e),r=s.length;return r>=2&&s[0]instanceof lt&&s[0].equals(s[r-1])&&s.pop(),s},_setLatLngs:function(e){ki.prototype._setLatLngs.call(this,e),ei(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ei(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,s=this.options.weight,r=new j(s,s);if(e=new gt(e.min.subtract(r),e.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,f=this._rings.length,m;l<f;l++)m=fr(this._rings[l],e,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var s=!1,r,l,f,m,g,x,w,S;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(m=0,w=this._parts.length;m<w;m++)for(r=this._parts[m],g=0,S=r.length,x=S-1;g<S;x=g++)l=r[g],f=r[x],l.y>e.y!=f.y>e.y&&e.x<(f.x-l.x)*(e.y-l.y)/(f.y-l.y)+l.x&&(s=!s);return s||ki.prototype._containsPoint.call(this,e,!0)}});function mc(e,s){return new Ae(e,s)}var Bi=Ii.extend({initialize:function(e,s){b(this,s),this._layers={},e&&this.addData(e)},addData:function(e){var s=k(e)?e:e.features,r,l,f;if(s){for(r=0,l=s.length;r<l;r++)f=s[r],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(e))return this;var g=ss(e,m);return g?(g.feature=rs(e),g.defaultOptions=g.options,this.resetStyle(g),m.onEachFeature&&m.onEachFeature(e,g),this.addLayer(g)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(s){this._setLayerStyle(s,e)},this)},_setLayerStyle:function(e,s){e.setStyle&&(typeof s=="function"&&(s=s(e.feature)),e.setStyle(s))}});function ss(e,s){var r=e.type==="Feature"?e.geometry:e,l=r?r.coordinates:null,f=[],m=s&&s.pointToLayer,g=s&&s.coordsToLatLng||So,x,w,S,A;if(!l&&!r)return null;switch(r.type){case"Point":return x=g(l),wr(m,e,x,s);case"MultiPoint":for(S=0,A=l.length;S<A;S++)x=g(l[S]),f.push(wr(m,e,x,s));return new Ii(f);case"LineString":case"MultiLineString":return w=os(l,r.type==="LineString"?0:1,g),new ki(w,s);case"Polygon":case"MultiPolygon":return w=os(l,r.type==="Polygon"?1:2,g),new Ae(w,s);case"GeometryCollection":for(S=0,A=r.geometries.length;S<A;S++){var D=ss({geometry:r.geometries[S],type:"Feature",properties:e.properties},s);D&&f.push(D)}return new Ii(f);case"FeatureCollection":for(S=0,A=r.features.length;S<A;S++){var Y=ss(r.features[S],s);Y&&f.push(Y)}return new Ii(f);default:throw new Error("Invalid GeoJSON object.")}}function wr(e,s,r,l){return e?e(s,r):new es(r,l&&l.markersInheritOptions&&l)}function So(e){return new lt(e[1],e[0],e[2])}function os(e,s,r){for(var l=[],f=0,m=e.length,g;f<m;f++)g=s?os(e[f],s-1,r):(r||So)(e[f]),l.push(g);return l}function Co(e,s){return e=tt(e),e.alt!==void 0?[y(e.lng,s),y(e.lat,s),y(e.alt,s)]:[y(e.lng,s),y(e.lat,s)]}function as(e,s,r,l){for(var f=[],m=0,g=e.length;m<g;m++)f.push(s?as(e[m],ei(e[m])?0:s-1,r,l):Co(e[m],l));return!s&&r&&f.length>0&&f.push(f[0].slice()),f}function ze(e,s){return e.feature?a({},e.feature,{geometry:s}):rs(s)}function rs(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Eo={toGeoJSON:function(e){return ze(this,{type:"Point",coordinates:Co(this.getLatLng(),e)})}};es.include(Eo),To.include(Eo),ns.include(Eo),ki.include({toGeoJSON:function(e){var s=!ei(this._latlngs),r=as(this._latlngs,s?1:0,!1,e);return ze(this,{type:(s?"Multi":"")+"LineString",coordinates:r})}}),Ae.include({toGeoJSON:function(e){var s=!ei(this._latlngs),r=s&&!ei(this._latlngs[0]),l=as(this._latlngs,r?2:s?1:0,!0,e);return s||(l=[l]),ze(this,{type:(r?"Multi":"")+"Polygon",coordinates:l})}}),Ee.include({toMultiPoint:function(e){var s=[];return this.eachLayer(function(r){s.push(r.toGeoJSON(e).geometry.coordinates)}),ze(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(e){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(e);var r=s==="GeometryCollection",l=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(e);if(r)l.push(m.geometry);else{var g=rs(m);g.type==="FeatureCollection"?l.push.apply(l,g.features):l.push(g)}}}),r?ze(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Pr(e,s){return new Bi(e,s)}var pc=Pr,hs=ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,s,r){this._url=e,this._bounds=St(s),b(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(X(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Se(this._image),this},bringToBack:function(){return this._map&&Ce(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=St(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",s=this._image=e?this._url:st("img");if(X(s,"leaflet-image-layer"),this._zoomAnimated&&X(s,"leaflet-zoom-animated"),this.options.className&&X(s,this.options.className),s.onselectstart=p,s.onmousemove=p,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(e){var s=this._map.getZoomScale(e.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;le(this._image,r,s)},_reset:function(){var e=this._image,s=new gt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=s.getSize();Ct(e,s.min),e.style.width=r.x+"px",e.style.height=r.y+"px"},_updateOpacity:function(){ii(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),vc=function(e,s,r){return new hs(e,s,r)},br=hs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",s=this._image=e?this._url:st("video");if(X(s,"leaflet-image-layer"),this._zoomAnimated&&X(s,"leaflet-zoom-animated"),this.options.className&&X(s,this.options.className),s.onselectstart=p,s.onmousemove=p,s.onloadeddata=u(this.fire,this,"load"),e){for(var r=s.getElementsByTagName("source"),l=[],f=0;f<r.length;f++)l.push(r[f].src);this._url=r.length>0?l:[s.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var g=st("source");g.src=this._url[m],s.appendChild(g)}}});function gc(e,s,r){return new br(e,s,r)}var Lr=hs.extend({_initImage:function(){var e=this._image=this._url;X(e,"leaflet-image-layer"),this._zoomAnimated&&X(e,"leaflet-zoom-animated"),this.options.className&&X(e,this.options.className),e.onselectstart=p,e.onmousemove=p}});function yc(e,s,r){return new Lr(e,s,r)}var Mi=ci.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,s){e&&(e instanceof lt||k(e))?(this._latlng=tt(e),b(this,s)):(b(this,e),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ii(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ii(this._container,1),this.bringToFront(),this.options.interactive&&(X(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(ii(this._container,0),this._removeTimeout=setTimeout(u(yt,void 0,this._container),200)):yt(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=tt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Se(this._container),this},bringToBack:function(){return this._map&&Ce(this._container),this},_prepareOpen:function(e){var s=this._source;if(!s._map)return!1;if(s instanceof Ii){s=null;var r=this._source._layers;for(var l in r)if(r[l]._map){s=r[l];break}if(!s)return!1;this._source=s}if(!e)if(s.getCenter)e=s.getCenter();else if(s.getLatLng)e=s.getLatLng();else if(s.getBounds)e=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")e.innerHTML=s;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),s=W(this.options.offset),r=this._getAnchor();this._zoomAnimated?Ct(this._container,e.add(r)):s=s.add(e).add(r);var l=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=l+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});it.include({_initOverlay:function(e,s,r,l){var f=s;return f instanceof e||(f=new e(l).setContent(s)),r&&f.setLatLng(r),f}}),ci.include({_initOverlay:function(e,s,r,l){var f=r;return f instanceof e?(b(f,l),f._source=this):(f=s&&!l?s:new e(l,this),f.setContent(r)),f}});var ls=Mi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Mi.prototype.openOn.call(this,e)},onAdd:function(e){Mi.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",ce))},onRemove:function(e){Mi.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",ce))},getEvents:function(){var e=Mi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",s=this._container=st("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=st("div",e+"-content-wrapper",s);if(this._contentNode=st("div",e+"-content",r),un(s),go(this._contentNode),U(s,"contextmenu",ce),this._tipContainer=st("div",e+"-tip-container",s),this._tip=st("div",e+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=st("a",e+"-close-button",s);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',U(l,"click",function(f){Bt(f),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,s=e.style;s.width="",s.whiteSpace="nowrap";var r=e.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),s.width=r+1+"px",s.whiteSpace="",s.height="";var l=e.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&l>f?(s.height=f+"px",X(e,m)):Pt(e,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),r=this._getAnchor();Ct(this._container,s.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,s=parseInt(an(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+s,l=this._containerWidth,f=new j(this._containerLeft,-r-this._containerBottom);f._add(ue(this._container));var m=e.layerPointToContainerPoint(f),g=W(this.options.autoPanPadding),x=W(this.options.autoPanPaddingTopLeft||g),w=W(this.options.autoPanPaddingBottomRight||g),S=e.getSize(),A=0,D=0;m.x+l+w.x>S.x&&(A=m.x+l-S.x+w.x),m.x-A-x.x<0&&(A=m.x-x.x),m.y+r+w.y>S.y&&(D=m.y+r-S.y+w.y),m.y-D-x.y<0&&(D=m.y-x.y),(A||D)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([A,D]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xc=function(e,s){return new ls(e,s)};it.mergeOptions({closePopupOnClick:!0}),it.include({openPopup:function(e,s,r){return this._initOverlay(ls,e,s,r).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),ci.include({bindPopup:function(e,s){return this._popup=this._initOverlay(ls,this._popup,e,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Ii||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){fe(e);var s=e.layer||e.target;if(this._popup._source===s&&!(s instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=s,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var us=Mi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Mi.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Mi.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Mi.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",s=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=st("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var s,r,l=this._map,f=this._container,m=l.latLngToContainerPoint(l.getCenter()),g=l.layerPointToContainerPoint(e),x=this.options.direction,w=f.offsetWidth,S=f.offsetHeight,A=W(this.options.offset),D=this._getAnchor();x==="top"?(s=w/2,r=S):x==="bottom"?(s=w/2,r=0):x==="center"?(s=w/2,r=S/2):x==="right"?(s=0,r=S/2):x==="left"?(s=w,r=S/2):g.x<m.x?(x="right",s=0,r=S/2):(x="left",s=w+(A.x+D.x)*2,r=S/2),e=e.subtract(W(s,r,!0)).add(A).add(D),Pt(f,"leaflet-tooltip-right"),Pt(f,"leaflet-tooltip-left"),Pt(f,"leaflet-tooltip-top"),Pt(f,"leaflet-tooltip-bottom"),X(f,"leaflet-tooltip-"+x),Ct(f,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ii(this._container,e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(s)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mc=function(e,s){return new us(e,s)};it.include({openTooltip:function(e,s,r){return this._initOverlay(us,e,s,r).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),ci.include({bindTooltip:function(e,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(us,this._tooltip,e,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var s=e?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[s](r),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Ii||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&(U(s,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),U(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var s=e.latlng,r,l;this._tooltip.options.sticky&&e.originalEvent&&(r=this._map.mouseEventToContainerPoint(e.originalEvent),l=this._map.containerPointToLayerPoint(r),s=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(s)}});var Tr=Oe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var s=e&&e.tagName==="DIV"?e:document.createElement("div"),r=this.options;if(r.html instanceof Element?(Xn(s),s.appendChild(r.html)):s.innerHTML=r.html!==!1?r.html:"",r.bgPos){var l=W(r.bgPos);s.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function wc(e){return new Tr(e)}Oe.Default=dn;var _n=ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:B.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){b(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),yt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ce(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof j?e:new j(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var s=this.getPane().children,r=-e(-1/0,1/0),l=0,f=s.length,m;l<f;l++)m=s[l].style.zIndex,s[l]!==this._container&&m&&(r=e(r,+m));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!B.ielt9){ii(this._container,this.options.opacity);var e=+new Date,s=!1,r=!1;for(var l in this._tiles){var f=this._tiles[l];if(!(!f.current||!f.loaded)){var m=Math.min(1,(e-f.loaded)/200);ii(f.el,m),m<1?s=!0:(f.active?r=!0:this._onOpaqueTile(f),f.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),s&&(zt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=st("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,s=this.options.maxZoom;if(e!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===e?(this._levels[r].el.style.zIndex=s-Math.abs(e-r),this._onUpdateLevel(r)):(yt(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var l=this._levels[e],f=this._map;return l||(l=this._levels[e]={},l.el=st("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=s,l.origin=f.project(f.unproject(f.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,f.getCenter(),f.getZoom()),p(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var e,s,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)s=this._tiles[e],s.retain=s.current;for(e in this._tiles)if(s=this._tiles[e],s.current&&!s.active){var l=s.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var s in this._tiles)this._tiles[s].coords.z===e&&this._removeTile(s)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)yt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,s,r,l){var f=Math.floor(e/2),m=Math.floor(s/2),g=r-1,x=new j(+f,+m);x.z=+g;var w=this._tileCoordsToKey(x),S=this._tiles[w];return S&&S.active?(S.retain=!0,!0):(S&&S.loaded&&(S.retain=!0),g>l?this._retainParent(f,m,g,l):!1)},_retainChildren:function(e,s,r,l){for(var f=2*e;f<2*e+2;f++)for(var m=2*s;m<2*s+2;m++){var g=new j(f,m);g.z=r+1;var x=this._tileCoordsToKey(g),w=this._tiles[x];if(w&&w.active){w.retain=!0;continue}else w&&w.loaded&&(w.retain=!0);r+1<l&&this._retainChildren(f,m,r+1,l)}},_resetView:function(e){var s=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var s=this.options;return s.minNativeZoom!==void 0&&e<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<e?s.maxNativeZoom:e},_setView:function(e,s,r,l){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!l||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(e),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(e,s)},_setZoomTransforms:function(e,s){for(var r in this._levels)this._setZoomTransform(this._levels[r],e,s)},_setZoomTransform:function(e,s,r){var l=this._map.getZoomScale(r,e.zoom),f=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(s,r)).round();B.any3d?le(e.el,f,l):Ct(e.el,f)},_resetGrid:function(){var e=this._map,s=e.options.crs,r=this._tileSize=this.getTileSize(),l=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,s.wrapLng[0]],l).x/r.x),Math.ceil(e.project([0,s.wrapLng[1]],l).x/r.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([s.wrapLat[0],0],l).y/r.x),Math.ceil(e.project([s.wrapLat[1],0],l).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var s=this._map,r=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),l=s.getZoomScale(r,this._tileZoom),f=s.project(e,this._tileZoom).floor(),m=s.getSize().divideBy(l*2);return new gt(f.subtract(m),f.add(m))},_update:function(e){var s=this._map;if(s){var r=this._clampZoom(s.getZoom());if(e===void 0&&(e=s.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(e),f=this._pxBoundsToTileRange(l),m=f.getCenter(),g=[],x=this.options.keepBuffer,w=new gt(f.getBottomLeft().subtract([x,-x]),f.getTopRight().add([x,-x]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var S in this._tiles){var A=this._tiles[S].coords;(A.z!==this._tileZoom||!w.contains(new j(A.x,A.y)))&&(this._tiles[S].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(e,r);return}for(var D=f.min.y;D<=f.max.y;D++)for(var Y=f.min.x;Y<=f.max.x;Y++){var Dt=new j(Y,D);if(Dt.z=this._tileZoom,!!this._isValidTile(Dt)){var It=this._tiles[this._tileCoordsToKey(Dt)];It?It.current=!0:g.push(Dt)}}if(g.sort(function(jt,ke){return jt.distanceTo(m)-ke.distanceTo(m)}),g.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ni=document.createDocumentFragment();for(Y=0;Y<g.length;Y++)this._addTile(g[Y],ni);this._level.el.appendChild(ni)}}}},_isValidTile:function(e){var s=this._map.options.crs;if(!s.infinite){var r=this._globalTileRange;if(!s.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!s.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(e);return St(this.options.bounds).overlaps(l)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var s=this._map,r=this.getTileSize(),l=e.scaleBy(r),f=l.add(r),m=s.unproject(l,e.z),g=s.unproject(f,e.z);return[m,g]},_tileCoordsToBounds:function(e){var s=this._tileCoordsToNwSe(e),r=new Gt(s[0],s[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var s=e.split(":"),r=new j(+s[0],+s[1]);return r.z=+s[2],r},_removeTile:function(e){var s=this._tiles[e];s&&(yt(s.el),delete this._tiles[e],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){X(e,"leaflet-tile");var s=this.getTileSize();e.style.width=s.x+"px",e.style.height=s.y+"px",e.onselectstart=p,e.onmousemove=p,B.ielt9&&this.options.opacity<1&&ii(e,this.options.opacity)},_addTile:function(e,s){var r=this._getTilePos(e),l=this._tileCoordsToKey(e),f=this.createTile(this._wrapCoords(e),u(this._tileReady,this,e));this._initTile(f),this.createTile.length<2&&ct(u(this._tileReady,this,e,null,f)),Ct(f,r),this._tiles[l]={el:f,coords:e,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:e})},_tileReady:function(e,s,r){s&&this.fire("tileerror",{error:s,tile:r,coords:e});var l=this._tileCoordsToKey(e);r=this._tiles[l],r&&(r.loaded=+new Date,this._map._fadeAnimated?(ii(r.el,0),zt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),s||(X(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),B.ielt9||!this._map._fadeAnimated?ct(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var s=new j(this._wrapX?v(e.x,this._wrapX):e.x,this._wrapY?v(e.y,this._wrapY):e.y);return s.z=e.z,s},_pxBoundsToTileRange:function(e){var s=this.getTileSize();return new gt(e.min.unscaleBy(s).floor(),e.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Pc(e){return new _n(e)}var Ie=_n.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,s){this._url=e,s=b(this,s),s.detectRetina&&B.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,s){return this._url===e&&s===void 0&&(s=!0),this._url=e,s||this.redraw(),this},createTile:function(e,s){var r=document.createElement("img");return U(r,"load",u(this._tileOnLoad,this,s,r)),U(r,"error",u(this._tileOnError,this,s,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(e),r},getTileUrl:function(e){var s={r:B.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(s.y=r),s["-y"]=r}return I(this._url,a(s,this.options))},_tileOnLoad:function(e,s){B.ielt9?setTimeout(u(e,this,null,s),0):e(null,s)},_tileOnError:function(e,s,r){var l=this.options.errorTileUrl;l&&s.getAttribute("src")!==l&&(s.src=l),e(r,s)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,s=this.options.maxZoom,r=this.options.zoomReverse,l=this.options.zoomOffset;return r&&(e=s-e),e+l},_getSubdomain:function(e){var s=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var e,s;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(s=this._tiles[e].el,s.onload=p,s.onerror=p,!s.complete)){s.src=G;var r=this._tiles[e].coords;yt(s),delete this._tiles[e],this.fire("tileabort",{tile:s,coords:r})}},_removeTile:function(e){var s=this._tiles[e];if(s)return s.el.setAttribute("src",G),_n.prototype._removeTile.call(this,e)},_tileReady:function(e,s,r){if(!(!this._map||r&&r.getAttribute("src")===G))return _n.prototype._tileReady.call(this,e,s,r)}});function Sr(e,s){return new Ie(e,s)}var Cr=Ie.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,s){this._url=e;var r=a({},this.defaultWmsParams);for(var l in s)l in this.options||(r[l]=s[l]);s=b(this,s);var f=s.detectRetina&&B.retina?2:1,m=this.getTileSize();r.width=m.x*f,r.height=m.y*f,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Ie.prototype.onAdd.call(this,e)},getTileUrl:function(e){var s=this._tileCoordsToNwSe(e),r=this._crs,l=Ht(r.project(s[0]),r.project(s[1])),f=l.min,m=l.max,g=(this._wmsVersion>=1.3&&this._crs===xr?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),x=Ie.prototype.getTileUrl.call(this,e);return x+T(this.wmsParams,x,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+g},setParams:function(e,s){return a(this.wmsParams,e),s||this.redraw(),this}});function bc(e,s){return new Cr(e,s)}Ie.WMS=Cr,Sr.wms=bc;var Ni=ci.extend({options:{padding:.1},initialize:function(e){b(this,e),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),X(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,s){var r=this._map.getZoomScale(s,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),m=l.multiplyBy(-r).add(f).subtract(this._map._getNewPixelOrigin(e,s));B.any3d?le(this._container,m,r):Ct(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,s=this._map.getSize(),r=this._map.containerPointToLayerPoint(s.multiplyBy(-e)).round();this._bounds=new gt(r,r.add(s.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Er=Ni.extend({options:{tolerance:0},getEvents:function(){var e=Ni.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ni.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");U(e,"mousemove",this._onMouseMove,this),U(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),U(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){zt(this._redrawRequest),delete this._ctx,yt(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var s in this._layers)e=this._layers[s],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ni.prototype._update.call(this);var e=this._bounds,s=this._container,r=e.getSize(),l=B.retina?2:1;Ct(s,e.min),s.width=l*r.x,s.height=l*r.y,s.style.width=r.x+"px",s.style.height=r.y+"px",B.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ni.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[d(e)]=e;var s=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var s=e._order,r=s.next,l=s.prev;r?r.prev=l:this._drawLast=l,l?l.next=r:this._drawFirst=r,delete e._order,delete this._layers[d(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var s=e.options.dashArray.split(/[, ]+/),r=[],l,f;for(f=0;f<s.length;f++){if(l=Number(s[f]),isNaN(l))return;r.push(l)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ct(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var s=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new gt,this._redrawBounds.extend(e._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(e._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var s=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,s=this._redrawBounds;if(this._ctx.save(),s){var r=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!s||e._pxBounds&&e._pxBounds.intersects(s))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,s){if(this._drawing){var r,l,f,m,g=e._parts,x=g.length,w=this._ctx;if(x){for(w.beginPath(),r=0;r<x;r++){for(l=0,f=g[r].length;l<f;l++)m=g[r][l],w[l?"lineTo":"moveTo"](m.x,m.y);s&&w.closePath()}this._fillStroke(w,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var s=e._point,r=this._ctx,l=Math.max(Math.round(e._radius),1),f=(Math.max(Math.round(e._radiusY),1)||l)/l;f!==1&&(r.save(),r.scale(1,f)),r.beginPath(),r.arc(s.x,s.y/f,l,0,Math.PI*2,!1),f!==1&&r.restore(),this._fillStroke(r,e)}},_fillStroke:function(e,s){var r=s.options;r.fill&&(e.globalAlpha=r.fillOpacity,e.fillStyle=r.fillColor||r.color,e.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(e.setLineDash&&e.setLineDash(s.options&&s.options._dashArray||[]),e.globalAlpha=r.opacity,e.lineWidth=r.weight,e.strokeStyle=r.color,e.lineCap=r.lineCap,e.lineJoin=r.lineJoin,e.stroke())},_onClick:function(e){for(var s=this._map.mouseEventToLayerPoint(e),r,l,f=this._drawFirst;f;f=f.next)r=f.layer,r.options.interactive&&r._containsPoint(s)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(r))&&(l=r);this._fireEvent(l?[l]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,s)}},_handleMouseOut:function(e){var s=this._hoveredLayer;s&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([s],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,s){if(!this._mouseHoverThrottled){for(var r,l,f=this._drawFirst;f;f=f.next)r=f.layer,r.options.interactive&&r._containsPoint(s)&&(l=r);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(X(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,s,r){this._map._fireDOMEvent(s,r||s.type,e)},_bringToFront:function(e){var s=e._order;if(s){var r=s.next,l=s.prev;if(r)r.prev=l;else return;l?l.next=r:r&&(this._drawFirst=r),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(e)}},_bringToBack:function(e){var s=e._order;if(s){var r=s.next,l=s.prev;if(l)l.next=r;else return;r?r.prev=l:l&&(this._drawLast=l),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(e)}}});function Or(e){return B.canvas?new Er(e):null}var mn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Lc={_initContainer:function(){this._container=st("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ni.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var s=e._container=mn("shape");X(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",e._path=mn("path"),s.appendChild(e._path),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){var s=e._container;this._container.appendChild(s),e.options.interactive&&e.addInteractiveTarget(s)},_removePath:function(e){var s=e._container;yt(s),e.removeInteractiveTarget(s),delete this._layers[d(e)]},_updateStyle:function(e){var s=e._stroke,r=e._fill,l=e.options,f=e._container;f.stroked=!!l.stroke,f.filled=!!l.fill,l.stroke?(s||(s=e._stroke=mn("stroke")),f.appendChild(s),s.weight=l.weight+"px",s.color=l.color,s.opacity=l.opacity,l.dashArray?s.dashStyle=k(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=l.lineCap.replace("butt","flat"),s.joinstyle=l.lineJoin):s&&(f.removeChild(s),e._stroke=null),l.fill?(r||(r=e._fill=mn("fill")),f.appendChild(r),r.color=l.fillColor||l.color,r.opacity=l.fillOpacity):r&&(f.removeChild(r),e._fill=null)},_updateCircle:function(e){var s=e._point.round(),r=Math.round(e._radius),l=Math.round(e._radiusY||r);this._setPath(e,e._empty()?"M0 0":"AL "+s.x+","+s.y+" "+r+","+l+" 0,"+65535*360)},_setPath:function(e,s){e._path.v=s},_bringToFront:function(e){Se(e._container)},_bringToBack:function(e){Ce(e._container)}},cs=B.vml?mn:ka,pn=Ni.extend({_initContainer:function(){this._container=cs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yt(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ni.prototype._update.call(this);var e=this._bounds,s=e.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,r.setAttribute("width",s.x),r.setAttribute("height",s.y)),Ct(r,e.min),r.setAttribute("viewBox",[e.min.x,e.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(e){var s=e._path=cs("path");e.options.className&&X(s,e.options.className),e.options.interactive&&X(s,"leaflet-interactive"),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){yt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[d(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var s=e._path,r=e.options;s&&(r.stroke?(s.setAttribute("stroke",r.color),s.setAttribute("stroke-opacity",r.opacity),s.setAttribute("stroke-width",r.weight),s.setAttribute("stroke-linecap",r.lineCap),s.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?s.setAttribute("stroke-dasharray",r.dashArray):s.removeAttribute("stroke-dasharray"),r.dashOffset?s.setAttribute("stroke-dashoffset",r.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),r.fill?(s.setAttribute("fill",r.fillColor||r.color),s.setAttribute("fill-opacity",r.fillOpacity),s.setAttribute("fill-rule",r.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(e,s){this._setPath(e,Ba(e._parts,s))},_updateCircle:function(e){var s=e._point,r=Math.max(Math.round(e._radius),1),l=Math.max(Math.round(e._radiusY),1)||r,f="a"+r+","+l+" 0 1,0 ",m=e._empty()?"M0 0":"M"+(s.x-r)+","+s.y+f+r*2+",0 "+f+-r*2+",0 ";this._setPath(e,m)},_setPath:function(e,s){e._path.setAttribute("d",s)},_bringToFront:function(e){Se(e._path)},_bringToBack:function(e){Ce(e._path)}});B.vml&&pn.include(Lc);function Ar(e){return B.svg||B.vml?new pn(e):null}it.include({getRenderer:function(e){var s=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var s=this._paneRenderers[e];return s===void 0&&(s=this._createRenderer({pane:e}),this._paneRenderers[e]=s),s},_createRenderer:function(e){return this.options.preferCanvas&&Or(e)||Ar(e)}});var zr=Ae.extend({initialize:function(e,s){Ae.prototype.initialize.call(this,this._boundsToLatLngs(e),s)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=St(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Tc(e,s){return new zr(e,s)}pn.create=cs,pn.pointsToPath=Ba,Bi.geometryToLayer=ss,Bi.coordsToLatLng=So,Bi.coordsToLatLngs=os,Bi.latLngToCoords=Co,Bi.latLngsToCoords=as,Bi.getFeature=ze,Bi.asFeature=rs,it.mergeOptions({boxZoom:!0});var Ir=xi.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){U(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),rn(),lo(),this._startPoint=this._map.mouseEventToContainerPoint(e),U(document,{contextmenu:fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=st("div","leaflet-zoom-box",this._container),X(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var s=new gt(this._point,this._startPoint),r=s.getSize();Ct(this._box,s.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(yt(this._box),Pt(this._container,"leaflet-crosshair")),hn(),uo(),dt(document,{contextmenu:fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new Gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});it.addInitHook("addHandler","boxZoom",Ir),it.mergeOptions({doubleClickZoom:!0});var kr=xi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var s=this._map,r=s.getZoom(),l=s.options.zoomDelta,f=e.originalEvent.shiftKey?r-l:r+l;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(e.containerPoint,f)}});it.addInitHook("addHandler","doubleClickZoom",kr),it.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Br=xi.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new $i(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}X(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=St(this._map.options.maxBounds);this._offsetLimit=Ht(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var s=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(s),this._prunePositions(s)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,s){return e-(e-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;e.x<s.min.x&&(e.x=this._viscousLimit(e.x,s.min.x)),e.y<s.min.y&&(e.y=this._viscousLimit(e.y,s.min.y)),e.x>s.max.x&&(e.x=this._viscousLimit(e.x,s.max.x)),e.y>s.max.y&&(e.y=this._viscousLimit(e.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,s=Math.round(e/2),r=this._initialWorldOffset,l=this._draggable._newPos.x,f=(l-s+r)%e+s-r,m=(l+s+r)%e-s-r,g=Math.abs(f+r)<Math.abs(m+r)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(e){var s=this._map,r=s.options,l=!r.inertia||e.noInertia||this._times.length<2;if(s.fire("dragend",e),l)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,g=r.easeLinearity,x=f.multiplyBy(g/m),w=x.distanceTo([0,0]),S=Math.min(r.inertiaMaxSpeed,w),A=x.multiplyBy(S/w),D=S/(r.inertiaDeceleration*g),Y=A.multiplyBy(-D/2).round();!Y.x&&!Y.y?s.fire("moveend"):(Y=s._limitOffset(Y,s.options.maxBounds),ct(function(){s.panBy(Y,{duration:D,easeLinearity:g,noMoveStart:!0,animate:!0})}))}}});it.addInitHook("addHandler","dragging",Br),it.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Nr=xi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),U(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,s=document.documentElement,r=e.scrollTop||s.scrollTop,l=e.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(l,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var s=this._panKeys={},r=this.keyCodes,l,f;for(l=0,f=r.left.length;l<f;l++)s[r.left[l]]=[-1*e,0];for(l=0,f=r.right.length;l<f;l++)s[r.right[l]]=[e,0];for(l=0,f=r.down.length;l<f;l++)s[r.down[l]]=[0,e];for(l=0,f=r.up.length;l<f;l++)s[r.up[l]]=[0,-1*e]},_setZoomDelta:function(e){var s=this._zoomKeys={},r=this.keyCodes,l,f;for(l=0,f=r.zoomIn.length;l<f;l++)s[r.zoomIn[l]]=e;for(l=0,f=r.zoomOut.length;l<f;l++)s[r.zoomOut[l]]=-e},_addHooks:function(){U(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var s=e.keyCode,r=this._map,l;if(s in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(l=this._panKeys[s],e.shiftKey&&(l=W(l).multiplyBy(3)),r.options.maxBounds&&(l=r._limitOffset(W(l),r.options.maxBounds)),r.options.worldCopyJump){var f=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(l)));r.panTo(f)}else r.panBy(l)}else if(s in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;fe(e)}}});it.addInitHook("addHandler","keyboard",Nr),it.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zr=xi.extend({addHooks:function(){U(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var s=rr(e),r=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var l=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),l),fe(e)},_performZoom:function(){var e=this._map,s=e.getZoom(),r=this._map.options.zoomSnap||0;e._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,m=r?Math.ceil(f/r)*r:f,g=e._limitZoom(s+(this._delta>0?m:-m))-s;this._delta=0,this._startTime=null,g&&(e.options.scrollWheelZoom==="center"?e.setZoom(s+g):e.setZoomAround(this._lastMousePos,s+g))}});it.addInitHook("addHandler","scrollWheelZoom",Zr);var Sc=600;it.mergeOptions({tapHold:B.touchNative&&B.safari&&B.mobile,tapTolerance:15});var Rr=xi.extend({addHooks:function(){U(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var s=e.touches[0];this._startPos=this._newPos=new j(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(U(document,"touchend",Bt),U(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Sc),U(document,"touchend touchcancel contextmenu",this._cancel,this),U(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){dt(document,"touchend",Bt),dt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(e){var s=e.touches[0];this._newPos=new j(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,s){var r=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});r._simulated=!0,s.target.dispatchEvent(r)}});it.addInitHook("addHandler","tapHold",Rr),it.mergeOptions({touchZoom:B.touch,bounceAtZoomLimits:!0});var Dr=xi.extend({addHooks:function(){X(this._map._container,"leaflet-touch-zoom"),U(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var s=this._map;if(!(!e.touches||e.touches.length!==2||s._animatingZoom||this._zooming)){var r=s.mouseEventToContainerPoint(e.touches[0]),l=s.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(r.add(l)._divideBy(2))),this._startDist=r.distanceTo(l),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),U(document,"touchmove",this._onTouchMove,this),U(document,"touchend touchcancel",this._onTouchEnd,this),Bt(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var s=this._map,r=s.mouseEventToContainerPoint(e.touches[0]),l=s.mouseEventToContainerPoint(e.touches[1]),f=r.distanceTo(l)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=r._add(l)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),zt(this._animRequest);var g=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ct(g,this,!0),Bt(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,zt(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});it.addInitHook("addHandler","touchZoom",Dr),it.BoxZoom=Ir,it.DoubleClickZoom=kr,it.Drag=Br,it.Keyboard=Nr,it.ScrollWheelZoom=Zr,it.TapHold=Rr,it.TouchZoom=Dr,n.Bounds=gt,n.Browser=B,n.CRS=zi,n.Canvas=Er,n.Circle=To,n.CircleMarker=ns,n.Class=ti,n.Control=ui,n.DivIcon=Tr,n.DivOverlay=Mi,n.DomEvent=ju,n.DomUtil=Hu,n.Draggable=$i,n.Evented=en,n.FeatureGroup=Ii,n.GeoJSON=Bi,n.GridLayer=_n,n.Handler=xi,n.Icon=Oe,n.ImageOverlay=hs,n.LatLng=lt,n.LatLngBounds=Gt,n.Layer=ci,n.LayerGroup=Ee,n.LineUtil=sc,n.Map=it,n.Marker=es,n.Mixin=Yu,n.Path=Vi,n.Point=j,n.PolyUtil=Qu,n.Polygon=Ae,n.Polyline=ki,n.Popup=ls,n.PosAnimation=hr,n.Projection=oc,n.Rectangle=zr,n.Renderer=Ni,n.SVG=pn,n.SVGOverlay=Lr,n.TileLayer=Ie,n.Tooltip=us,n.Transformation=Js,n.Util=he,n.VideoOverlay=br,n.bind=u,n.bounds=Ht,n.canvas=Or,n.circle=dc,n.circleMarker=fc,n.control=cn,n.divIcon=wc,n.extend=a,n.featureGroup=lc,n.geoJSON=Pr,n.geoJson=pc,n.gridLayer=Pc,n.icon=uc,n.imageOverlay=vc,n.latLng=tt,n.latLngBounds=St,n.layerGroup=hc,n.map=Uu,n.marker=cc,n.point=W,n.polygon=mc,n.polyline=_c,n.popup=xc,n.rectangle=Tc,n.setOptions=b,n.stamp=d,n.svg=Ar,n.svgOverlay=yc,n.tileLayer=Sr,n.tooltip=Mc,n.transformation=nn,n.version=o,n.videoOverlay=gc;var Cc=window.L;n.noConflict=function(){return window.L=Cc,this},window.L=n})}(ps,ps.exports)),ps.exports}var Hl=Wl();const zd=Fc(Hl),Id=Wc({__proto__:null,default:zd},[Hl]);var kd={exports:{}};function Bd(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var xe=1,Me=2,We=3,Nd=4,Go=5,ah=6378137,Zd=6356752314e-3,rh=.0066943799901413165,Tn=484813681109536e-20,C=Math.PI/2,Rd=.16666666666666666,Dd=.04722222222222222,Fd=.022156084656084655,O=1e-10,Nt=.017453292519943295,Ti=57.29577951308232,rt=Math.PI/4,An=Math.PI*2,bt=3.14159265359,Xt={};Xt.greenwich=0;Xt.lisbon=-9.131906111111;Xt.paris=2.337229166667;Xt.bogota=-74.080916666667;Xt.madrid=-3.687938888889;Xt.rome=12.452333333333;Xt.bern=7.439583333333;Xt.jakarta=106.807719444444;Xt.ferro=-17.666666666667;Xt.brussels=4.367975;Xt.stockholm=18.058277777778;Xt.athens=23.7163375;Xt.oslo=10.722916666667;const qd={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var hh=/[\s_\-\/\(\)]/g;function te(t,i){if(t[i])return t[i];for(var n=Object.keys(t),o=i.toLowerCase().replace(hh,""),a=-1,h,u;++a<n.length;)if(h=n[a],u=h.toLowerCase().replace(hh,""),u===o)return t[h]}function jo(t){var i={},n=t.split("+").map(function(c){return c.trim()}).filter(function(c){return c}).reduce(function(c,d){var _=d.split("=");return _.push(!0),c[_[0].toLowerCase()]=_[1],c},{}),o,a,h,u={proj:"projName",datum:"datumCode",rf:function(c){i.rf=parseFloat(c)},lat_0:function(c){i.lat0=c*Nt},lat_1:function(c){i.lat1=c*Nt},lat_2:function(c){i.lat2=c*Nt},lat_ts:function(c){i.lat_ts=c*Nt},lon_0:function(c){i.long0=c*Nt},lon_1:function(c){i.long1=c*Nt},lon_2:function(c){i.long2=c*Nt},alpha:function(c){i.alpha=parseFloat(c)*Nt},gamma:function(c){i.rectified_grid_angle=parseFloat(c)},lonc:function(c){i.longc=c*Nt},x_0:function(c){i.x0=parseFloat(c)},y_0:function(c){i.y0=parseFloat(c)},k_0:function(c){i.k0=parseFloat(c)},k:function(c){i.k0=parseFloat(c)},a:function(c){i.a=parseFloat(c)},b:function(c){i.b=parseFloat(c)},r_a:function(){i.R_A=!0},zone:function(c){i.zone=parseInt(c,10)},south:function(){i.utmSouth=!0},towgs84:function(c){i.datum_params=c.split(",").map(function(d){return parseFloat(d)})},to_meter:function(c){i.to_meter=parseFloat(c)},units:function(c){i.units=c;var d=te(qd,c);d&&(i.to_meter=d.to_meter)},from_greenwich:function(c){i.from_greenwich=c*Nt},pm:function(c){var d=te(Xt,c);i.from_greenwich=(d||parseFloat(c))*Nt},nadgrids:function(c){c==="@null"?i.datumCode="none":i.nadgrids=c},axis:function(c){var d="ewnsud";c.length===3&&d.indexOf(c.substr(0,1))!==-1&&d.indexOf(c.substr(1,1))!==-1&&d.indexOf(c.substr(2,1))!==-1&&(i.axis=c)},approx:function(){i.approx=!0}};for(o in n)a=n[o],o in u?(h=u[o],typeof h=="function"?h(a):i[h]=a):i[o]=a;return typeof i.datumCode=="string"&&i.datumCode!=="WGS84"&&(i.datumCode=i.datumCode.toLowerCase()),i}var zn=1,Gl=2,jl=3,zs=4,Ul=5,Sa=-1,Wd=/\s/,Hd=/[A-Za-z]/,Gd=/[A-Za-z84_]/,$s=/[,\]]/,$l=/[\d\.E\-\+]/;function ji(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=zn}ji.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==zs)for(;Wd.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case zn:return this.neutral(t);case Gl:return this.keyword(t);case zs:return this.quoted(t);case Ul:return this.afterquote(t);case jl:return this.number(t);case Sa:return}};ji.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=zs;return}if($s.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};ji.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=zn;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=zn,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Sa);return}};ji.prototype.number=function(t){if($l.test(t)){this.word+=t;return}if($s.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};ji.prototype.quoted=function(t){if(t==='"'){this.state=Ul;return}this.word+=t};ji.prototype.keyword=function(t){if(Gd.test(t)){this.word+=t;return}if(t==="["){var i=[];i.push(this.word),this.level++,this.root===null?this.root=i:this.currentObject.push(i),this.stack.push(this.currentObject),this.currentObject=i,this.state=zn;return}if($s.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};ji.prototype.neutral=function(t){if(Hd.test(t)){this.word=t,this.state=Gl;return}if(t==='"'){this.word="",this.state=zs;return}if($l.test(t)){this.word=t,this.state=jl;return}if($s.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};ji.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Sa)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function jd(t){var i=new ji(t);return i.output()}function lh(t,i,n){Array.isArray(i)&&(n.unshift(i),i=null);var o=i?{}:t,a=n.reduce(function(h,u){return Ne(u,h),h},o);i&&(t[i]=a)}function Ne(t,i){if(!Array.isArray(t)){i[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){i[n]={},Ne(t[0],i[n]);return}i[n]=t[0];return}if(!t.length){i[n]=!0;return}if(n==="TOWGS84"){i[n]=t;return}if(n==="AXIS"){n in i||(i[n]=[]),i[n].push(t);return}Array.isArray(n)||(i[n]={});var o;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":i[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Ne(t[2],i[n]);return;case"SPHEROID":case"ELLIPSOID":i[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Ne(t[3],i[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],lh(i,n,t);return;default:for(o=-1;++o<t.length;)if(!Array.isArray(t[o]))return Ne(t,i[n]);return lh(i,n,t)}}var Ud=.017453292519943295;function $d(t,i){var n=i[0],o=i[1];!(n in t)&&o in t&&(t[n]=t[o],i.length===3&&(t[n]=i[2](t[n])))}function wi(t){return t*Ud}function Vd(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var i="",n=0,o=t.AXIS.length;n<o;++n){var a=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];a[0].indexOf("north")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="north"?i+="n":a[0].indexOf("south")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="south"?i+="s":a[0].indexOf("east")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="east"?i+="e":(a[0].indexOf("west")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="west")&&(i+="w")}i.length===2&&(i+="u"),i.length===3&&(t.axis=i)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var h=t.GEOGCS;t.type==="GEOGCS"&&(h=t),h&&(h.DATUM?t.datumCode=h.DATUM.name.toLowerCase():t.datumCode=h.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),h.DATUM&&h.DATUM.SPHEROID&&(t.ellps=h.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=h.DATUM.SPHEROID.a,t.rf=parseFloat(h.DATUM.SPHEROID.rf,10)),h.DATUM&&h.DATUM.TOWGS84&&(t.datum_params=h.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function u(_){var v=t.to_meter||1;return _*v}var c=function(_){return $d(t,_)},d=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",wi],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",wi],["x0","false_easting",u],["y0","false_northing",u],["long0","central_meridian",wi],["lat0","latitude_of_origin",wi],["lat0","standard_parallel_1",wi],["lat1","standard_parallel_1",wi],["lat2","standard_parallel_2",wi],["azimuth","Azimuth"],["alpha","azimuth",wi],["srsCode","name"]];d.forEach(c),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=wi(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=wi(t.lat0>0?90:-90))}function Vl(t){var i=jd(t),n=i.shift(),o=i.shift();i.unshift(["name",o]),i.unshift(["type",n]);var a={};return Ne(i,a),Vd(a),a}function Ft(t){var i=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Ft[t]=jo(arguments[1]):Ft[t]=Vl(arguments[1]):Ft[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(o){Array.isArray(o)?Ft.apply(i,o):Ft(o)});if(typeof t=="string"){if(t in Ft)return Ft[t]}else"EPSG"in t?Ft["EPSG:"+t.EPSG]=t:"ESRI"in t?Ft["ESRI:"+t.ESRI]=t:"IAU2000"in t?Ft["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Bd(Ft);function Kd(t){return typeof t=="string"}function Xd(t){return t in Ft}var Jd=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Yd(t){return Jd.some(function(i){return t.indexOf(i)>-1})}var Qd=["3857","900913","3785","102113"];function t_(t){var i=te(t,"authority");if(i){var n=te(i,"epsg");return n&&Qd.indexOf(n)>-1}}function i_(t){var i=te(t,"extension");if(i)return te(i,"proj4")}function e_(t){return t[0]==="+"}function n_(t){if(Kd(t)){if(Xd(t))return Ft[t];if(Yd(t)){var i=Vl(t);if(t_(i))return Ft["EPSG:3857"];var n=i_(i);return n?jo(n):i}if(e_(t))return jo(t)}else return t}function uh(t,i){t=t||{};var n,o;if(!i)return t;for(o in i)n=i[o],n!==void 0&&(t[o]=n);return t}function Oi(t,i,n){var o=t*i;return n/Math.sqrt(1-o*o)}function Hn(t){return t<0?-1:1}function z(t){return Math.abs(t)<=bt?t:t-Hn(t)*An}function _i(t,i,n){var o=t*n,a=.5*t;return o=Math.pow((1-o)/(1+o),a),Math.tan(.5*(C-i))/o}function In(t,i){for(var n=.5*t,o,a,h=C-2*Math.atan(i),u=0;u<=15;u++)if(o=t*Math.sin(h),a=C-2*Math.atan(i*Math.pow((1-o)/(1+o),n))-h,h+=a,Math.abs(a)<=1e-10)return h;return-9999}function s_(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Oi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function o_(t){var i=t.x,n=t.y;if(n*Ti>90&&n*Ti<-90&&i*Ti>180&&i*Ti<-180)return null;var o,a;if(Math.abs(Math.abs(n)-C)<=O)return null;if(this.sphere)o=this.x0+this.a*this.k0*z(i-this.long0),a=this.y0+this.a*this.k0*Math.log(Math.tan(rt+.5*n));else{var h=Math.sin(n),u=_i(this.e,n,h);o=this.x0+this.a*this.k0*z(i-this.long0),a=this.y0-this.a*this.k0*Math.log(u)}return t.x=o,t.y=a,t}function a_(t){var i=t.x-this.x0,n=t.y-this.y0,o,a;if(this.sphere)a=C-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var h=Math.exp(-n/(this.a*this.k0));if(a=In(this.e,h),a===-9999)return null}return o=z(this.long0+i/(this.a*this.k0)),t.x=o,t.y=a,t}var r_=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const h_={init:s_,forward:o_,inverse:a_,names:r_};function l_(){}function ch(t){return t}var u_=["longlat","identity"];const c_={init:l_,forward:ch,inverse:ch,names:u_};var f_=[h_,c_],Ps={},Is=[];function Kl(t,i){var n=Is.length;return t.names?(Is[n]=t,t.names.forEach(function(o){Ps[o.toLowerCase()]=n}),this):(console.log(i),!0)}function d_(t){if(!t)return!1;var i=t.toLowerCase();if(typeof Ps[i]<"u"&&Is[Ps[i]])return Is[Ps[i]]}function __(){f_.forEach(Kl)}const m_={start:__,add:Kl,get:d_};var q={};q.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};q.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};q.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};q.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};q.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};q.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};q.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};q.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};q.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};q.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};q.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};q.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};q.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};q.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};q.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};q.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};q.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};q.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};q.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};q.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};q.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};q.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};q.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};q.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};q.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};q.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};q.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};q.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};q.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};q.hough={a:6378270,rf:297,ellipseName:"Hough"};q.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};q.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};q.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};q.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};q.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};q.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};q.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};q.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};q.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};q.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};q.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};q.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var p_=q.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};q.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function v_(t,i,n,o){var a=t*t,h=i*i,u=(a-h)/a,c=0;o?(t*=1-u*(Rd+u*(Dd+u*Fd)),a=t*t,u=0):c=Math.sqrt(u);var d=(a-h)/h;return{es:u,e:c,ep2:d}}function g_(t,i,n,o,a){if(!t){var h=te(q,o);h||(h=p_),t=h.a,i=h.b,n=h.rf}return n&&!i&&(i=(1-1/n)*t),(n===0||Math.abs(t-i)<O)&&(a=!0,i=t),{a:t,b:i,rf:n,sphere:a}}var kt={};kt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};kt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};kt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};kt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};kt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};kt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};kt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};kt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};kt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};kt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};kt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};kt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};kt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};kt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};kt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};kt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};kt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function y_(t,i,n,o,a,h,u){var c={};return t===void 0||t==="none"?c.datum_type=Go:c.datum_type=Nd,i&&(c.datum_params=i.map(parseFloat),(c.datum_params[0]!==0||c.datum_params[1]!==0||c.datum_params[2]!==0)&&(c.datum_type=xe),c.datum_params.length>3&&(c.datum_params[3]!==0||c.datum_params[4]!==0||c.datum_params[5]!==0||c.datum_params[6]!==0)&&(c.datum_type=Me,c.datum_params[3]*=Tn,c.datum_params[4]*=Tn,c.datum_params[5]*=Tn,c.datum_params[6]=c.datum_params[6]/1e6+1)),u&&(c.datum_type=We,c.grids=u),c.a=n,c.b=o,c.es=a,c.ep2=h,c}var Xl={};function x_(t,i){var n=new DataView(i),o=P_(n),a=b_(n,o);a.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var h=L_(n,a,o),u={header:a,subgrids:h};return Xl[t]=u,u}function M_(t){if(t===void 0)return null;var i=t.split(",");return i.map(w_)}function w_(t){if(t.length===0)return null;var i=t[0]==="@";return i&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!i,grid:null,isNull:!0}:{name:t,mandatory:!i,grid:Xl[t]||null,isNull:!1}}function Ze(t){return t/3600*Math.PI/180}function P_(t){var i=t.getInt32(8,!1);return i===11?!1:(i=t.getInt32(8,!0),i!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function b_(t,i){return{nFields:t.getInt32(8,i),nSubgridFields:t.getInt32(24,i),nSubgrids:t.getInt32(40,i),shiftType:Uo(t,56,56+8).trim(),fromSemiMajorAxis:t.getFloat64(120,i),fromSemiMinorAxis:t.getFloat64(136,i),toSemiMajorAxis:t.getFloat64(152,i),toSemiMinorAxis:t.getFloat64(168,i)}}function Uo(t,i,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(i,n)))}function L_(t,i,n){for(var o=176,a=[],h=0;h<i.nSubgrids;h++){var u=S_(t,o,n),c=C_(t,o,u,n),d=Math.round(1+(u.upperLongitude-u.lowerLongitude)/u.longitudeInterval),_=Math.round(1+(u.upperLatitude-u.lowerLatitude)/u.latitudeInterval);a.push({ll:[Ze(u.lowerLongitude),Ze(u.lowerLatitude)],del:[Ze(u.longitudeInterval),Ze(u.latitudeInterval)],lim:[d,_],count:u.gridNodeCount,cvs:T_(c)})}return a}function T_(t){return t.map(function(i){return[Ze(i.longitudeShift),Ze(i.latitudeShift)]})}function S_(t,i,n){return{name:Uo(t,i+8,i+16).trim(),parent:Uo(t,i+24,i+24+8).trim(),lowerLatitude:t.getFloat64(i+72,n),upperLatitude:t.getFloat64(i+88,n),lowerLongitude:t.getFloat64(i+104,n),upperLongitude:t.getFloat64(i+120,n),latitudeInterval:t.getFloat64(i+136,n),longitudeInterval:t.getFloat64(i+152,n),gridNodeCount:t.getInt32(i+168,n)}}function C_(t,i,n,o){for(var a=i+176,h=16,u=[],c=0;c<n.gridNodeCount;c++){var d={latitudeShift:t.getFloat32(a+c*h,o),longitudeShift:t.getFloat32(a+c*h+4,o),latitudeAccuracy:t.getFloat32(a+c*h+8,o),longitudeAccuracy:t.getFloat32(a+c*h+12,o)};u.push(d)}return u}function Ci(t,i){if(!(this instanceof Ci))return new Ci(t);i=i||function(_){if(_)throw _};var n=n_(t);if(typeof n!="object"){i(t);return}var o=Ci.projections.get(n.projName);if(!o){i(t);return}if(n.datumCode&&n.datumCode!=="none"){var a=te(kt,n.datumCode);a&&(n.datum_params=n.datum_params||(a.towgs84?a.towgs84.split(","):null),n.ellps=a.ellipse,n.datumName=a.datumName?a.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var h=g_(n.a,n.b,n.rf,n.ellps,n.sphere),u=v_(h.a,h.b,h.rf,n.R_A),c=M_(n.nadgrids),d=n.datum||y_(n.datumCode,n.datum_params,h.a,h.b,u.es,u.ep2,c);uh(this,n),uh(this,o),this.a=h.a,this.b=h.b,this.rf=h.rf,this.sphere=h.sphere,this.es=u.es,this.e=u.e,this.ep2=u.ep2,this.datum=d,this.init(),i(null,this)}Ci.projections=m_;Ci.projections.start();function E_(t,i){return t.datum_type!==i.datum_type||t.a!==i.a||Math.abs(t.es-i.es)>5e-11?!1:t.datum_type===xe?t.datum_params[0]===i.datum_params[0]&&t.datum_params[1]===i.datum_params[1]&&t.datum_params[2]===i.datum_params[2]:t.datum_type===Me?t.datum_params[0]===i.datum_params[0]&&t.datum_params[1]===i.datum_params[1]&&t.datum_params[2]===i.datum_params[2]&&t.datum_params[3]===i.datum_params[3]&&t.datum_params[4]===i.datum_params[4]&&t.datum_params[5]===i.datum_params[5]&&t.datum_params[6]===i.datum_params[6]:!0}function Jl(t,i,n){var o=t.x,a=t.y,h=t.z?t.z:0,u,c,d,_;if(a<-C&&a>-1.001*C)a=-C;else if(a>C&&a<1.001*C)a=C;else{if(a<-C)return{x:-1/0,y:-1/0,z:t.z};if(a>C)return{x:1/0,y:1/0,z:t.z}}return o>Math.PI&&(o-=2*Math.PI),c=Math.sin(a),_=Math.cos(a),d=c*c,u=n/Math.sqrt(1-i*d),{x:(u+h)*_*Math.cos(o),y:(u+h)*_*Math.sin(o),z:(u*(1-i)+h)*c}}function Yl(t,i,n,o){var a=1e-12,h=a*a,u=30,c,d,_,v,p,y,M,P,b,T,E,I,k,K=t.x,G=t.y,F=t.z?t.z:0,mt,R,Z;if(c=Math.sqrt(K*K+G*G),d=Math.sqrt(K*K+G*G+F*F),c/n<a){if(mt=0,d/n<a)return R=C,Z=-o,{x:t.x,y:t.y,z:t.z}}else mt=Math.atan2(G,K);_=F/d,v=c/d,p=1/Math.sqrt(1-i*(2-i)*v*v),P=v*(1-i)*p,b=_*p,k=0;do k++,M=n/Math.sqrt(1-i*b*b),Z=c*P+F*b-M*(1-i*b*b),y=i*M/(M+Z),p=1/Math.sqrt(1-y*(2-y)*v*v),T=v*(1-y)*p,E=_*p,I=E*P-T*b,P=T,b=E;while(I*I>h&&k<u);return R=Math.atan(E/Math.abs(T)),{x:mt,y:R,z:Z}}function O_(t,i,n){if(i===xe)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(i===Me){var o=n[0],a=n[1],h=n[2],u=n[3],c=n[4],d=n[5],_=n[6];return{x:_*(t.x-d*t.y+c*t.z)+o,y:_*(d*t.x+t.y-u*t.z)+a,z:_*(-c*t.x+u*t.y+t.z)+h}}}function A_(t,i,n){if(i===xe)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(i===Me){var o=n[0],a=n[1],h=n[2],u=n[3],c=n[4],d=n[5],_=n[6],v=(t.x-o)/_,p=(t.y-a)/_,y=(t.z-h)/_;return{x:v+d*p-c*y,y:-d*v+p+u*y,z:c*v-u*p+y}}}function vs(t){return t===xe||t===Me}function z_(t,i,n){if(E_(t,i)||t.datum_type===Go||i.datum_type===Go)return n;var o=t.a,a=t.es;if(t.datum_type===We){var h=fh(t,!1,n);if(h!==0)return;o=ah,a=rh}var u=i.a,c=i.b,d=i.es;if(i.datum_type===We&&(u=ah,c=Zd,d=rh),a===d&&o===u&&!vs(t.datum_type)&&!vs(i.datum_type))return n;if(n=Jl(n,a,o),vs(t.datum_type)&&(n=O_(n,t.datum_type,t.datum_params)),vs(i.datum_type)&&(n=A_(n,i.datum_type,i.datum_params)),n=Yl(n,d,u,c),i.datum_type===We){var _=fh(i,!0,n);if(_!==0)return}return n}function fh(t,i,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var o={x:-n.x,y:n.y},a={x:Number.NaN,y:Number.NaN},h=[],u=0;u<t.grids.length;u++){var c=t.grids[u];if(h.push(c.name),c.isNull){a=o;break}if(c.mandatory,c.grid===null){if(c.mandatory)return console.log("Unable to find mandatory grid '"+c.name+"'"),-1;continue}var d=c.grid.subgrids[0],_=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,v=d.ll[0]-_,p=d.ll[1]-_,y=d.ll[0]+(d.lim[0]-1)*d.del[0]+_,M=d.ll[1]+(d.lim[1]-1)*d.del[1]+_;if(!(p>o.y||v>o.x||M<o.y||y<o.x)&&(a=I_(o,i,d),!isNaN(a.x)))break}return isNaN(a.x)?(console.log("Failed to find a grid shift table for location '"+-o.x*Ti+" "+o.y*Ti+" tried: '"+h+"'"),-1):(n.x=-a.x,n.y=a.y,0)}function I_(t,i,n){var o={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return o;var a={x:t.x,y:t.y};a.x-=n.ll[0],a.y-=n.ll[1],a.x=z(a.x-Math.PI)+Math.PI;var h=dh(a,n);if(i){if(isNaN(h.x))return o;h.x=a.x-h.x,h.y=a.y-h.y;var u=9,c=1e-12,d,_;do{if(_=dh(h,n),isNaN(_.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}d={x:a.x-(_.x+h.x),y:a.y-(_.y+h.y)},h.x+=d.x,h.y+=d.y}while(u--&&Math.abs(d.x)>c&&Math.abs(d.y)>c);if(u<0)return console.log("Inverse grid shift iterator failed to converge."),o;o.x=z(h.x+n.ll[0]),o.y=h.y+n.ll[1]}else isNaN(h.x)||(o.x=t.x+h.x,o.y=t.y+h.y);return o}function dh(t,i){var n={x:t.x/i.del[0],y:t.y/i.del[1]},o={x:Math.floor(n.x),y:Math.floor(n.y)},a={x:n.x-1*o.x,y:n.y-1*o.y},h={x:Number.NaN,y:Number.NaN},u;if(o.x<0||o.x>=i.lim[0]||o.y<0||o.y>=i.lim[1])return h;u=o.y*i.lim[0]+o.x;var c={x:i.cvs[u][0],y:i.cvs[u][1]};u++;var d={x:i.cvs[u][0],y:i.cvs[u][1]};u+=i.lim[0];var _={x:i.cvs[u][0],y:i.cvs[u][1]};u--;var v={x:i.cvs[u][0],y:i.cvs[u][1]},p=a.x*a.y,y=a.x*(1-a.y),M=(1-a.x)*(1-a.y),P=(1-a.x)*a.y;return h.x=M*c.x+y*d.x+P*v.x+p*_.x,h.y=M*c.y+y*d.y+P*v.y+p*_.y,h}function _h(t,i,n){var o=n.x,a=n.y,h=n.z||0,u,c,d,_={};for(d=0;d<3;d++)if(!(i&&d===2&&n.z===void 0))switch(d===0?(u=o,"ew".indexOf(t.axis[d])!==-1?c="x":c="y"):d===1?(u=a,"ns".indexOf(t.axis[d])!==-1?c="y":c="x"):(u=h,c="z"),t.axis[d]){case"e":_[c]=u;break;case"w":_[c]=-u;break;case"n":_[c]=u;break;case"s":_[c]=-u;break;case"u":n[c]!==void 0&&(_.z=u);break;case"d":n[c]!==void 0&&(_.z=-u);break;default:return null}return _}function Ql(t){var i={x:t[0],y:t[1]};return t.length>2&&(i.z=t[2]),t.length>3&&(i.m=t[3]),i}function k_(t){mh(t.x),mh(t.y)}function mh(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function B_(t,i){return(t.datum.datum_type===xe||t.datum.datum_type===Me||t.datum.datum_type===We)&&i.datumCode!=="WGS84"||(i.datum.datum_type===xe||i.datum.datum_type===Me||i.datum.datum_type===We)&&t.datumCode!=="WGS84"}function ks(t,i,n,o){var a;Array.isArray(n)?n=Ql(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var h=n.z!==void 0;if(k_(n),t.datum&&i.datum&&B_(t,i)&&(a=new Ci("WGS84"),n=ks(t,a,n,o),t=a),o&&t.axis!=="enu"&&(n=_h(t,!1,n)),t.projName==="longlat")n={x:n.x*Nt,y:n.y*Nt,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=z_(t.datum,i.datum,n),!!n)return i.from_greenwich&&(n={x:n.x-i.from_greenwich,y:n.y,z:n.z||0}),i.projName==="longlat"?n={x:n.x*Ti,y:n.y*Ti,z:n.z||0}:(n=i.forward(n),i.to_meter&&(n={x:n.x/i.to_meter,y:n.y/i.to_meter,z:n.z||0})),o&&i.axis!=="enu"?_h(i,!0,n):(h||delete n.z,n)}var ph=Ci("WGS84");function zo(t,i,n,o){var a,h,u;return Array.isArray(n)?(a=ks(t,i,n,o)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof i.name<"u"&&i.name==="geocent"?typeof a.z=="number"?[a.x,a.y,a.z].concat(n.splice(3)):[a.x,a.y,n[2]].concat(n.splice(3)):[a.x,a.y].concat(n.splice(2)):[a.x,a.y]):(h=ks(t,i,n,o),u=Object.keys(n),u.length===2||u.forEach(function(c){if(typeof t.name<"u"&&t.name==="geocent"||typeof i.name<"u"&&i.name==="geocent"){if(c==="x"||c==="y"||c==="z")return}else if(c==="x"||c==="y")return;h[c]=n[c]}),h)}function vh(t){return t instanceof Ci?t:t.oProj?t.oProj:Ci(t)}function Qt(t,i,n){t=vh(t);var o=!1,a;return typeof i>"u"?(i=t,t=ph,o=!0):(typeof i.x<"u"||Array.isArray(i))&&(n=i,i=t,t=ph,o=!0),i=vh(i),n?zo(t,i,n):(a={forward:function(h,u){return zo(t,i,h,u)},inverse:function(h,u){return zo(i,t,h,u)}},o&&(a.oProj=i),a)}var gh=6,tu="AJSAJS",iu="AFAFAF",Re=65,Ut=73,si=79,xn=86,Mn=90;const N_={forward:eu,inverse:Z_,toPoint:nu};function eu(t,i){return i=i||5,F_(R_({lat:t[1],lon:t[0]}),i)}function Z_(t){var i=Ca(ou(t.toUpperCase()));return i.lat&&i.lon?[i.lon,i.lat,i.lon,i.lat]:[i.left,i.bottom,i.right,i.top]}function nu(t){var i=Ca(ou(t.toUpperCase()));return i.lat&&i.lon?[i.lon,i.lat]:[(i.left+i.right)/2,(i.top+i.bottom)/2]}function Io(t){return t*(Math.PI/180)}function yh(t){return 180*(t/Math.PI)}function R_(t){var i=t.lat,n=t.lon,o=6378137,a=.00669438,h=.9996,u,c,d,_,v,p,y,M=Io(i),P=Io(n),b,T;T=Math.floor((n+180)/6)+1,n===180&&(T=60),i>=56&&i<64&&n>=3&&n<12&&(T=32),i>=72&&i<84&&(n>=0&&n<9?T=31:n>=9&&n<21?T=33:n>=21&&n<33?T=35:n>=33&&n<42&&(T=37)),u=(T-1)*6-180+3,b=Io(u),c=a/(1-a),d=o/Math.sqrt(1-a*Math.sin(M)*Math.sin(M)),_=Math.tan(M)*Math.tan(M),v=c*Math.cos(M)*Math.cos(M),p=Math.cos(M)*(P-b),y=o*((1-a/4-3*a*a/64-5*a*a*a/256)*M-(3*a/8+3*a*a/32+45*a*a*a/1024)*Math.sin(2*M)+(15*a*a/256+45*a*a*a/1024)*Math.sin(4*M)-35*a*a*a/3072*Math.sin(6*M));var E=h*d*(p+(1-_+v)*p*p*p/6+(5-18*_+_*_+72*v-58*c)*p*p*p*p*p/120)+5e5,I=h*(y+d*Math.tan(M)*(p*p/2+(5-_+9*v+4*v*v)*p*p*p*p/24+(61-58*_+_*_+600*v-330*c)*p*p*p*p*p*p/720));return i<0&&(I+=1e7),{northing:Math.round(I),easting:Math.round(E),zoneNumber:T,zoneLetter:D_(i)}}function Ca(t){var i=t.northing,n=t.easting,o=t.zoneLetter,a=t.zoneNumber;if(a<0||a>60)return null;var h=.9996,u=6378137,c=.00669438,d,_=(1-Math.sqrt(1-c))/(1+Math.sqrt(1-c)),v,p,y,M,P,b,T,E,I,k=n-5e5,K=i;o<"N"&&(K-=1e7),T=(a-1)*6-180+3,d=c/(1-c),b=K/h,E=b/(u*(1-c/4-3*c*c/64-5*c*c*c/256)),I=E+(3*_/2-27*_*_*_/32)*Math.sin(2*E)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*E)+151*_*_*_/96*Math.sin(6*E),v=u/Math.sqrt(1-c*Math.sin(I)*Math.sin(I)),p=Math.tan(I)*Math.tan(I),y=d*Math.cos(I)*Math.cos(I),M=u*(1-c)/Math.pow(1-c*Math.sin(I)*Math.sin(I),1.5),P=k/(v*h);var G=I-v*Math.tan(I)/M*(P*P/2-(5+3*p+10*y-4*y*y-9*d)*P*P*P*P/24+(61+90*p+298*y+45*p*p-252*d-3*y*y)*P*P*P*P*P*P/720);G=yh(G);var F=(P-(1+2*p+y)*P*P*P/6+(5-2*y+28*p-3*y*y+8*d+24*p*p)*P*P*P*P*P/120)/Math.cos(I);F=T+yh(F);var mt;if(t.accuracy){var R=Ca({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});mt={top:R.lat,right:R.lon,bottom:G,left:F}}else mt={lat:G,lon:F};return mt}function D_(t){var i="Z";return 84>=t&&t>=72?i="X":72>t&&t>=64?i="W":64>t&&t>=56?i="V":56>t&&t>=48?i="U":48>t&&t>=40?i="T":40>t&&t>=32?i="S":32>t&&t>=24?i="R":24>t&&t>=16?i="Q":16>t&&t>=8?i="P":8>t&&t>=0?i="N":0>t&&t>=-8?i="M":-8>t&&t>=-16?i="L":-16>t&&t>=-24?i="K":-24>t&&t>=-32?i="J":-32>t&&t>=-40?i="H":-40>t&&t>=-48?i="G":-48>t&&t>=-56?i="F":-56>t&&t>=-64?i="E":-64>t&&t>=-72?i="D":-72>t&&t>=-80&&(i="C"),i}function F_(t,i){var n="00000"+t.easting,o="00000"+t.northing;return t.zoneNumber+t.zoneLetter+q_(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,i)+o.substr(o.length-5,i)}function q_(t,i,n){var o=su(n),a=Math.floor(t/1e5),h=Math.floor(i/1e5)%20;return W_(a,h,o)}function su(t){var i=t%gh;return i===0&&(i=gh),i}function W_(t,i,n){var o=n-1,a=tu.charCodeAt(o),h=iu.charCodeAt(o),u=a+t-1,c=h+i,d=!1;u>Mn&&(u=u-Mn+Re-1,d=!0),(u===Ut||a<Ut&&u>Ut||(u>Ut||a<Ut)&&d)&&u++,(u===si||a<si&&u>si||(u>si||a<si)&&d)&&(u++,u===Ut&&u++),u>Mn&&(u=u-Mn+Re-1),c>xn?(c=c-xn+Re-1,d=!0):d=!1,(c===Ut||h<Ut&&c>Ut||(c>Ut||h<Ut)&&d)&&c++,(c===si||h<si&&c>si||(c>si||h<si)&&d)&&(c++,c===Ut&&c++),c>xn&&(c=c-xn+Re-1);var _=String.fromCharCode(u)+String.fromCharCode(c);return _}function ou(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var i=t.length,n=null,o="",a,h=0;!/[A-Z]/.test(a=t.charAt(h));){if(h>=2)throw"MGRSPoint bad conversion from: "+t;o+=a,h++}var u=parseInt(o,10);if(h===0||h+3>i)throw"MGRSPoint bad conversion from: "+t;var c=t.charAt(h++);if(c<="A"||c==="B"||c==="Y"||c>="Z"||c==="I"||c==="O")throw"MGRSPoint zone letter "+c+" not handled: "+t;n=t.substring(h,h+=2);for(var d=su(u),_=H_(n.charAt(0),d),v=G_(n.charAt(1),d);v<j_(c);)v+=2e6;var p=i-h;if(p%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var y=p/2,M=0,P=0,b,T,E,I,k;return y>0&&(b=1e5/Math.pow(10,y),T=t.substring(h,h+y),M=parseFloat(T)*b,E=t.substring(h+y),P=parseFloat(E)*b),I=M+_,k=P+v,{easting:I,northing:k,zoneLetter:c,zoneNumber:u,accuracy:b}}function H_(t,i){for(var n=tu.charCodeAt(i-1),o=1e5,a=!1;n!==t.charCodeAt(0);){if(n++,n===Ut&&n++,n===si&&n++,n>Mn){if(a)throw"Bad character: "+t;n=Re,a=!0}o+=1e5}return o}function G_(t,i){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=iu.charCodeAt(i-1),o=0,a=!1;n!==t.charCodeAt(0);){if(n++,n===Ut&&n++,n===si&&n++,n>xn){if(a)throw"Bad character: "+t;n=Re,a=!0}o+=1e5}return o}function j_(t){var i;switch(t){case"C":i=11e5;break;case"D":i=2e6;break;case"E":i=28e5;break;case"F":i=37e5;break;case"G":i=46e5;break;case"H":i=55e5;break;case"J":i=64e5;break;case"K":i=73e5;break;case"L":i=82e5;break;case"M":i=91e5;break;case"N":i=0;break;case"P":i=8e5;break;case"Q":i=17e5;break;case"R":i=26e5;break;case"S":i=35e5;break;case"T":i=44e5;break;case"U":i=53e5;break;case"V":i=62e5;break;case"W":i=7e6;break;case"X":i=79e5;break;default:i=-1}if(i>=0)return i;throw"Invalid zone letter: "+t}function Ve(t,i,n){if(!(this instanceof Ve))return new Ve(t,i,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof i>"u"){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=t,this.y=i,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ve.fromMGRS=function(t){return new Ve(nu(t))};Ve.prototype.toMGRS=function(t){return eu([this.x,this.y],t)};var U_=1,$_=.25,xh=.046875,Mh=.01953125,wh=.01068115234375,V_=.75,K_=.46875,X_=.013020833333333334,J_=.007120768229166667,Y_=.3645833333333333,Q_=.005696614583333333,tm=.3076171875;function au(t){var i=[];i[0]=U_-t*($_+t*(xh+t*(Mh+t*wh))),i[1]=t*(V_-t*(xh+t*(Mh+t*wh)));var n=t*t;return i[2]=n*(K_-t*(X_+t*J_)),n*=t,i[3]=n*(Y_-t*Q_),i[4]=n*t*tm,i}function Vs(t,i,n,o){return n*=i,i*=i,o[0]*t-n*(o[1]+i*(o[2]+i*(o[3]+i*o[4])))}var im=20;function ru(t,i,n){for(var o=1/(1-i),a=t,h=im;h;--h){var u=Math.sin(a),c=1-i*u*u;if(c=(Vs(a,u,Math.cos(a),n)-t)*(c*Math.sqrt(c))*o,a-=c,Math.abs(c)<O)return a}return a}function em(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=au(this.es),this.ml0=Vs(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function nm(t){var i=t.x,n=t.y,o=z(i-this.long0),a,h,u,c=Math.sin(n),d=Math.cos(n);if(this.es){var v=d*o,p=Math.pow(v,2),y=this.ep2*Math.pow(d,2),M=Math.pow(y,2),P=Math.abs(d)>O?Math.tan(n):0,b=Math.pow(P,2),T=Math.pow(b,2);a=1-this.es*Math.pow(c,2),v=v/Math.sqrt(a);var E=Vs(n,c,d,this.en);h=this.a*(this.k0*v*(1+p/6*(1-b+y+p/20*(5-18*b+T+14*y-58*b*y+p/42*(61+179*T-T*b-479*b)))))+this.x0,u=this.a*(this.k0*(E-this.ml0+c*o*v/2*(1+p/12*(5-b+9*y+4*M+p/30*(61+T-58*b+270*y-330*b*y+p/56*(1385+543*T-T*b-3111*b))))))+this.y0}else{var _=d*Math.sin(o);if(Math.abs(Math.abs(_)-1)<O)return 93;if(h=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,u=d*Math.cos(o)/Math.sqrt(1-Math.pow(_,2)),_=Math.abs(u),_>=1){if(_-1>O)return 93;u=0}else u=Math.acos(u);n<0&&(u=-u),u=this.a*this.k0*(u-this.lat0)+this.y0}return t.x=h,t.y=u,t}function sm(t){var i,n,o,a,h=(t.x-this.x0)*(1/this.a),u=(t.y-this.y0)*(1/this.a);if(this.es)if(i=this.ml0+u/this.k0,n=ru(i,this.es,this.en),Math.abs(n)<C){var p=Math.sin(n),y=Math.cos(n),M=Math.abs(y)>O?Math.tan(n):0,P=this.ep2*Math.pow(y,2),b=Math.pow(P,2),T=Math.pow(M,2),E=Math.pow(T,2);i=1-this.es*Math.pow(p,2);var I=h*Math.sqrt(i)/this.k0,k=Math.pow(I,2);i=i*M,o=n-i*k/(1-this.es)*.5*(1-k/12*(5+3*T-9*P*T+P-4*b-k/30*(61+90*T-252*P*T+45*E+46*P-k/56*(1385+3633*T+4095*E+1574*E*T)))),a=z(this.long0+I*(1-k/6*(1+2*T+P-k/20*(5+28*T+24*E+8*P*T+6*P-k/42*(61+662*T+1320*E+720*E*T))))/y)}else o=C*Hn(u),a=0;else{var c=Math.exp(h/this.k0),d=.5*(c-1/c),_=this.lat0+u/this.k0,v=Math.cos(_);i=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(d,2))),o=Math.asin(i),u<0&&(o=-o),d===0&&v===0?a=0:a=z(Math.atan2(d,v)+this.long0)}return t.x=a,t.y=o,t}var om=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const bs={init:em,forward:nm,inverse:sm,names:om};function hu(t){var i=Math.exp(t);return i=(i-1/i)/2,i}function fi(t,i){t=Math.abs(t),i=Math.abs(i);var n=Math.max(t,i),o=Math.min(t,i)/(n||1);return n*Math.sqrt(1+Math.pow(o,2))}function am(t){var i=1+t,n=i-1;return n===0?t:t*Math.log(i)/n}function rm(t){var i=Math.abs(t);return i=am(i*(1+i/(fi(1,i)+1))),t<0?-i:i}function Ea(t,i){for(var n=2*Math.cos(2*i),o=t.length-1,a=t[o],h=0,u;--o>=0;)u=-h+n*a+t[o],h=a,a=u;return i+u*Math.sin(2*i)}function hm(t,i){for(var n=2*Math.cos(i),o=t.length-1,a=t[o],h=0,u;--o>=0;)u=-h+n*a+t[o],h=a,a=u;return Math.sin(i)*u}function lm(t){var i=Math.exp(t);return i=(i+1/i)/2,i}function lu(t,i,n){for(var o=Math.sin(i),a=Math.cos(i),h=hu(n),u=lm(n),c=2*a*u,d=-2*o*h,_=t.length-1,v=t[_],p=0,y=0,M=0,P,b;--_>=0;)P=y,b=p,y=v,p=M,v=-P+c*y-d*p+t[_],M=-b+d*y+c*p;return c=o*u,d=a*h,[c*v-d*M,c*M+d*v]}function um(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(bs.init.apply(this),this.forward=bs.forward,this.inverse=bs.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),i=t/(2-t),n=i;this.cgb[0]=i*(2+i*(-2/3+i*(-2+i*(116/45+i*(26/45+i*(-2854/675)))))),this.cbg[0]=i*(-2+i*(2/3+i*(4/3+i*(-82/45+i*(32/45+i*(4642/4725)))))),n=n*i,this.cgb[1]=n*(7/3+i*(-8/5+i*(-227/45+i*(2704/315+i*(2323/945))))),this.cbg[1]=n*(5/3+i*(-16/15+i*(-13/9+i*(904/315+i*(-1522/945))))),n=n*i,this.cgb[2]=n*(56/15+i*(-136/35+i*(-1262/105+i*(73814/2835)))),this.cbg[2]=n*(-26/15+i*(34/21+i*(8/5+i*(-12686/2835)))),n=n*i,this.cgb[3]=n*(4279/630+i*(-332/35+i*(-399572/14175))),this.cbg[3]=n*(1237/630+i*(-12/5+i*(-24832/14175))),n=n*i,this.cgb[4]=n*(4174/315+i*(-144838/6237)),this.cbg[4]=n*(-734/315+i*(109598/31185)),n=n*i,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(i,2),this.Qn=this.k0/(1+i)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=i*(-.5+i*(2/3+i*(-37/96+i*(1/360+i*(81/512+i*(-96199/604800)))))),this.gtu[0]=i*(.5+i*(-2/3+i*(5/16+i*(41/180+i*(-127/288+i*(7891/37800)))))),this.utg[1]=n*(-1/48+i*(-1/15+i*(437/1440+i*(-46/105+i*(1118711/3870720))))),this.gtu[1]=n*(13/48+i*(-3/5+i*(557/1440+i*(281/630+i*(-1983433/1935360))))),n=n*i,this.utg[2]=n*(-17/480+i*(37/840+i*(209/4480+i*(-5569/90720)))),this.gtu[2]=n*(61/240+i*(-103/140+i*(15061/26880+i*(167603/181440)))),n=n*i,this.utg[3]=n*(-4397/161280+i*(11/504+i*(830251/7257600))),this.gtu[3]=n*(49561/161280+i*(-179/168+i*(6601661/7257600))),n=n*i,this.utg[4]=n*(-4583/161280+i*(108847/3991680)),this.gtu[4]=n*(34729/80640+i*(-3418889/1995840)),n=n*i,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var o=Ea(this.cbg,this.lat0);this.Zb=-this.Qn*(o+hm(this.gtu,2*o))}function cm(t){var i=z(t.x-this.long0),n=t.y;n=Ea(this.cbg,n);var o=Math.sin(n),a=Math.cos(n),h=Math.sin(i),u=Math.cos(i);n=Math.atan2(o,u*a),i=Math.atan2(h*a,fi(o,a*u)),i=rm(Math.tan(i));var c=lu(this.gtu,2*n,2*i);n=n+c[0],i=i+c[1];var d,_;return Math.abs(i)<=2.623395162778?(d=this.a*(this.Qn*i)+this.x0,_=this.a*(this.Qn*n+this.Zb)+this.y0):(d=1/0,_=1/0),t.x=d,t.y=_,t}function fm(t){var i=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,i=i/this.Qn;var o,a;if(Math.abs(i)<=2.623395162778){var h=lu(this.utg,2*n,2*i);n=n+h[0],i=i+h[1],i=Math.atan(hu(i));var u=Math.sin(n),c=Math.cos(n),d=Math.sin(i),_=Math.cos(i);n=Math.atan2(u*_,fi(d,_*c)),i=Math.atan2(d,_*c),o=z(i+this.long0),a=Ea(this.cgb,n)}else o=1/0,a=1/0;return t.x=o,t.y=a,t}var dm=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const Ls={init:um,forward:cm,inverse:fm,names:dm};function _m(t,i){if(t===void 0){if(t=Math.floor((z(i)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var mm="etmerc";function pm(){var t=_m(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Nt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ls.init.apply(this),this.forward=Ls.forward,this.inverse=Ls.inverse}var vm=["Universal Transverse Mercator System","utm"];const gm={init:pm,names:vm,dependsOn:mm};function Oa(t,i){return Math.pow((1-t)/(1+t),i)}var ym=20;function xm(){var t=Math.sin(this.lat0),i=Math.cos(this.lat0);i*=i,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*i*i/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+rt)/(Math.pow(Math.tan(.5*this.lat0+rt),this.C)*Oa(this.e*t,this.ratexp))}function Mm(t){var i=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+rt),this.C)*Oa(this.e*Math.sin(n),this.ratexp))-C,t.x=this.C*i,t}function wm(t){for(var i=1e-14,n=t.x/this.C,o=t.y,a=Math.pow(Math.tan(.5*o+rt)/this.K,1/this.C),h=ym;h>0&&(o=2*Math.atan(a*Oa(this.e*Math.sin(t.y),-.5*this.e))-C,!(Math.abs(o-t.y)<i));--h)t.y=o;return h?(t.x=n,t.y=o,t):null}var Pm=["gauss"];const Aa={init:xm,forward:Mm,inverse:wm,names:Pm};function bm(){Aa.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Lm(t){var i,n,o,a;return t.x=z(t.x-this.long0),Aa.forward.apply(this,[t]),i=Math.sin(t.y),n=Math.cos(t.y),o=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*i+this.cosc0*n*o),t.x=a*n*Math.sin(t.x),t.y=a*(this.cosc0*i-this.sinc0*n*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Tm(t){var i,n,o,a,h;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,h=Math.sqrt(t.x*t.x+t.y*t.y)){var u=2*Math.atan2(h,this.R2);i=Math.sin(u),n=Math.cos(u),a=Math.asin(n*this.sinc0+t.y*i*this.cosc0/h),o=Math.atan2(t.x*i,h*this.cosc0*n-t.y*this.sinc0*i)}else a=this.phic0,o=0;return t.x=o,t.y=a,Aa.inverse.apply(this,[t]),t.x=z(t.x+this.long0),t}var Sm=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Cm={init:bm,forward:Lm,inverse:Tm,names:Sm};function Em(t,i,n){return i*=n,Math.tan(.5*(C+t))*Math.pow((1-i)/(1+i),.5*n)}function Om(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=O&&(this.k0=.5*(1+Hn(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=O&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=O&&(this.k0=.5*this.cons*Oi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/_i(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Oi(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-C,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Am(t){var i=t.x,n=t.y,o=Math.sin(n),a=Math.cos(n),h,u,c,d,_,v,p=z(i-this.long0);return Math.abs(Math.abs(i-this.long0)-Math.PI)<=O&&Math.abs(n+this.lat0)<=O?(t.x=NaN,t.y=NaN,t):this.sphere?(h=2*this.k0/(1+this.sinlat0*o+this.coslat0*a*Math.cos(p)),t.x=this.a*h*a*Math.sin(p)+this.x0,t.y=this.a*h*(this.coslat0*o-this.sinlat0*a*Math.cos(p))+this.y0,t):(u=2*Math.atan(this.ssfn_(n,o,this.e))-C,d=Math.cos(u),c=Math.sin(u),Math.abs(this.coslat0)<=O?(_=_i(this.e,n*this.con,this.con*o),v=2*this.a*this.k0*_/this.cons,t.x=this.x0+v*Math.sin(i-this.long0),t.y=this.y0-this.con*v*Math.cos(i-this.long0),t):(Math.abs(this.sinlat0)<O?(h=2*this.a*this.k0/(1+d*Math.cos(p)),t.y=h*c):(h=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*c+this.cosX0*d*Math.cos(p))),t.y=h*(this.cosX0*c-this.sinX0*d*Math.cos(p))+this.y0),t.x=h*d*Math.sin(p)+this.x0,t))}function zm(t){t.x-=this.x0,t.y-=this.y0;var i,n,o,a,h,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(u/(2*this.a*this.k0));return i=this.long0,n=this.lat0,u<=O?(t.x=i,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/u),Math.abs(this.coslat0)<O?this.lat0>0?i=z(this.long0+Math.atan2(t.x,-1*t.y)):i=z(this.long0+Math.atan2(t.x,t.y)):i=z(this.long0+Math.atan2(t.x*Math.sin(c),u*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=i,t.y=n,t)}else if(Math.abs(this.coslat0)<=O){if(u<=O)return n=this.lat0,i=this.long0,t.x=i,t.y=n,t;t.x*=this.con,t.y*=this.con,o=u*this.cons/(2*this.a*this.k0),n=this.con*In(this.e,o),i=this.con*z(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),i=this.long0,u<=O?h=this.X0:(h=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/u),i=z(this.long0+Math.atan2(t.x*Math.sin(a),u*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),n=-1*In(this.e,Math.tan(.5*(C+h)));return t.x=i,t.y=n,t}var Im=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];const km={init:Om,forward:Am,inverse:zm,names:Im,ssfn_:Em};function Bm(){var t=this.lat0;this.lambda0=this.long0;var i=Math.sin(t),n=this.a,o=this.rf,a=1/o,h=2*a-Math.pow(a,2),u=this.e=Math.sqrt(h);this.R=this.k0*n*Math.sqrt(1-h)/(1-h*Math.pow(i,2)),this.alpha=Math.sqrt(1+h/(1-h)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(i/this.alpha);var c=Math.log(Math.tan(Math.PI/4+this.b0/2)),d=Math.log(Math.tan(Math.PI/4+t/2)),_=Math.log((1+u*i)/(1-u*i));this.K=c-this.alpha*d+this.alpha*u/2*_}function Nm(t){var i=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),o=-this.alpha*(i+n)+this.K,a=2*(Math.atan(Math.exp(o))-Math.PI/4),h=this.alpha*(t.x-this.lambda0),u=Math.atan(Math.sin(h)/(Math.sin(this.b0)*Math.tan(a)+Math.cos(this.b0)*Math.cos(h))),c=Math.asin(Math.cos(this.b0)*Math.sin(a)-Math.sin(this.b0)*Math.cos(a)*Math.cos(h));return t.y=this.R/2*Math.log((1+Math.sin(c))/(1-Math.sin(c)))+this.y0,t.x=this.R*u+this.x0,t}function Zm(t){for(var i=t.x-this.x0,n=t.y-this.y0,o=i/this.R,a=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),h=Math.asin(Math.cos(this.b0)*Math.sin(a)+Math.sin(this.b0)*Math.cos(a)*Math.cos(o)),u=Math.atan(Math.sin(o)/(Math.cos(this.b0)*Math.cos(o)-Math.sin(this.b0)*Math.tan(a))),c=this.lambda0+u/this.alpha,d=0,_=h,v=-1e3,p=0;Math.abs(_-v)>1e-7;){if(++p>20)return;d=1/this.alpha*(Math.log(Math.tan(Math.PI/4+h/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(_))/2)),v=_,_=2*Math.atan(Math.exp(d))-Math.PI/2}return t.x=c,t.y=_,t}var Rm=["somerc"];const Dm={init:Bm,forward:Nm,inverse:Zm,names:Rm};var Be=1e-7;function Fm(t){var i=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||i.indexOf(n)!==-1}function qm(){var t,i,n,o,a,h,u,c,d,_,v=0,p,y=0,M=0,P=0,b=0,T=0,E=0;this.no_off=Fm(this),this.no_rot="no_rot"in this;var I=!1;"alpha"in this&&(I=!0);var k=!1;if("rectified_grid_angle"in this&&(k=!0),I&&(E=this.alpha),k&&(v=this.rectified_grid_angle*Nt),I||k)y=this.longc;else if(M=this.long1,b=this.lat1,P=this.long2,T=this.lat2,Math.abs(b-T)<=Be||(t=Math.abs(b))<=Be||Math.abs(t-C)<=Be||Math.abs(Math.abs(this.lat0)-C)<=Be||Math.abs(Math.abs(T)-C)<=Be)throw new Error;var K=1-this.es;i=Math.sqrt(K),Math.abs(this.lat0)>O?(c=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*c*c,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/K),this.A=this.B*this.k0*i/t,o=this.B*i/(n*Math.sqrt(t)),a=o*o-1,a<=0?a=0:(a=Math.sqrt(a),this.lat0<0&&(a=-a)),this.E=a+=o,this.E*=Math.pow(_i(this.e,this.lat0,c),this.B)):(this.B=1/i,this.A=this.k0,this.E=o=a=1),I||k?(I?(p=Math.asin(Math.sin(E)/o),k||(v=E)):(p=v,E=Math.asin(o*Math.sin(p))),this.lam0=y-Math.asin(.5*(a-1/a)*Math.tan(p))/this.B):(h=Math.pow(_i(this.e,b,Math.sin(b)),this.B),u=Math.pow(_i(this.e,T,Math.sin(T)),this.B),a=this.E/h,d=(u-h)/(u+h),_=this.E*this.E,_=(_-u*h)/(_+u*h),t=M-P,t<-Math.pi?P-=An:t>Math.pi&&(P+=An),this.lam0=z(.5*(M+P)-Math.atan(_*Math.tan(.5*this.B*(M-P))/d)/this.B),p=Math.atan(2*Math.sin(this.B*z(M-this.lam0))/(a-1/a)),v=E=Math.asin(o*Math.sin(p))),this.singam=Math.sin(p),this.cosgam=Math.cos(p),this.sinrot=Math.sin(v),this.cosrot=Math.cos(v),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(o*o-1)/Math.cos(E))),this.lat0<0&&(this.u_0=-this.u_0)),a=.5*p,this.v_pole_n=this.ArB*Math.log(Math.tan(rt-a)),this.v_pole_s=this.ArB*Math.log(Math.tan(rt+a))}function Wm(t){var i={},n,o,a,h,u,c,d,_;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-C)>O){if(u=this.E/Math.pow(_i(this.e,t.y,Math.sin(t.y)),this.B),c=1/u,n=.5*(u-c),o=.5*(u+c),h=Math.sin(this.B*t.x),a=(n*this.singam-h*this.cosgam)/o,Math.abs(Math.abs(a)-1)<O)throw new Error;_=.5*this.ArB*Math.log((1-a)/(1+a)),c=Math.cos(this.B*t.x),Math.abs(c)<Be?d=this.A*t.x:d=this.ArB*Math.atan2(n*this.cosgam+h*this.singam,c)}else _=t.y>0?this.v_pole_n:this.v_pole_s,d=this.ArB*t.y;return this.no_rot?(i.x=d,i.y=_):(d-=this.u_0,i.x=_*this.cosrot+d*this.sinrot,i.y=d*this.cosrot-_*this.sinrot),i.x=this.a*i.x+this.x0,i.y=this.a*i.y+this.y0,i}function Hm(t){var i,n,o,a,h,u,c,d={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,i=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,i=t.y*this.cosrot+t.x*this.sinrot+this.u_0),o=Math.exp(-this.BrA*n),a=.5*(o-1/o),h=.5*(o+1/o),u=Math.sin(this.BrA*i),c=(u*this.cosgam+a*this.singam)/h,Math.abs(Math.abs(c)-1)<O)d.x=0,d.y=c<0?-C:C;else{if(d.y=this.E/Math.sqrt((1+c)/(1-c)),d.y=In(this.e,Math.pow(d.y,1/this.B)),d.y===1/0)throw new Error;d.x=-this.rB*Math.atan2(a*this.cosgam-u*this.singam,Math.cos(this.BrA*i))}return d.x+=this.lam0,d}var Gm=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const jm={init:qm,forward:Wm,inverse:Hm,names:Gm};function Um(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<O)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var i=Math.sin(this.lat1),n=Math.cos(this.lat1),o=Oi(this.e,i,n),a=_i(this.e,this.lat1,i),h=Math.sin(this.lat2),u=Math.cos(this.lat2),c=Oi(this.e,h,u),d=_i(this.e,this.lat2,h),_=_i(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>O?this.ns=Math.log(o/c)/Math.log(a/d):this.ns=i,isNaN(this.ns)&&(this.ns=i),this.f0=o/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(_,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function $m(t){var i=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=O&&(n=Hn(n)*(C-2*O));var o=Math.abs(Math.abs(n)-C),a,h;if(o>O)a=_i(this.e,n,Math.sin(n)),h=this.a*this.f0*Math.pow(a,this.ns);else{if(o=n*this.ns,o<=0)return null;h=0}var u=this.ns*z(i-this.long0);return t.x=this.k0*(h*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-h*Math.cos(u))+this.y0,t}function Vm(t){var i,n,o,a,h,u=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(i=Math.sqrt(u*u+c*c),n=1):(i=-Math.sqrt(u*u+c*c),n=-1);var d=0;if(i!==0&&(d=Math.atan2(n*u,n*c)),i!==0||this.ns>0){if(n=1/this.ns,o=Math.pow(i/(this.a*this.f0),n),a=In(this.e,o),a===-9999)return null}else a=-C;return h=z(d/this.ns+this.long0),t.x=h,t.y=a,t}var Km=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Xm={init:Um,forward:$m,inverse:Vm,names:Km};function Jm(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Ym(t){var i,n,o,a,h,u,c,d=t.x,_=t.y,v=z(d-this.long0);return i=Math.pow((1+this.e*Math.sin(_))/(1-this.e*Math.sin(_)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(_/2+this.s45),this.alfa)/i)-this.s45),o=-v*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),h=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(a)),u=this.n*h,c=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=c*Math.cos(u)/1,t.x=c*Math.sin(u)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Qm(t){var i,n,o,a,h,u,c,d,_=t.x;t.x=t.y,t.y=_,this.czech||(t.y*=-1,t.x*=-1),u=Math.sqrt(t.x*t.x+t.y*t.y),h=Math.atan2(t.y,t.x),a=h/Math.sin(this.s0),o=2*(Math.atan(Math.pow(this.ro0/u,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),i=Math.asin(Math.cos(this.ad)*Math.sin(o)-Math.sin(this.ad)*Math.cos(o)*Math.cos(a)),n=Math.asin(Math.cos(o)*Math.sin(a)/Math.cos(i)),t.x=this.long0-n/this.alfa,c=i,d=0;var v=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(i/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.e/2))-this.s45),Math.abs(c-t.y)<1e-10&&(d=1),c=t.y,v+=1;while(d===0&&v<15);return v>=15?null:t}var tp=["Krovak","krovak"];const ip={init:Jm,forward:Ym,inverse:Qm,names:tp};function qt(t,i,n,o,a){return t*a-i*Math.sin(2*a)+n*Math.sin(4*a)-o*Math.sin(6*a)}function Gn(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function jn(t){return .375*t*(1+.25*t*(1+.46875*t))}function Un(t){return .05859375*t*t*(1+.75*t)}function $n(t){return t*t*t*(35/3072)}function Ke(t,i,n){var o=i*n;return t/Math.sqrt(1-o*o)}function tn(t){return Math.abs(t)<C?t:t-Hn(t)*Math.PI}function Bs(t,i,n,o,a){var h,u;h=t/i;for(var c=0;c<15;c++)if(u=(t-(i*h-n*Math.sin(2*h)+o*Math.sin(4*h)-a*Math.sin(6*h)))/(i-2*n*Math.cos(2*h)+4*o*Math.cos(4*h)-6*a*Math.cos(6*h)),h+=u,Math.abs(u)<=1e-10)return h;return NaN}function ep(){this.sphere||(this.e0=Gn(this.es),this.e1=jn(this.es),this.e2=Un(this.es),this.e3=$n(this.es),this.ml0=this.a*qt(this.e0,this.e1,this.e2,this.e3,this.lat0))}function np(t){var i,n,o=t.x,a=t.y;if(o=z(o-this.long0),this.sphere)i=this.a*Math.asin(Math.cos(a)*Math.sin(o)),n=this.a*(Math.atan2(Math.tan(a),Math.cos(o))-this.lat0);else{var h=Math.sin(a),u=Math.cos(a),c=Ke(this.a,this.e,h),d=Math.tan(a)*Math.tan(a),_=o*Math.cos(a),v=_*_,p=this.es*u*u/(1-this.es),y=this.a*qt(this.e0,this.e1,this.e2,this.e3,a);i=c*_*(1-v*d*(1/6-(8-d+8*p)*v/120)),n=y-this.ml0+c*h/u*v*(.5+(5-d+6*p)*v/24)}return t.x=i+this.x0,t.y=n+this.y0,t}function sp(t){t.x-=this.x0,t.y-=this.y0;var i=t.x/this.a,n=t.y/this.a,o,a;if(this.sphere){var h=n+this.lat0;o=Math.asin(Math.sin(h)*Math.cos(i)),a=Math.atan2(Math.tan(i),Math.cos(h))}else{var u=this.ml0/this.a+n,c=Bs(u,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(c)-C)<=O)return t.x=this.long0,t.y=C,n<0&&(t.y*=-1),t;var d=Ke(this.a,this.e,Math.sin(c)),_=d*d*d/this.a/this.a*(1-this.es),v=Math.pow(Math.tan(c),2),p=i*this.a/d,y=p*p;o=c-d*Math.tan(c)/_*p*p*(.5-(1+3*v)*p*p/24),a=p*(1-y*(v/3+(1+3*v)*v*y/15))/Math.cos(c)}return t.x=z(a+this.long0),t.y=tn(o),t}var op=["Cassini","Cassini_Soldner","cass"];const ap={init:ep,forward:np,inverse:sp,names:op};function Ji(t,i){var n;return t>1e-7?(n=t*i,(1-t*t)*(i/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*i}var rp=1,hp=2,lp=3,up=4;function cp(){var t=Math.abs(this.lat0);if(Math.abs(t-C)<O?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<O?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var i;switch(this.qp=Ji(this.e,1),this.mmf=.5/(1-this.es),this.apa=xp(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),i=Math.sin(this.lat0),this.sinb1=Ji(this.e,i)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*i*i)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function fp(t){var i,n,o,a,h,u,c,d,_,v,p=t.x,y=t.y;if(p=z(p-this.long0),this.sphere){if(h=Math.sin(y),v=Math.cos(y),o=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+v*o:1+this.sinph0*h+this.cosph0*v*o,n<=O)return null;n=Math.sqrt(2/n),i=n*v*Math.sin(p),n*=this.mode===this.EQUIT?h:this.cosph0*h-this.sinph0*v*o}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(o=-o),Math.abs(y+this.lat0)<O)return null;n=rt-y*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),i=n*Math.sin(p),n*=o}}else{switch(c=0,d=0,_=0,o=Math.cos(p),a=Math.sin(p),h=Math.sin(y),u=Ji(this.e,h),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(c=u/this.qp,d=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:_=1+this.sinb1*c+this.cosb1*d*o;break;case this.EQUIT:_=1+d*o;break;case this.N_POLE:_=C+y,u=this.qp-u;break;case this.S_POLE:_=y-C,u=this.qp+u;break}if(Math.abs(_)<O)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:_=Math.sqrt(2/_),this.mode===this.OBLIQ?n=this.ymf*_*(this.cosb1*c-this.sinb1*d*o):n=(_=Math.sqrt(2/(1+d*o)))*c*this.ymf,i=this.xmf*_*d*a;break;case this.N_POLE:case this.S_POLE:u>=0?(i=(_=Math.sqrt(u))*a,n=o*(this.mode===this.S_POLE?_:-_)):i=n=0;break}}return t.x=this.a*i+this.x0,t.y=this.a*n+this.y0,t}function dp(t){t.x-=this.x0,t.y-=this.y0;var i=t.x/this.a,n=t.y/this.a,o,a,h,u,c,d,_;if(this.sphere){var v=0,p,y=0;if(p=Math.sqrt(i*i+n*n),a=p*.5,a>1)return null;switch(a=2*Math.asin(a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(y=Math.sin(a),v=Math.cos(a)),this.mode){case this.EQUIT:a=Math.abs(p)<=O?0:Math.asin(n*y/p),i*=y,n=v*p;break;case this.OBLIQ:a=Math.abs(p)<=O?this.lat0:Math.asin(v*this.sinph0+n*y*this.cosph0/p),i*=y*this.cosph0,n=(v-Math.sin(a)*this.sinph0)*p;break;case this.N_POLE:n=-n,a=C-a;break;case this.S_POLE:a-=C;break}o=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(i,n)}else{if(_=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i/=this.dd,n*=this.dd,d=Math.sqrt(i*i+n*n),d<O)return t.x=this.long0,t.y=this.lat0,t;u=2*Math.asin(.5*d/this.rq),h=Math.cos(u),i*=u=Math.sin(u),this.mode===this.OBLIQ?(_=h*this.sinb1+n*u*this.cosb1/d,c=this.qp*_,n=d*this.cosb1*h-n*this.sinb1*u):(_=n*u/d,c=this.qp*_,n=d*h)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),c=i*i+n*n,!c)return t.x=this.long0,t.y=this.lat0,t;_=1-c/this.qp,this.mode===this.S_POLE&&(_=-_)}o=Math.atan2(i,n),a=Mp(Math.asin(_),this.apa)}return t.x=z(this.long0+o),t.y=a,t}var _p=.3333333333333333,mp=.17222222222222222,pp=.10257936507936508,vp=.06388888888888888,gp=.0664021164021164,yp=.016415012942191543;function xp(t){var i,n=[];return n[0]=t*_p,i=t*t,n[0]+=i*mp,n[1]=i*vp,i*=t,n[0]+=i*pp,n[1]+=i*gp,n[2]=i*yp,n}function Mp(t,i){var n=t+t;return t+i[0]*Math.sin(n)+i[1]*Math.sin(n+n)+i[2]*Math.sin(n+n+n)}var wp=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Pp={init:cp,forward:fp,inverse:dp,names:wp,S_POLE:rp,N_POLE:hp,EQUIT:lp,OBLIQ:up};function ie(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function bp(){Math.abs(this.lat1+this.lat2)<O||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Oi(this.e3,this.sin_po,this.cos_po),this.qs1=Ji(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Oi(this.e3,this.sin_po,this.cos_po),this.qs2=Ji(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ji(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>O?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Lp(t){var i=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var o=Ji(this.e3,this.sin_phi),a=this.a*Math.sqrt(this.c-this.ns0*o)/this.ns0,h=this.ns0*z(i-this.long0),u=a*Math.sin(h)+this.x0,c=this.rh-a*Math.cos(h)+this.y0;return t.x=u,t.y=c,t}function Tp(t){var i,n,o,a,h,u;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),o=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),o=-1),a=0,i!==0&&(a=Math.atan2(o*t.x,o*t.y)),o=i*this.ns0/this.a,this.sphere?u=Math.asin((this.c-o*o)/(2*this.ns0)):(n=(this.c-o*o)/this.ns0,u=this.phi1z(this.e3,n)),h=z(a/this.ns0+this.long0),t.x=h,t.y=u,t}function Sp(t,i){var n,o,a,h,u,c=ie(.5*i);if(t<O)return c;for(var d=t*t,_=1;_<=25;_++)if(n=Math.sin(c),o=Math.cos(c),a=t*n,h=1-a*a,u=.5*h*h/o*(i/(1-d)-n/h+.5/t*Math.log((1-a)/(1+a))),c=c+u,Math.abs(u)<=1e-7)return c;return null}var Cp=["Albers_Conic_Equal_Area","Albers","aea"];const Ep={init:bp,forward:Lp,inverse:Tp,names:Cp,phi1z:Sp};function Op(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Ap(t){var i,n,o,a,h,u,c,d,_=t.x,v=t.y;return o=z(_-this.long0),i=Math.sin(v),n=Math.cos(v),a=Math.cos(o),u=this.sin_p14*i+this.cos_p14*n*a,h=1,u>0||Math.abs(u)<=O?(c=this.x0+this.a*h*n*Math.sin(o)/u,d=this.y0+this.a*h*(this.cos_p14*i-this.sin_p14*n*a)/u):(c=this.x0+this.infinity_dist*n*Math.sin(o),d=this.y0+this.infinity_dist*(this.cos_p14*i-this.sin_p14*n*a)),t.x=c,t.y=d,t}function zp(t){var i,n,o,a,h,u;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(i=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(i,this.rc),n=Math.sin(a),o=Math.cos(a),u=ie(o*this.sin_p14+t.y*n*this.cos_p14/i),h=Math.atan2(t.x*n,i*this.cos_p14*o-t.y*this.sin_p14*n),h=z(this.long0+h)):(u=this.phic0,h=0),t.x=h,t.y=u,t}var Ip=["gnom"];const kp={init:Op,forward:Ap,inverse:zp,names:Ip};function Bp(t,i){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(i)-n)<1e-6)return i<0?-1*C:C;for(var o=Math.asin(.5*i),a,h,u,c,d=0;d<30;d++)if(h=Math.sin(o),u=Math.cos(o),c=t*h,a=Math.pow(1-c*c,2)/(2*u)*(i/(1-t*t)-h/(1-c*c)+.5/t*Math.log((1-c)/(1+c))),o+=a,Math.abs(a)<=1e-10)return o;return NaN}function Np(){this.sphere||(this.k0=Oi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Zp(t){var i=t.x,n=t.y,o,a,h=z(i-this.long0);if(this.sphere)o=this.x0+this.a*h*Math.cos(this.lat_ts),a=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var u=Ji(this.e,Math.sin(n));o=this.x0+this.a*this.k0*h,a=this.y0+this.a*u*.5/this.k0}return t.x=o,t.y=a,t}function Rp(t){t.x-=this.x0,t.y-=this.y0;var i,n;return this.sphere?(i=z(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=Bp(this.e,2*t.y*this.k0/this.a),i=z(this.long0+t.x/(this.a*this.k0))),t.x=i,t.y=n,t}var Dp=["cea"];const Fp={init:Np,forward:Zp,inverse:Rp,names:Dp};function qp(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Wp(t){var i=t.x,n=t.y,o=z(i-this.long0),a=tn(n-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*a,t}function Hp(t){var i=t.x,n=t.y;return t.x=z(this.long0+(i-this.x0)/(this.a*this.rc)),t.y=tn(this.lat0+(n-this.y0)/this.a),t}var Gp=["Equirectangular","Equidistant_Cylindrical","eqc"];const jp={init:qp,forward:Wp,inverse:Hp,names:Gp};var Ph=20;function Up(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Gn(this.es),this.e1=jn(this.es),this.e2=Un(this.es),this.e3=$n(this.es),this.ml0=this.a*qt(this.e0,this.e1,this.e2,this.e3,this.lat0)}function $p(t){var i=t.x,n=t.y,o,a,h,u=z(i-this.long0);if(h=u*Math.sin(n),this.sphere)Math.abs(n)<=O?(o=this.a*u,a=-1*this.a*this.lat0):(o=this.a*Math.sin(h)/Math.tan(n),a=this.a*(tn(n-this.lat0)+(1-Math.cos(h))/Math.tan(n)));else if(Math.abs(n)<=O)o=this.a*u,a=-1*this.ml0;else{var c=Ke(this.a,this.e,Math.sin(n))/Math.tan(n);o=c*Math.sin(h),a=this.a*qt(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+c*(1-Math.cos(h))}return t.x=o+this.x0,t.y=a+this.y0,t}function Vp(t){var i,n,o,a,h,u,c,d,_;if(o=t.x-this.x0,a=t.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=O)i=z(o/this.a+this.long0),n=0;else{u=this.lat0+a/this.a,c=o*o/this.a/this.a+u*u,d=u;var v;for(h=Ph;h;--h)if(v=Math.tan(d),_=-1*(u*(d*v+1)-d-.5*(d*d+c)*v)/((d-u)/v-1),d+=_,Math.abs(_)<=O){n=d;break}i=z(this.long0+Math.asin(o*Math.tan(d)/this.a)/Math.sin(n))}else if(Math.abs(a+this.ml0)<=O)n=0,i=z(this.long0+o/this.a);else{u=(this.ml0+a)/this.a,c=o*o/this.a/this.a+u*u,d=u;var p,y,M,P,b;for(h=Ph;h;--h)if(b=this.e*Math.sin(d),p=Math.sqrt(1-b*b)*Math.tan(d),y=this.a*qt(this.e0,this.e1,this.e2,this.e3,d),M=this.e0-2*this.e1*Math.cos(2*d)+4*this.e2*Math.cos(4*d)-6*this.e3*Math.cos(6*d),P=y/this.a,_=(u*(p*P+1)-P-.5*p*(P*P+c))/(this.es*Math.sin(2*d)*(P*P+c-2*u*P)/(4*p)+(u-P)*(p*M-2/Math.sin(2*d))-M),d-=_,Math.abs(_)<=O){n=d;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),i=z(this.long0+Math.asin(o*p/this.a)/Math.sin(n))}return t.x=i,t.y=n,t}var Kp=["Polyconic","poly"];const Xp={init:Up,forward:$p,inverse:Vp,names:Kp};function Jp(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Yp(t){var i,n=t.x,o=t.y,a=o-this.lat0,h=n-this.long0,u=a/Tn*1e-5,c=h,d=1,_=0;for(i=1;i<=10;i++)d=d*u,_=_+this.A[i]*d;var v=_,p=c,y=1,M=0,P,b,T=0,E=0;for(i=1;i<=6;i++)P=y*v-M*p,b=M*v+y*p,y=P,M=b,T=T+this.B_re[i]*y-this.B_im[i]*M,E=E+this.B_im[i]*y+this.B_re[i]*M;return t.x=E*this.a+this.x0,t.y=T*this.a+this.y0,t}function Qp(t){var i,n=t.x,o=t.y,a=n-this.x0,h=o-this.y0,u=h/this.a,c=a/this.a,d=1,_=0,v,p,y=0,M=0;for(i=1;i<=6;i++)v=d*u-_*c,p=_*u+d*c,d=v,_=p,y=y+this.C_re[i]*d-this.C_im[i]*_,M=M+this.C_im[i]*d+this.C_re[i]*_;for(var P=0;P<this.iterations;P++){var b=y,T=M,E,I,k=u,K=c;for(i=2;i<=6;i++)E=b*y-T*M,I=T*y+b*M,b=E,T=I,k=k+(i-1)*(this.B_re[i]*b-this.B_im[i]*T),K=K+(i-1)*(this.B_im[i]*b+this.B_re[i]*T);b=1,T=0;var G=this.B_re[1],F=this.B_im[1];for(i=2;i<=6;i++)E=b*y-T*M,I=T*y+b*M,b=E,T=I,G=G+i*(this.B_re[i]*b-this.B_im[i]*T),F=F+i*(this.B_im[i]*b+this.B_re[i]*T);var mt=G*G+F*F;y=(k*G+K*F)/mt,M=(K*G-k*F)/mt}var R=y,Z=M,Q=1,ct=0;for(i=1;i<=9;i++)Q=Q*R,ct=ct+this.D[i]*Q;var zt=this.lat0+ct*Tn*1e5,he=this.long0+Z;return t.x=he,t.y=zt,t}var tv=["New_Zealand_Map_Grid","nzmg"];const iv={init:Jp,forward:Yp,inverse:Qp,names:tv};function ev(){}function nv(t){var i=t.x,n=t.y,o=z(i-this.long0),a=this.x0+this.a*o,h=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=a,t.y=h,t}function sv(t){t.x-=this.x0,t.y-=this.y0;var i=z(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=i,t.y=n,t}var ov=["Miller_Cylindrical","mill"];const av={init:ev,forward:nv,inverse:sv,names:ov};var rv=20;function hv(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=au(this.es)}function lv(t){var i,n,o=t.x,a=t.y;if(o=z(o-this.long0),this.sphere){if(!this.m)a=this.n!==1?Math.asin(this.n*Math.sin(a)):a;else for(var h=this.n*Math.sin(a),u=rv;u;--u){var c=(this.m*a+Math.sin(a)-h)/(this.m+Math.cos(a));if(a-=c,Math.abs(c)<O)break}i=this.a*this.C_x*o*(this.m+Math.cos(a)),n=this.a*this.C_y*a}else{var d=Math.sin(a),_=Math.cos(a);n=this.a*Vs(a,d,_,this.en),i=this.a*o*_/Math.sqrt(1-this.es*d*d)}return t.x=i,t.y=n,t}function uv(t){var i,n,o,a;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,i=t.y/this.a,this.sphere?(i/=this.C_y,o=o/(this.C_x*(this.m+Math.cos(i))),this.m?i=ie((this.m*i+Math.sin(i))/this.n):this.n!==1&&(i=ie(Math.sin(i)/this.n)),o=z(o+this.long0),i=tn(i)):(i=ru(t.y/this.a,this.es,this.en),a=Math.abs(i),a<C?(a=Math.sin(i),n=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(i)),o=z(n)):a-O<C&&(o=this.long0)),t.x=o,t.y=i,t}var cv=["Sinusoidal","sinu"];const fv={init:hv,forward:lv,inverse:uv,names:cv};function dv(){}function _v(t){for(var i=t.x,n=t.y,o=z(i-this.long0),a=n,h=Math.PI*Math.sin(n);;){var u=-(a+Math.sin(a)-h)/(1+Math.cos(a));if(a+=u,Math.abs(u)<O)break}a/=2,Math.PI/2-Math.abs(n)<O&&(o=0);var c=.900316316158*this.a*o*Math.cos(a)+this.x0,d=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=c,t.y=d,t}function mv(t){var i,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),i=Math.asin(n);var o=z(this.long0+t.x/(.900316316158*this.a*Math.cos(i)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),n=(2*i+Math.sin(2*i))/Math.PI,Math.abs(n)>1&&(n=1);var a=Math.asin(n);return t.x=o,t.y=a,t}var pv=["Mollweide","moll"];const vv={init:dv,forward:_v,inverse:mv,names:pv};function gv(){Math.abs(this.lat1+this.lat2)<O||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Gn(this.es),this.e1=jn(this.es),this.e2=Un(this.es),this.e3=$n(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Oi(this.e,this.sinphi,this.cosphi),this.ml1=qt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<O?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Oi(this.e,this.sinphi,this.cosphi),this.ml2=qt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=qt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function yv(t){var i=t.x,n=t.y,o;if(this.sphere)o=this.a*(this.g-n);else{var a=qt(this.e0,this.e1,this.e2,this.e3,n);o=this.a*(this.g-a)}var h=this.ns*z(i-this.long0),u=this.x0+o*Math.sin(h),c=this.y0+this.rh-o*Math.cos(h);return t.x=u,t.y=c,t}function xv(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var i,n,o,a;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1);var h=0;if(n!==0&&(h=Math.atan2(i*t.x,i*t.y)),this.sphere)return a=z(this.long0+h/this.ns),o=tn(this.g-n/this.a),t.x=a,t.y=o,t;var u=this.g-n/this.a;return o=Bs(u,this.e0,this.e1,this.e2,this.e3),a=z(this.long0+h/this.ns),t.x=a,t.y=o,t}var Mv=["Equidistant_Conic","eqdc"];const wv={init:gv,forward:yv,inverse:xv,names:Mv};function Pv(){this.R=this.a}function bv(t){var i=t.x,n=t.y,o=z(i-this.long0),a,h;Math.abs(n)<=O&&(a=this.x0+this.R*o,h=this.y0);var u=ie(2*Math.abs(n/Math.PI));(Math.abs(o)<=O||Math.abs(Math.abs(n)-C)<=O)&&(a=this.x0,n>=0?h=this.y0+Math.PI*this.R*Math.tan(.5*u):h=this.y0+Math.PI*this.R*-Math.tan(.5*u));var c=.5*Math.abs(Math.PI/o-o/Math.PI),d=c*c,_=Math.sin(u),v=Math.cos(u),p=v/(_+v-1),y=p*p,M=p*(2/_-1),P=M*M,b=Math.PI*this.R*(c*(p-P)+Math.sqrt(d*(p-P)*(p-P)-(P+d)*(y-P)))/(P+d);o<0&&(b=-b),a=this.x0+b;var T=d+p;return b=Math.PI*this.R*(M*T-c*Math.sqrt((P+d)*(d+1)-T*T))/(P+d),n>=0?h=this.y0+b:h=this.y0-b,t.x=a,t.y=h,t}function Lv(t){var i,n,o,a,h,u,c,d,_,v,p,y,M;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,o=t.x/p,a=t.y/p,h=o*o+a*a,u=-Math.abs(a)*(1+h),c=u-2*a*a+o*o,d=-2*u+1+2*a*a+h*h,M=a*a/d+(2*c*c*c/d/d/d-9*u*c/d/d)/27,_=(u-c*c/3/d)/d,v=2*Math.sqrt(-_/3),p=3*M/_/v,Math.abs(p)>1&&(p>=0?p=1:p=-1),y=Math.acos(p)/3,t.y>=0?n=(-v*Math.cos(y+Math.PI/3)-c/3/d)*Math.PI:n=-(-v*Math.cos(y+Math.PI/3)-c/3/d)*Math.PI,Math.abs(o)<O?i=this.long0:i=z(this.long0+Math.PI*(h-1+Math.sqrt(1+2*(o*o-a*a)+h*h))/2/o),t.x=i,t.y=n,t}var Tv=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Sv={init:Pv,forward:bv,inverse:Lv,names:Tv};function Cv(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Ev(t){var i=t.x,n=t.y,o=Math.sin(t.y),a=Math.cos(t.y),h=z(i-this.long0),u,c,d,_,v,p,y,M,P,b,T,E,I,k,K,G,F,mt,R,Z,Q,ct,zt;return this.sphere?Math.abs(this.sin_p12-1)<=O?(t.x=this.x0+this.a*(C-n)*Math.sin(h),t.y=this.y0-this.a*(C-n)*Math.cos(h),t):Math.abs(this.sin_p12+1)<=O?(t.x=this.x0+this.a*(C+n)*Math.sin(h),t.y=this.y0+this.a*(C+n)*Math.cos(h),t):(mt=this.sin_p12*o+this.cos_p12*a*Math.cos(h),G=Math.acos(mt),F=G?G/Math.sin(G):1,t.x=this.x0+this.a*F*a*Math.sin(h),t.y=this.y0+this.a*F*(this.cos_p12*o-this.sin_p12*a*Math.cos(h)),t):(u=Gn(this.es),c=jn(this.es),d=Un(this.es),_=$n(this.es),Math.abs(this.sin_p12-1)<=O?(v=this.a*qt(u,c,d,_,C),p=this.a*qt(u,c,d,_,n),t.x=this.x0+(v-p)*Math.sin(h),t.y=this.y0-(v-p)*Math.cos(h),t):Math.abs(this.sin_p12+1)<=O?(v=this.a*qt(u,c,d,_,C),p=this.a*qt(u,c,d,_,n),t.x=this.x0+(v+p)*Math.sin(h),t.y=this.y0+(v+p)*Math.cos(h),t):(y=o/a,M=Ke(this.a,this.e,this.sin_p12),P=Ke(this.a,this.e,o),b=Math.atan((1-this.es)*y+this.es*M*this.sin_p12/(P*a)),T=Math.atan2(Math.sin(h),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(h)),T===0?R=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(T)-Math.PI)<=O?R=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):R=Math.asin(Math.sin(h)*Math.cos(b)/Math.sin(T)),E=this.e*this.sin_p12/Math.sqrt(1-this.es),I=this.e*this.cos_p12*Math.cos(T)/Math.sqrt(1-this.es),k=E*I,K=I*I,Z=R*R,Q=Z*R,ct=Q*R,zt=ct*R,G=M*R*(1-Z*K*(1-K)/6+Q/8*k*(1-2*K)+ct/120*(K*(4-7*K)-3*E*E*(1-7*K))-zt/48*k),t.x=this.x0+G*Math.sin(T),t.y=this.y0+G*Math.cos(T),t))}function Ov(t){t.x-=this.x0,t.y-=this.y0;var i,n,o,a,h,u,c,d,_,v,p,y,M,P,b,T,E,I,k,K,G,F,mt,R;return this.sphere?(i=Math.sqrt(t.x*t.x+t.y*t.y),i>2*C*this.a?void 0:(n=i/this.a,o=Math.sin(n),a=Math.cos(n),h=this.long0,Math.abs(i)<=O?u=this.lat0:(u=ie(a*this.sin_p12+t.y*o*this.cos_p12/i),c=Math.abs(this.lat0)-C,Math.abs(c)<=O?this.lat0>=0?h=z(this.long0+Math.atan2(t.x,-t.y)):h=z(this.long0-Math.atan2(-t.x,t.y)):h=z(this.long0+Math.atan2(t.x*o,i*this.cos_p12*a-t.y*this.sin_p12*o))),t.x=h,t.y=u,t)):(d=Gn(this.es),_=jn(this.es),v=Un(this.es),p=$n(this.es),Math.abs(this.sin_p12-1)<=O?(y=this.a*qt(d,_,v,p,C),i=Math.sqrt(t.x*t.x+t.y*t.y),M=y-i,u=Bs(M/this.a,d,_,v,p),h=z(this.long0+Math.atan2(t.x,-1*t.y)),t.x=h,t.y=u,t):Math.abs(this.sin_p12+1)<=O?(y=this.a*qt(d,_,v,p,C),i=Math.sqrt(t.x*t.x+t.y*t.y),M=i-y,u=Bs(M/this.a,d,_,v,p),h=z(this.long0+Math.atan2(t.x,t.y)),t.x=h,t.y=u,t):(i=Math.sqrt(t.x*t.x+t.y*t.y),T=Math.atan2(t.x,t.y),P=Ke(this.a,this.e,this.sin_p12),E=Math.cos(T),I=this.e*this.cos_p12*E,k=-I*I/(1-this.es),K=3*this.es*(1-k)*this.sin_p12*this.cos_p12*E/(1-this.es),G=i/P,F=G-k*(1+k)*Math.pow(G,3)/6-K*(1+3*k)*Math.pow(G,4)/24,mt=1-k*F*F/2-G*F*F*F/6,b=Math.asin(this.sin_p12*Math.cos(F)+this.cos_p12*Math.sin(F)*E),h=z(this.long0+Math.asin(Math.sin(T)*Math.sin(F)/Math.cos(b))),R=Math.sin(b),u=Math.atan2((R-this.es*mt*this.sin_p12)*Math.tan(b),R*(1-this.es)),t.x=h,t.y=u,t))}var Av=["Azimuthal_Equidistant","aeqd"];const zv={init:Cv,forward:Ev,inverse:Ov,names:Av};function Iv(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function kv(t){var i,n,o,a,h,u,c,d,_=t.x,v=t.y;return o=z(_-this.long0),i=Math.sin(v),n=Math.cos(v),a=Math.cos(o),u=this.sin_p14*i+this.cos_p14*n*a,h=1,(u>0||Math.abs(u)<=O)&&(c=this.a*h*n*Math.sin(o),d=this.y0+this.a*h*(this.cos_p14*i-this.sin_p14*n*a)),t.x=c,t.y=d,t}function Bv(t){var i,n,o,a,h,u,c;return t.x-=this.x0,t.y-=this.y0,i=Math.sqrt(t.x*t.x+t.y*t.y),n=ie(i/this.a),o=Math.sin(n),a=Math.cos(n),u=this.long0,Math.abs(i)<=O?(c=this.lat0,t.x=u,t.y=c,t):(c=ie(a*this.sin_p14+t.y*o*this.cos_p14/i),h=Math.abs(this.lat0)-C,Math.abs(h)<=O?(this.lat0>=0?u=z(this.long0+Math.atan2(t.x,-t.y)):u=z(this.long0-Math.atan2(-t.x,t.y)),t.x=u,t.y=c,t):(u=z(this.long0+Math.atan2(t.x*o,i*this.cos_p14*a-t.y*this.sin_p14*o)),t.x=u,t.y=c,t))}var Nv=["ortho"];const Zv={init:Iv,forward:kv,inverse:Bv,names:Nv};var xt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ht={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Rv(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=C-rt/2?this.face=xt.TOP:this.lat0<=-(C-rt/2)?this.face=xt.BOTTOM:Math.abs(this.long0)<=rt?this.face=xt.FRONT:Math.abs(this.long0)<=C+rt?this.face=this.long0>0?xt.RIGHT:xt.LEFT:this.face=xt.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Dv(t){var i={x:0,y:0},n,o,a,h,u,c,d={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,o=t.x,this.face===xt.TOP)h=C-n,o>=rt&&o<=C+rt?(d.value=ht.AREA_0,a=o-C):o>C+rt||o<=-(C+rt)?(d.value=ht.AREA_1,a=o>0?o-bt:o+bt):o>-(C+rt)&&o<=-rt?(d.value=ht.AREA_2,a=o+C):(d.value=ht.AREA_3,a=o);else if(this.face===xt.BOTTOM)h=C+n,o>=rt&&o<=C+rt?(d.value=ht.AREA_0,a=-o+C):o<rt&&o>=-rt?(d.value=ht.AREA_1,a=-o):o<-rt&&o>=-(C+rt)?(d.value=ht.AREA_2,a=-o-C):(d.value=ht.AREA_3,a=o>0?-o+bt:-o-bt);else{var _,v,p,y,M,P,b;this.face===xt.RIGHT?o=He(o,+C):this.face===xt.BACK?o=He(o,+bt):this.face===xt.LEFT&&(o=He(o,-C)),y=Math.sin(n),M=Math.cos(n),P=Math.sin(o),b=Math.cos(o),_=M*b,v=M*P,p=y,this.face===xt.FRONT?(h=Math.acos(_),a=gs(h,p,v,d)):this.face===xt.RIGHT?(h=Math.acos(v),a=gs(h,p,-_,d)):this.face===xt.BACK?(h=Math.acos(-_),a=gs(h,p,-v,d)):this.face===xt.LEFT?(h=Math.acos(-v),a=gs(h,p,_,d)):(h=a=0,d.value=ht.AREA_0)}return c=Math.atan(12/bt*(a+Math.acos(Math.sin(a)*Math.cos(rt))-C)),u=Math.sqrt((1-Math.cos(h))/(Math.cos(c)*Math.cos(c))/(1-Math.cos(Math.atan(1/Math.cos(a))))),d.value===ht.AREA_1?c+=C:d.value===ht.AREA_2?c+=bt:d.value===ht.AREA_3&&(c+=1.5*bt),i.x=u*Math.cos(c),i.y=u*Math.sin(c),i.x=i.x*this.a+this.x0,i.y=i.y*this.a+this.y0,t.x=i.x,t.y=i.y,t}function Fv(t){var i={lam:0,phi:0},n,o,a,h,u,c,d,_,v,p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,o=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=ht.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=ht.AREA_1,n-=C):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=ht.AREA_2,n=n<0?n+bt:n-bt):(p.value=ht.AREA_3,n+=C),v=bt/12*Math.tan(n),u=Math.sin(v)/(Math.cos(v)-1/Math.sqrt(2)),c=Math.atan(u),a=Math.cos(n),h=Math.tan(o),d=1-a*a*h*h*(1-Math.cos(Math.atan(1/Math.cos(c)))),d<-1?d=-1:d>1&&(d=1),this.face===xt.TOP)_=Math.acos(d),i.phi=C-_,p.value===ht.AREA_0?i.lam=c+C:p.value===ht.AREA_1?i.lam=c<0?c+bt:c-bt:p.value===ht.AREA_2?i.lam=c-C:i.lam=c;else if(this.face===xt.BOTTOM)_=Math.acos(d),i.phi=_-C,p.value===ht.AREA_0?i.lam=-c+C:p.value===ht.AREA_1?i.lam=-c:p.value===ht.AREA_2?i.lam=-c-C:i.lam=c<0?-c-bt:-c+bt;else{var y,M,P;y=d,v=y*y,v>=1?P=0:P=Math.sqrt(1-v)*Math.sin(c),v+=P*P,v>=1?M=0:M=Math.sqrt(1-v),p.value===ht.AREA_1?(v=M,M=-P,P=v):p.value===ht.AREA_2?(M=-M,P=-P):p.value===ht.AREA_3&&(v=M,M=P,P=-v),this.face===xt.RIGHT?(v=y,y=-M,M=v):this.face===xt.BACK?(y=-y,M=-M):this.face===xt.LEFT&&(v=y,y=M,M=-v),i.phi=Math.acos(-P)-C,i.lam=Math.atan2(M,y),this.face===xt.RIGHT?i.lam=He(i.lam,-C):this.face===xt.BACK?i.lam=He(i.lam,-bt):this.face===xt.LEFT&&(i.lam=He(i.lam,+C))}if(this.es!==0){var b,T,E;b=i.phi<0?1:0,T=Math.tan(i.phi),E=this.b/Math.sqrt(T*T+this.one_minus_f_squared),i.phi=Math.atan(Math.sqrt(this.a*this.a-E*E)/(this.one_minus_f*E)),b&&(i.phi=-i.phi)}return i.lam+=this.long0,t.x=i.lam,t.y=i.phi,t}function gs(t,i,n,o){var a;return t<O?(o.value=ht.AREA_0,a=0):(a=Math.atan2(i,n),Math.abs(a)<=rt?o.value=ht.AREA_0:a>rt&&a<=C+rt?(o.value=ht.AREA_1,a-=C):a>C+rt||a<=-(C+rt)?(o.value=ht.AREA_2,a=a>=0?a-bt:a+bt):(o.value=ht.AREA_3,a+=C)),a}function He(t,i){var n=t+i;return n<-bt?n+=An:n>+bt&&(n-=An),n}var qv=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Wv={init:Rv,forward:Dv,inverse:Fv,names:qv};var $o=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],wn=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],uu=.8487,cu=1.3523,fu=Ti/5,Hv=1/fu,De=18,Ns=function(t,i){return t[0]+i*(t[1]+i*(t[2]+i*t[3]))},Gv=function(t,i){return t[1]+i*(2*t[2]+i*3*t[3])};function jv(t,i,n,o){for(var a=i;o;--o){var h=t(a);if(a-=h,Math.abs(h)<n)break}return a}function Uv(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function $v(t){var i=z(t.x-this.long0),n=Math.abs(t.y),o=Math.floor(n*fu);o<0?o=0:o>=De&&(o=De-1),n=Ti*(n-Hv*o);var a={x:Ns($o[o],n)*i,y:Ns(wn[o],n)};return t.y<0&&(a.y=-a.y),a.x=a.x*this.a*uu+this.x0,a.y=a.y*this.a*cu+this.y0,a}function Vv(t){var i={x:(t.x-this.x0)/(this.a*uu),y:Math.abs(t.y-this.y0)/(this.a*cu)};if(i.y>=1)i.x/=$o[De][0],i.y=t.y<0?-C:C;else{var n=Math.floor(i.y*De);for(n<0?n=0:n>=De&&(n=De-1);;)if(wn[n][0]>i.y)--n;else if(wn[n+1][0]<=i.y)++n;else break;var o=wn[n],a=5*(i.y-o[0])/(wn[n+1][0]-o[0]);a=jv(function(h){return(Ns(o,h)-i.y)/Gv(o,h)},a,O,100),i.x/=Ns($o[n],a),i.y=(5*n+a)*Nt,t.y<0&&(i.y=-i.y)}return i.x=z(i.x+this.long0),i}var Kv=["Robinson","robin"];const Xv={init:Uv,forward:$v,inverse:Vv,names:Kv};function Jv(){this.name="geocent"}function Yv(t){var i=Jl(t,this.es,this.a);return i}function Qv(t){var i=Yl(t,this.es,this.a,this.b);return i}var tg=["Geocentric","geocentric","geocent","Geocent"];const ig={init:Jv,forward:Yv,inverse:Qv,names:tg};var Rt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},gn={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function eg(){if(Object.keys(gn).forEach((function(n){if(typeof this[n]>"u")this[n]=gn[n].def;else{if(gn[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);gn[n].num&&(this[n]=parseFloat(this[n]))}gn[n].degrees&&(this[n]=this[n]*Nt)}).bind(this)),Math.abs(Math.abs(this.lat0)-C)<O?this.mode=this.lat0<0?Rt.S_POLE:Rt.N_POLE:Math.abs(this.lat0)<O?this.mode=Rt.EQUIT:(this.mode=Rt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,i=this.azi;this.cg=Math.cos(i),this.sg=Math.sin(i),this.cw=Math.cos(t),this.sw=Math.sin(t)}function ng(t){t.x-=this.long0;var i=Math.sin(t.y),n=Math.cos(t.y),o=Math.cos(t.x),a,h;switch(this.mode){case Rt.OBLIQ:h=this.sinph0*i+this.cosph0*n*o;break;case Rt.EQUIT:h=n*o;break;case Rt.S_POLE:h=-i;break;case Rt.N_POLE:h=i;break}switch(h=this.pn1/(this.p-h),a=h*n*Math.sin(t.x),this.mode){case Rt.OBLIQ:h*=this.cosph0*i-this.sinph0*n*o;break;case Rt.EQUIT:h*=i;break;case Rt.N_POLE:h*=-(n*o);break;case Rt.S_POLE:h*=n*o;break}var u,c;return u=h*this.cg+a*this.sg,c=1/(u*this.sw*this.h1+this.cw),a=(a*this.cg-h*this.sg)*this.cw*c,h=u*c,t.x=a*this.a,t.y=h*this.a,t}function sg(t){t.x/=this.a,t.y/=this.a;var i={x:t.x,y:t.y},n,o,a;a=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*a,o=this.pn1*t.y*this.cw*a,t.x=n*this.cg+o*this.sg,t.y=o*this.cg-n*this.sg;var h=fi(t.x,t.y);if(Math.abs(h)<O)i.x=0,i.y=t.y;else{var u,c;switch(c=1-h*h*this.pfact,c=(this.p-Math.sqrt(c))/(this.pn1/h+h/this.pn1),u=Math.sqrt(1-c*c),this.mode){case Rt.OBLIQ:i.y=Math.asin(u*this.sinph0+t.y*c*this.cosph0/h),t.y=(u-this.sinph0*Math.sin(i.y))*h,t.x*=c*this.cosph0;break;case Rt.EQUIT:i.y=Math.asin(t.y*c/h),t.y=u*h,t.x*=c;break;case Rt.N_POLE:i.y=Math.asin(u),t.y=-t.y;break;case Rt.S_POLE:i.y=-Math.asin(u);break}i.x=Math.atan2(t.x,t.y)}return t.x=i.x+this.long0,t.y=i.y,t}var og=["Tilted_Perspective","tpers"];const ag={init:eg,forward:ng,inverse:sg,names:og};function rg(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,i=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=i,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function hg(t){var i=t.x,n=t.y,o,a,h,u;if(i=i-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var c=this.radius_p/fi(this.radius_p*Math.cos(n),Math.sin(n));if(a=c*Math.cos(i)*Math.cos(n),h=c*Math.sin(i)*Math.cos(n),u=c*Math.sin(n),(this.radius_g-a)*a-h*h-u*u*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=this.radius_g-a,this.flip_axis?(t.x=this.radius_g_1*Math.atan(h/fi(u,o)),t.y=this.radius_g_1*Math.atan(u/o)):(t.x=this.radius_g_1*Math.atan(h/o),t.y=this.radius_g_1*Math.atan(u/fi(h,o)))}else this.shape==="sphere"&&(o=Math.cos(n),a=Math.cos(i)*o,h=Math.sin(i)*o,u=Math.sin(n),o=this.radius_g-a,this.flip_axis?(t.x=this.radius_g_1*Math.atan(h/fi(u,o)),t.y=this.radius_g_1*Math.atan(u/o)):(t.x=this.radius_g_1*Math.atan(h/o),t.y=this.radius_g_1*Math.atan(u/fi(h,o))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function lg(t){var i=-1,n=0,o=0,a,h,u,c;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*fi(1,o)):(n=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*fi(1,n));var d=o/this.radius_p;if(a=n*n+d*d+i*i,h=2*this.radius_g*i,u=h*h-4*a*this.C,u<0)return t.x=Number.NaN,t.y=Number.NaN,t;c=(-h-Math.sqrt(u))/(2*a),i=this.radius_g+c*i,n*=c,o*=c,t.x=Math.atan2(n,i),t.y=Math.atan(o*Math.cos(t.x)/i),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+o*o)):(n=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),a=n*n+o*o+i*i,h=2*this.radius_g*i,u=h*h-4*a*this.C,u<0)return t.x=Number.NaN,t.y=Number.NaN,t;c=(-h-Math.sqrt(u))/(2*a),i=this.radius_g+c*i,n*=c,o*=c,t.x=Math.atan2(n,i),t.y=Math.atan(o*Math.cos(t.x)/i)}return t.x=t.x+this.long0,t}var ug=["Geostationary Satellite View","Geostationary_Satellite","geos"];const cg={init:rg,forward:hg,inverse:lg,names:ug};function fg(t){t.Proj.projections.add(bs),t.Proj.projections.add(Ls),t.Proj.projections.add(gm),t.Proj.projections.add(Cm),t.Proj.projections.add(km),t.Proj.projections.add(Dm),t.Proj.projections.add(jm),t.Proj.projections.add(Xm),t.Proj.projections.add(ip),t.Proj.projections.add(ap),t.Proj.projections.add(Pp),t.Proj.projections.add(Ep),t.Proj.projections.add(kp),t.Proj.projections.add(Fp),t.Proj.projections.add(jp),t.Proj.projections.add(Xp),t.Proj.projections.add(iv),t.Proj.projections.add(av),t.Proj.projections.add(fv),t.Proj.projections.add(vv),t.Proj.projections.add(wv),t.Proj.projections.add(Sv),t.Proj.projections.add(zv),t.Proj.projections.add(Zv),t.Proj.projections.add(Wv),t.Proj.projections.add(Xv),t.Proj.projections.add(ig),t.Proj.projections.add(ag),t.Proj.projections.add(cg)}Qt.defaultDatum="WGS84";Qt.Proj=Ci;Qt.WGS84=new Qt.Proj("WGS84");Qt.Point=Ve;Qt.toPoint=Ql;Qt.defs=Ft;Qt.nadgrid=x_;Qt.transform=ks;Qt.mgrs=N_;Qt.version="__VERSION__";fg(Qt);const dg=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"})),_g=qc(dg);(function(t){(function(i){var n,o;n=Wl(),o=_g,t.exports=i(n,o)})(function(i,n){return n.__esModule&&n.default&&(n=n.default),i.Proj={},i.Proj._isProj4Obj=function(o){return typeof o.inverse<"u"&&typeof o.forward<"u"},i.Proj.Projection=i.Class.extend({initialize:function(o,a,h){var u=i.Proj._isProj4Obj(o);this._proj=u?o:this._projFromCodeDef(o,a),this.bounds=u?a:h},project:function(o){var a=this._proj.forward([o.lng,o.lat]);return new i.Point(a[0],a[1])},unproject:function(o,a){var h=this._proj.inverse([o.x,o.y]);return new i.LatLng(h[1],h[0],a)},_projFromCodeDef:function(o,a){if(a)n.defs(o,a);else if(n.defs[o]===void 0){var h=o.split(":");if(h.length>3&&(o=h[h.length-3]+":"+h[h.length-1]),n.defs[o]===void 0)throw"No projection definition for code "+o}return n(o)}}),i.Proj.CRS=i.Class.extend({includes:i.CRS,options:{transformation:new i.Transformation(1,0,-1,0)},initialize:function(o,a,h){var u,c,d,_;if(i.Proj._isProj4Obj(o)?(c=o,u=c.srsCode,_=a||{},this.projection=new i.Proj.Projection(c,_.bounds)):(u=o,d=a,_=h||{},this.projection=new i.Proj.Projection(u,d,_.bounds)),i.Util.setOptions(this,_),this.code=u,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new i.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var v=this.options.resolutions.length-1;v>=0;v--)this.options.resolutions[v]&&(this._scales[v]=1/this.options.resolutions[v])}this.infinite=!this.options.bounds},scale:function(o){var a=Math.floor(o),h,u,c,d;return o===a?this._scales[o]:(h=this._scales[a],u=this._scales[a+1],c=u-h,d=o-a,h+c*d)},zoom:function(o){var a=this._closestElement(this._scales,o),h=this._scales.indexOf(a),u,c,d;return o===a?h:a===void 0?-1/0:(c=h+1,u=this._scales[c],u===void 0?1/0:(d=u-a,(o-a)/d+h))},distance:i.CRS.Earth.distance,R:i.CRS.Earth.R,_closestElement:function(o,a){for(var h,u=o.length;u--;)o[u]<=a&&(h===void 0||h<o[u])&&(h=o[u]);return h}}),i.Proj.GeoJSON=i.GeoJSON.extend({initialize:function(o,a){this._callLevel=0,i.GeoJSON.prototype.initialize.call(this,o,a)},addData:function(o){var a;o&&(o.crs&&o.crs.type==="name"?a=new i.Proj.CRS(o.crs.properties.name):o.crs&&o.crs.type&&(a=new i.Proj.CRS(o.crs.type+":"+o.crs.properties.code)),a!==void 0&&(this.options.coordsToLatLng=function(h){var u=i.point(h[0],h[1]);return a.projection.unproject(u)})),this._callLevel++;try{i.GeoJSON.prototype.addData.call(this,o)}finally{this._callLevel--,this._callLevel===0&&delete this.options.coordsToLatLng}}}),i.Proj.geoJson=function(o,a){return new i.Proj.GeoJSON(o,a)},i.Proj.ImageOverlay=i.ImageOverlay.extend({initialize:function(o,a,h){i.ImageOverlay.prototype.initialize.call(this,o,null,h),this._projectedBounds=a},_animateZoom:function(o){var a=this._map.getZoomScale(o.zoom),h=i.point(this._projectedBounds.min.x,this._projectedBounds.max.y),u=this._projectedToNewLayerPoint(h,o.zoom,o.center);i.DomUtil.setTransform(this._image,u,a)},_reset:function(){var o=this._map.getZoom(),a=this._map.getPixelOrigin(),h=i.bounds(this._transform(this._projectedBounds.min,o)._subtract(a),this._transform(this._projectedBounds.max,o)._subtract(a)),u=h.getSize();i.DomUtil.setPosition(this._image,h.min),this._image.style.width=u.x+"px",this._image.style.height=u.y+"px"},_projectedToNewLayerPoint:function(o,a,h){var u=this._map.getSize()._divideBy(2),c=this._map.project(h,a)._subtract(u)._round(),d=c.add(this._map._getMapPanePos());return this._transform(o,a)._subtract(d)},_transform:function(o,a){var h=this._map.options.crs,u=h.transformation,c=h.scale(a);return u.transform(o,c)}}),i.Proj.imageOverlay=function(o,a,h){return new i.Proj.ImageOverlay(o,a,h)},i.Proj})})(kd);const Mg="/build/assets/pin-8f352ad9.svg";export{Ot as a,vg as i,Hl as l,Mg as m,pg as n,et as t,gg as u,xg as v,yg as y};
